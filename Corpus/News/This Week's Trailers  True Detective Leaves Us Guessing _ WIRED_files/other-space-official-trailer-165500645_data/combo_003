YUI.add("af-applet",function(e,t){"use strict";function x(e){if(!e)return e;var t=e.split("-");return t=o.map(t,function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),t.join(".")}function T(t){e.EventTarget.prototype.constructor.call(this),this.initializer(t)}var n=e.Af,r=n.Utils,i=e.Lang,s=e.Object,o=e.Array,u=n.Config,a=n.Bootstrap,f="container",l="guid",c="model",h="type",p="footer",d="header",v="edit",m="main",g=u.isDev(),y=i.isFunction,b=r.objectGetValue,w=r.objectMerge,E=r.perfStart,S=r.perfStop;e.extend(T,n.CompositeView,{views:{main:{region:m},settings:{region:v},remove:{region:v},moreinfo:{region:v},header:{region:d},footer:{region:p}},regions:{main:{view:m},header:{view:d},footer:{view:p},edit:{defer:!0,view:"settings"}},allowRegionLateBind:!1,initializer:function(r){var o=this;o.guid=r.guid,o.type=r.type,o.clientId=e.guid("appletClientId_"),o.container=e.one(r.container),o._destroyed=!1,o.views=w(o.views,r.views),o.regions=w(o.regions,r.regions),s.each(o.regions,function(t,n){var r=o.getRegion(n);r||(r=o.createRegion(n,t.selector))}),o._bootstrapMV(function(u){try{if(u)return;var a=r.type+":aptShowViews";E(a),s.each(o.regions,function(e,t){if(!e||!e.view)return;var n=o.getRegion(t),r;if(!n)return;i.isString(e.view)?r=o.getView(e.view):r=e.view,r&&n.showView(r)}),S(a)}catch(f){if(g)throw f;n.Beacon.error(t,{},{code:"appbstrap",message:f.stack||f.message,appletType:o.type})}}),o._eventHandlers=[],o._eventHandlers.push(o.after("*:showmessage",function(t){n.Message.show(o.get(f),t.showmessage)}))},destroy:function(){var e=this,t=e.get(c);e.destroyViews(),e._regions=e._views=e.views=e.regions=null,t&&(e.set(c,null,{silent:!0}),t.destroy()),o.each(e._eventHandlers,function(t){t&&t.detach()}),e._eventHandlers=null,e._destroyed=!0,e.fireEvent("appletdestroyed"),e.detachAll()},createView:function(t){var r=this,i,s,o=r.views[t],u=n.AppletDom.classes().view_container_prefix+t,p;return o&&o.region&&!r.getRegion(o.region)?null:(s=r._getViewClass(t),s?(i=e.merge({applet:r,name:t,guid:r.get(l),type:r.get(h),model:r.get(c),container:r.get(f).one("div."+u)},a.getViewMeta(r.get(l),t).config),i.container||(i.container=e.Node.create('<div class="'+u+'"/>')),p=new s(i),p.addTarget(r),r.setView(t,p),p):null)},fireEvent:function(e){var t=this;t.fire(e,{applet:{guid:t.get(l),type:t.get(h),clientId:t.clientId}})},getViews:function(){return this._views},get:function(e){return this[e]},set:function(e,t){this[e]=t},regionForView:function(e){var t=this.views&&this.views[e];return t?t.region:null},_bootstrapMV:function(e){var t=this,n=t.get(f),r=i.isValue(n.getData("applet-defer")),s={batch:r};n.one(".App-Toolbar_v2")&&(s.extraMods=["af-applet-editview","af-applet-settingsview"]),a.load(t.get(l),s,function(r){if(r){e(r);return}if(t._destroyed){e("applet was destroyed");return}var i=t.get(h),s=i+":aptCreateModel";E(s),t._createModel(),S(s),s=i+":aptCreateViews",E(s),t._createViews(),S(s),e()})},_createModel:function(){var e=this,t=e._getModelClass();e.set(c,new t({guid:e.get(l),type:e.get(h)}))},_createViews:function(){function c(e,t){var n=["js-applet-view-container"],i=r.one("div[data-region="+e+"]");if(!i)return;e!==t&&n.push(u+e),o.forEach(n,function(n){var r=i.one("div."+n);r&&r.replaceClass(n,u+t)})}var t=this,r=t.get(f),i=a.getMeta(t.get(l)).views,u=n.AppletDom.classes().view_container_prefix;s.each(i,function(r,i){var s;r=e.merge(t.views[i],r),r.isActiveView&&r.region&&(s=t.regions[r.region],s&&(s.view=i))}),s.each(t.regions,function(n,r){c(r,n.view);if(!n.defer){var i=n.view&&t.createView(n.view);i&&i.render()}})},_getModelClass:function(){var t=a.getModelClass(this.get(l),"applet_model");return y(t)?t:(t=b(e,x(this.get(h))+"AppletModel"),y(t)?t:n.AppletModel)},_getViewClass:function(t){var r=this,i=r.get(l),o=a.getViewClass(i,t),u;if(y(o))return o;o=b(e,x(r.get(h))+x(t)+"View");if(y(o))return o;u=a.getViewMeta(i,t);if(s.size(u)===0){if(t===p)return null;if(t===d)return null}return o=b(e.Af,"Applet"+x(t)+"View"),y(o)?o:r.views[t]&&r.views[t].region===v?e.Af.AppletEditView:n.AppletView}}),e.EventTarget&&e.augment(T,e.EventTarget,!0,null,{emitFacade:!0,prefix:"AfApplet"}),e.namespace("Af").Applet=T},"@VERSION@",{requires:["af-applet-dom","af-applet-model","af-applet-headerview","af-bootstrap","af-compositeview","af-config","af-utils","array-extras","event-custom","node","stencil-tooltip"]});
/*
YUI 3.18.1 (build f7e7bcb)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-touch",function(e,t){var n="scale",r="rotation",i="identifier",s=e.config.win,o={};e.DOMEventFacade.prototype._touch=function(t,s,o){var u,a,f,l,c;if(t.touches){this.touches=[],c={};for(u=0,a=t.touches.length;u<a;++u)l=t.touches[u],c[e.stamp(l)]=this.touches[u]=new e.DOMEventFacade(l,s,o)}if(t.targetTouches){this.targetTouches=[];for(u=0,a=t.targetTouches.length;u<a;++u)l=t.targetTouches[u],f=c&&c[e.stamp(l,!0)],this.targetTouches[u]=f||new e.DOMEventFacade(l,s,o)}if(t.changedTouches){this.changedTouches=[];for(u=0,a=t.changedTouches.length;u<a;++u)l=t.changedTouches[u],f=c&&c[e.stamp(l,!0)],this.changedTouches[u]=f||new e.DOMEventFacade(l,s,o)}n in t&&(this[n]=t[n]),r in t&&(this[r]=t[r]),i in t&&(this[i]=t[i])},e.Node.DOM_EVENTS&&e.mix(e.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1,MSPointerCancel:1,pointerdown:1,pointerup:1,pointermove:1,pointercancel:1}),s&&"ontouchstart"in s&&!(e.UA.chrome&&e.UA.chrome<6)?(o.start=["touchstart","mousedown"],o.end=["touchend","mouseup"],o.move=["touchmove","mousemove"],o.cancel=["touchcancel","mousecancel"]):s&&s.PointerEvent?(o.start="pointerdown",o.end="pointerup",o.move="pointermove",o.cancel="pointercancel"):s&&"msPointerEnabled"in s.navigator?(o.start="MSPointerDown",o.end="MSPointerUp",o.move="MSPointerMove",o.cancel="MSPointerCancel"):(o.start="mousedown",o.end="mouseup",o.move="mousemove",o.cancel="mousecancel"),e.Event._GESTURE_MAP=o},"3.18.1",{requires:["node-base"]});
YUI.add("af-applet-init",function(e,t){"use strict";function N(){this._defInit=s.getContext("default_appletinit")||g}var n=e.Af,r=n.AppletDom,i=n.Utils,s=n.Config,o=e.Lang,u=n.Bootstrap,a=e.Object,f=e.DOM,l=n.Beacon,c="appletinit",h="data-applet-init",p="appletsinit",d="critical",v="lazy",m="now",g="viewport",y="custom",b="js-appletiniting",w="applet-defer",E=null,S=i.perfStart,x=i.perfStop,T=s.isDev();N.prototype={name:"applet.init",execute:function(e,t,n){switch(t.action){case"page.init":this.initApplets(e),e.after("*:initapplet",function(t){var n=t.initapplet;this.initApplet(e,n)},this);break;case"applet.init":this.initApplet(e,t.params)}t.callback&&t.callback(),n()},initApplets:function(t){var n=this,r,s,o=[],l=i.screenTouchable()?"touchstart":"mouseenter";s=this._scan(t),o=o.concat(a.keys(s.now)),o=o.concat(a.keys(s.lazy)),o=o.concat(a.keys(s.viewport)),u.load(o,{},function(){a.each(s.now,function(r){e.later(5,n,function(){this.initApplet(t,{node:r})})})}),a.each(s.lazy,function(e){e.once(l,function(){this.initApplet(t,{node:e})},this)},this),a.size(s.viewport)&&(a.each(s.viewport,function(e,n){e.once(l,function(){delete s.viewport[n],this.initApplet(t,{node:e})},this)},this),r=e.one(window).after("scroll",i.throttle(function(){var i=f.viewportRegion();a.each(s.viewport,function(n,r){f.inRegion(n.getDOMNode(),i,!1)&&(delete s.viewport[r],e.later(5,this,function(){this.initApplet(t,{node:n})}))},n),r&&a.size(s.viewport)===0&&r.detach()},200))),e.publish(p,{fireOnce:!0,async:!0}),e.fire(p,{applets:t})},_scan:function(t){var n=this,i,s="aptsScanDOM",u={deferred:{},now:{},viewport:{},lazy:{}};return S(s),r.all(e.one("body"),function(e){var s=e.getData(),a=s[w],l=s["applet-init"],c=r.getGuid(e);if(o.isValue(a))return;l=l||n._defInit;switch(l){case d:n.initApplet(t,{node:e});break;case m:u.now[c]=e;break;case v:u.lazy[c]=e;break;case g:i=i||f.viewportRegion(),f.inRegion(e.getDOMNode(),i,!1)?u.now[c]=e:u.viewport[c]=e;break;case y:}}),x(s),u},initApplet:function(e,i){i=i||{},!i.node&&i.guid&&(i.node=r.getNode(i.guid));var s=i.node,o,u,a,f;if(!s||!s._node||s.hasClass(b))return E;o=r.getGuid(s),u=r.getType(s);if(e.applets[o]){if(!i.replace)return e.applets[o];try{e.applets[o].destroy()}catch(p){if(T)throw p;l.error(t,{},{code:"appdestroy",message:p.stack||p.message,appletType:u})}delete e.applets[o]}s.addClass(b),a=u+":aptNew",S(a),f={guid:o,type:u,container:"#"+s.get("id")};if(T)return e.applets[o]=new n.Applet(f),e.applets[o].addTarget(e),x(a),e.fire(c,{applet:{guid:o,type:u}}),s.removeClass(b),s.removeAttribute(h),e.applets[o];try{return e.applets[o]=new n.Applet(f),e.applets[o].addTarget(e),x(a),e.fire(c,{applet:{guid:o,type:u}}),s.removeAttribute(h),e.applets[o]}catch(d){return l.error(t,{},{code:"appinit",message:d.stack||d.message,appletType:u}),E}finally{s.removeClass(b)}}},e.namespace("Af").AppletInit=N},"@VERSION@",{requires:["af-applet","af-beacon","af-bootstrap","af-config","af-utils","event-touch","oop"]});
/*
YUI 3.18.1 (build f7e7bcb)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("template-base",function(e,t){function n(t,n){this.defaults=n,this.engine=t||e.Template.Micro,this.engine||e.error("No template engine loaded.")}n._registry={},n.register=function(e,t){return n._registry[e]=t,t},n.get=function(e){return n._registry[e]},n.render=function(t,r,i){var s=n._registry[t],o="";return s?o=s(r,i):e.error('Unregistered template: "'+t+'"'),o},n.prototype={compile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.compile(t,n)},precompile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.precompile(t,n)},render:function(t,n,r){return r=r?e.merge(this.defaults,r):this.defaults,this.engine.render?this.engine.render(t,n,r):this.engine.compile(t,r)(n,r)},revive:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.revive?this.engine.revive(t,n):t}},e.Template=e.Template?e.mix(n,e.Template):n},"3.18.1",{requires:["yui-base"]});
YUI.add("ape-af-templates-message",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,t){return e.write('<div role="alertdialog" tabindex="0" class="').reference(t.get("stencilLevel"),t,"h").write(" ").reference(t.get("stencilType"),t,"h").write('Alert js-msg" aria-labelledby="desc-').reference(t.get("guid"),t,"h").write('">').write("\n    ").write('<span class="Alert').reference(t.get("stencilLevel"),t,"h").write('Icon Icon Fl-start Mend-10"> ').reference(t.get("stencilIcon"),t,"h",["s"]).write('<b class="Hidden">').reference(t.get("stencilLevel"),t,"h").write("</b></span>").write("\n    ").write('<button class="AlertCloseBtn Icon Fl-end Mstart-10 ButtonNaked js-msg-close">&#xe009;<b class="Hidden">Close</b></button>').write("\n    ").write('<p id="desc-').reference(t.get("guid"),t,"h").write('" class="Bfc Reset Mt-2">').reference(t.get("content"),t,"h",["s"]).write("</p>").write("\n").write("</div>").write("\n")}return dust.register("ape-af-templates-message",e),e}()}(),dust.cache["ape-af:message.dust"]=dust.cache["ape-af:message"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["ape-af/templates/message"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
/*
YUI 3.18.1 (build f7e7bcb)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("selector-css2",function(e,t){var n="parentNode",r="tagName",i="attributes",s="combinator",o="pseudos",u=e.Selector,a={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:!0,_isXML:function(){var t=e.config.doc.createElement("div").tagName!=="DIV";return t}(),shorthand:{"\\#(-?[_a-z0-9]+[-\\w\\uE000]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w\\uE000]*)":"[className~=$1]"},operators:{"":function(t,n){return e.DOM.getAttribute(t,n)!==""},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}-?"},pseudos:{"first-child":function(t){return e.DOM._children(t[n])[0]===t}},_bruteQuery:function(t,n,r){var i=[],s=[],o,a=u._tokenize(t),f=a[a.length-1],l=e.DOM._getDoc(n),c,h,p,d,v;if(f){h=f.id,p=f.className,d=f.tagName||"*";if(n.getElementsByTagName)h&&(n.all||n.nodeType===9||e.DOM.inDoc(n))?s=e.DOM.allById(h,n):p?s=n.getElementsByClassName(p):s=n.getElementsByTagName(d);else{o=[],c=n.firstChild,v=d==="*";while(c){while(c)c.tagName>"@"&&(v||c.tagName===d)&&s.push(c),o.push(c),c=c.firstChild;while(o.length>0&&!c)c=o.pop().nextSibling}}s.length&&(i=u._filterNodes(s,a,r))}return i},_filterNodes:function(t,n,r){var i=0,s,o=n.length,a=o-1,f=[],l=t[0],c=l,h=e.Selector.getters,p,d,v,m,g,y,b,w;for(i=0;c=l=t[i++];){a=o-1,m=null;e:while(c&&c.tagName){v=n[a],b=v.tests,s=b.length;if(s&&!g)while(w=b[--s]){p=w[1],h[w[0]]?y=h[w[0]](c,w[0]):(y=c[w[0]],w[0]==="tagName"&&!u._isXML&&(y=y.toUpperCase()),typeof y!="string"&&y!==undefined&&y.toString?y=y.toString():y===undefined&&c.getAttribute&&(y=c.getAttribute(w[0],2)));if(p==="="&&y!==w[2]||typeof p!="string"&&p.test&&!p.test(y)||!p.test&&typeof p=="function"&&!p(c,w[0],w[2])){if(c=c[m])while(c&&(!c.tagName||v.tagName&&v.tagName!==c.tagName))c=c[m];continue e}}a--;if(!!g||!(d=v.combinator)){f.push(l);if(r)return f;break}m=d.axis,c=c[m];while(c&&!c.tagName)c=c[m];d.direct&&(m=null)}}return l=c=null,f},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:!0},"+":{axis:"previousSibling",direct:!0}},_parsers:[{name:i,re:/^\uE003(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\uE004'"]*)['"]?\uE004/i,fn:function(t,n){var r=t[2]||"",i=u.operators,s=t[3]?t[3].replace(/\\/g,""):"",o;if(t[1]==="id"&&r==="="||t[1]==="className"&&e.config.doc.documentElement.getElementsByClassName&&(r==="~="||r==="="))n.prefilter=t[1],t[3]=s,n[t[1]]=t[1]==="id"?t[3]:s;r in i&&(o=i[r],typeof o=="string"&&(t[3]=s.replace(u._reRegExpTokens,"\\$1"),o=new RegExp(o.replace("{val}",t[3]))),t[2]=o);if(!n.last||n.prefilter!==t[1])return t.slice(1)}},{name:r,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(e,t){var n=e[1];u._isXML||(n=n.toUpperCase()),t.tagName=n;if(n!=="*"&&(!t.last||t.prefilter))return[r,"=",n];t.prefilter||(t.prefilter="tagName")}},{name:s,re:/^\s*([>+~]|\s)\s*/,fn:function(e,t){}},{name:o,re:/^:([\-\w]+)(?:\uE005['"]?([^\uE005]*)['"]?\uE006)*/i,fn:function(e,t){var n=u[o][e[1]];return n?(e[2]&&(e[2]=e[2].replace(/\\/g,"")),[e[2],n]):!1}}],_getToken:function(e){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]}},_tokenize:function(t){t=t||"",t=u._parseSelector(e.Lang.trim(t));var n=u._getToken(),r=t,i=[],o=!1,a,f,l,c;e:do{o=!1;for(l=0;c=u._parsers[l++];)if(a=c.re.exec(t)){c.name!==s&&(n.selector=t),t=t.replace(a[0],""),t.length||(n.last=!0),u._attrFilters[a[1]]&&(a[1]=u._attrFilters[a[1]]),f=c.fn(a,n);if(f===!1){o=!1;break e}f&&n.tests.push(f);if(!t.length||c.name===s)i.push(n),n=u._getToken(n),c.name===s&&(n.combinator=e.Selector.combinators[a[1]]);o=!0}}while(o&&t.length);if(!o||t.length)i=[];return i},_replaceMarkers:function(e){return e=e.replace(/\[/g,"\ue003"),e=e.replace(/\]/g,"\ue004"),e=e.replace(/\(/g,"\ue005"),e=e.replace(/\)/g,"\ue006"),e},_replaceShorthand:function(t){var n=e.Selector.shorthand,r;for(r in n)n.hasOwnProperty(r)&&(t=t.replace(new RegExp(r,"gi"),n[r]));return t},_parseSelector:function(t){var n=e.Selector._replaceSelector(t),t=n.selector;return t=e.Selector._replaceShorthand(t),t=e.Selector._restore("attr",t,n.attrs),t=e.Selector._restore("pseudo",t,n.pseudos),t=e.Selector._replaceMarkers(t),t=e.Selector._restore("esc",t,n.esc),t},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(t,n){return e.DOM.getAttribute(t,n)},id:function(t,n){return e.DOM.getId(t)}}};e.mix(e.Selector,a,!0),e.Selector.getters.src=e.Selector.getters.rel=e.Selector.getters.href,e.Selector.useNative&&e.config.doc.querySelector&&(e.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"]="[class~=$1]")},"3.18.1",{requires:["selector-native"]});
/*
YUI 3.18.1 (build f7e7bcb)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("selector-css3",function(e,t){e.Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/,e.Selector._getNth=function(t,n,r,i){e.Selector._reNth.test(n);var s=parseInt(RegExp.$1,10),o=RegExp.$2,u=RegExp.$3,a=parseInt(RegExp.$4,10)||0,f=[],l=e.DOM._children(t.parentNode,r),c;u?(s=2,c="+",o="n",a=u==="odd"?1:0):isNaN(s)&&(s=o?1:0);if(s===0)return i&&(a=l.length-a+1),l[a-1]===t?!0:!1;s<0&&(i=!!i,s=Math.abs(s));if(!i){for(var h=a-1,p=l.length;h<p;h+=s)if(h>=0&&l[h]===t)return!0}else for(var h=l.length-a,p=l.length;h>=0;h-=s)if(h<p&&l[h]===t)return!0;return!1},e.mix(e.Selector.pseudos,{root:function(e){return e===e.ownerDocument.documentElement},"nth-child":function(t,n){return e.Selector._getNth(t,n)},"nth-last-child":function(t,n){return e.Selector._getNth(t,n,null,!0)},"nth-of-type":function(t,n){return e.Selector._getNth(t,n,t.tagName)},"nth-last-of-type":function(t,n){return e.Selector._getNth(t,n,t.tagName,!0)},"last-child":function(t){var n=e.DOM._children(t.parentNode);return n[n.length-1]===t},"first-of-type":function(t){return e.DOM._children(t.parentNode,t.tagName)[0]===t},"last-of-type":function(t){var n=e.DOM._children(t.parentNode,t.tagName);return n[n.length-1]===t},"only-child":function(t){var n=e.DOM._children(t.parentNode);return n.length===1&&n[0]===t},"only-of-type":function(t){var n=e.DOM._children(t.parentNode,t.tagName);return n.length===1&&n[0]===t},empty:function(e){return e.childNodes.length===0},not:function(t,n){return!e.Selector.test(t,n)},contains:function(e,t){var n=e.innerText||e.textContent||"";return n.indexOf(t)>-1},checked:function(e){return e.checked===!0||e.selected===!0},enabled:function(e){return e.disabled!==undefined&&!e.disabled},disabled:function(e){return e.disabled}}),e.mix(e.Selector.operators,{"^=":"^{val}","$=":"{val}$","*=":"{val}"}),e.Selector.combinators["~"]={axis:"previousSibling"}},"3.18.1",{requires:["selector-native","selector-css2"]});
YUI.add("af-message",function(e,t){"use strict";var n={ERR:"Doh! Something went wrong. Please try again.",ERR_LOAD:"Oops, something went wrong. Please try again.",ERR_SAVE_SETTINGS:"Oops, we couldn't save your preferences. Please try again.",ERR_SAVE:"Oops, something got stuck in our tubes. Please try again.",ERR_AUTH:"Oops, you need to log in again."},r,i="js-msg",s="D-n",o="info",u="page",a={error:"Error",important:"Important",info:"Info",success:"Success",warn:"Warning"},f={error:"&#xe046;",important:"&#xe046;",info:"&#xe035;",success:"&#xe063;",warn:"&#xe046;"},l={page:"Page",modal:"Modal",app:"App"};e.namespace("Af").Message={show:function(t,c,h,p){var d,v,m,g,y,b=c.template||"ape-af-templates-message";r||(r=e.Af.Utils.i18n("ape-af/strings"),e.Object.size(r)===0&&(r=n)),t=e.one(t),t||(t=e.one("body")),p||(t.get("nodeName")==="BODY"?p="page":t.hasClass("js-applet")?p="app":p="modal"),d=t.one(">."+i),v=c.level?c.level.toLowerCase():o,g=c.token,m=c.content,m||(g&&(m=r[g]),!m&&v==="error"&&(m=r.ERR)),y={guid:t.generateID(),stencilIcon:f[v]||f[o],stencilLevel:a[v]||a[o],stencilType:l[p]||l[u],content:m},dust.render(b,y,e.bind(function(n,r){if(n)return;var i=e.Node.create(r);i.addClass(s),d?d.replace(i):t.append(i),this._show(i)},this))},_show:function(t){function n(e){t.hide("fadeOut",{duration:e},function(){t.addClass(s),t.remove(!0)})}t=e.one(t);if(!t)return;t.removeClass(s).focus(),t.show("fadeIn",{duration:1});var r=t.one(".js-msg-close");r&&r.once("click",function(e){e.preventDefault(),n(1),t.addClass(s)})}}},"@VERSION@",{langBundles:["strings"],requires:["ape-af-templates-message","af-utils","node-base","selector-css3"]});
YUI.add("ape-af-lang-strings_en-us",function(e,t){e.Intl.add("ape-af/strings","en-US",{ERR:"Doh! Something went wrong. Please try again.",ERR_LOAD:"Oops, something went wrong. Please try again.",ERR_SAVE_SETTINGS:"Oops, we couldn't save your preferences. Please try again.",ERR_SAVE:"Oops, something got stuck in our tubes. Please try again.",ERR_AUTH:"Oops, you need to log in again."})},"@VERSION@",{requires:["intl"]});
YUI.add("ape-applet-templates-reload",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,t){return e.write('<div role="alertdialog" tabindex="0" class="js-msg Bgc-w" style="border:1px solid #000;border-radius:3px" aria-labelledby="desc-').reference(t.get("guid"),t,"h").write('">').write("\n    ").write('<p id="desc-').reference(t.get("guid"),t,"h").write('" class="Bfc Reset Mt-2 Ta-c">').reference(t.get("content"),t,"h",["s"]).write("</p>").write("\n    ").write('<button class="AlertReloadBtn Icon ButtonNaked js-applet-action D-b Mx-a My-10 Fz-2xl" data-applet-action="loadapplet">&#xe021;<b class="Hidden">Reload</b></button>').write("\n").write("</div>").write("\n")}return dust.register("ape-applet-templates-reload",e),e}()}(),dust.cache["ape-applet:reload.dust"]=dust.cache["ape-applet:reload"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["ape-applet/templates/reload"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
YUI.add("af-applet-load",function(e){"use strict";function s(){}var t=e.Af.AppletDom,n=e.Af.Utils,r=n.stringParseKV,i="applet-defer";s.prototype={name:"applet.load",execute:function(n,s,o){if(s.action==="applet.load"||s.action==="loadapplet"){var u=s.params.guid?t.getNode(s.params.guid):s.params.node;this.loadApplet(n,u,r(u.getData(i)),s.callback)}else s.action==="page.init"&&t.all(e.one("body"),e.bind(function(e){var t=e.getData(i);t&&(t=r(t),t.when!=="custom"&&this.loadApplet(n,e,t,s.callback))},this));o()},replaceAppletContent:function(t,n){if(!t||!n||!n.html)return;var r=e.Node.create(n.html),i;r=r.one("div.js-applet")||r,e.Af.Dom.setHTML(t,r.getHTML()),i=n.js||n.assets,i&&e.Af.Dom.jsAttach(i)},loadApplet:function(s,o,u,a){if(!o)return a&&a("invalid node");var f=this,l=t.getGuid(o),c=t.getType(o),h=r(o.getData("applet-params")),p=e.merge({guid:l,type:c,content_id:"chrome"},h),d={id_param:"guid"};u&&(u.batch&&(d.batch=u.batch),u.timeout&&(d.timeout=u.timeout)),e.Af.Transport.read("applet.content",p,{config:d},function(t,r){return t||!n.objectGetValue(r,"content.chrome.html")?(e.Af.Message.show(o,{level:"error",token:"ERR_LOAD",template:"ape-applet-templates-reload"}),a&&a(t)):(o.removeAttribute("data-"+i),f.replaceAppletContent(o,r.content.chrome),s.execControllers({action:"applet.init",params:{node:o,replace:!0}}),e.use("stencil",function(e){e.Stencil.initAll(o)}),s.fire("appletdeferload",{applet:{guid:l,type:c}}),a&&a(null))})}},e.namespace("Af").AppletLoad=s},"@VERSION@",{requires:["af-applet-dom","af-message","af-transport","ape-applet-templates-reload"]});
YUI.add("af-dom",function(e){"use strict";e.namespace("Af").Dom={parseForm:function(t){var n={};return e.one(t).all("input,select,textarea").each(function(t){var r=t.getData("setting")||t.get("name"),i=t.get("tagName"),s=t.get("type");if("INPUT"===i&&"radio"===s){t.get("checked")&&(n[r]=t.get("value"));return}if("INPUT"===i&&"checkbox"===s){t.get("checked")&&(e.Lang.isArray(n[r])||(n[r]=[]),n[r].push(t.get("value")));return}if("INPUT"===i&&("submit"===s||"reset"===s))return;n[r]=t.get("value")}),n},jsAttach:function(t,n){var r=e.Node.create("<div></div>"),i="",s,o;r.setContent(t),r.all("script").each(function(e){i+=e._node.text+";"}),s=e.one(document.createElement("script"));try{s.set("text",i)}catch(u){s._node.text=i}o=document.write,document.write=this.noop,n=n||e.one("head"),n.appendChild(s),document.write=o},purgeSubtree:function(e){e&&e.get("children").each(function(e){e.purge(!0)})},setHTML:function(e,t){e&&e.empty().setHTML(t)}}},"@VERSION@",{requires:["node-base","node-core"]});
/*
YUI 3.18.1 (build f7e7bcb)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-stringify",function(e,t){var n=e.namespace("QueryString"),r=[],i=e.Lang;n.escape=encodeURIComponent,n.stringify=function(e,t,s){var o,u,a,f,l,c,h=t&&t.sep?t.sep:"&",p=t&&t.eq?t.eq:"=",d=t&&t.arrayKey?t.arrayKey:!1;if(i.isNull(e)||i.isUndefined(e)||i.isFunction(e))return s?n.escape(s)+p:"";if(i.isBoolean(e)||Object.prototype.toString.call(e)==="[object Boolean]")e=+e;if(i.isNumber(e)||i.isString(e))return n.escape(s)+p+n.escape(e);if(i.isArray(e)){c=[],s=d?s+"[]":s,f=e.length;for(a=0;a<f;a++)c.push(n.stringify(e[a],t,s));return c.join(h)}for(a=r.length-1;a>=0;--a)if(r[a]===e)throw new Error("QueryString.stringify. Cyclical reference");r.push(e),c=[],o=s?s+"[":"",u=s?"]":"";for(a in e)e.hasOwnProperty(a)&&(l=o+a+u,c.push(n.stringify(e[a],t,l)));return r.pop(),c=c.join(h),!c&&s?s+"=":c}},"3.18.1",{requires:["yui-base"]});
YUI.add("af-content",function(e,t){"use strict";var n=e.Lang,r=e.Af.Utils,i=e.Af.Config,s=e.Af.Dom,o=e.Mjata.REST.HTTP,u=n.isFunction,a=n.isNumber,f=n.isObject,l=n.isString,c=r.objectGetValue,h="replace_content",p="replace",d=".js-applet",v="appletsinit";e.namespace("Af").Content={simple:function(t,n,i){return t=e.one(t),i=i||r.noop,!t||!n||!n.html?(i("invalid param"),this):(s.setHTML(t,n.html),n.js&&s.jsAttach(n.js),i(null),this)},applet:function(t,n,i,s){s=s||r.noop;if(!t||!n||!i)return s("invalid param");n=e.one(n);if(!n)return s("invalid node");var o;l(t)?(o=c(e,t),o?this._initApplet(o,i,{node:n,where:h},s):e.onceAfter(v,function(e){this._initApplet(e.applets,i,{node:n,where:h},s)},this)):f(t)?this._initApplet(t,i,{node:n,where:h},s):e.onceAfter(v,function(e){this._initApplet(e.applets,i,{node:n,where:h},s)},this)},remoteApplet:function(t,n,r){n=n||{};var s=i.get("context")||{},o=i.get("td")||{},u=e.merge(n.params,{initApplet:0,initStencil:0,m_id:n.type,m_mode:"json"}),f=n.placement&&n.placement.node,l=n.placement&&n.placement.where,c,h={},d,v=this;if(!n.type)return r&&r("missing options.type");f=e.one(f);if(!f)return r&&r("missing options.placement.node");a(l)||(l=l||p),window.location.protocol==="https:"?u.ssl=1:u.ssl=0,!u.site&&s.site&&(u.site=s.site),!u.lang&&s.lang&&(u.lang=s.lang),!u.region&&s.region&&(u.region=s.region),!u.xhr_path&&o.api&&(u.xhr_path=o.api),n.guid&&(u.instance_id=n.guid),c=n.uri||o.remote||"/_remote",a(n.timeout)&&n.timeout>0&&(h.timeout=n.timeout),d=n.method==="post"?"_post":"_get",v[d](t,c,u,f,l,h,r)},_get:function(t,n,r,i,s,u,a){var f=this,l;n+="?"+e.QueryString.stringify(r),o.get(n,{},u||{},function(e,n){f._parseContent(t,l,i,s,a,e,n)})},_post:function(e,t,n,r,i,s,u){var a=this,f;o.post(t,{},n,s||{},function(t,n){a._parseContent(e,f,r,i,u,t,n)})},_parseContent:function(t,n,r,i,s,o,u){var a=this;if(o)return s&&s(o);if(!u||!u.responseText)return s&&s("empty content");try{n=e.JSON.parse(u.responseText),a._initApplet(t,n,{node:r,where:i},s)}catch(f){return s&&s("invalid json content:"+f.message)}},_initApplet:function(t,n,r,i){if(!u(t.initApplet))return i("missing initApplet()");var s,o;r=e.merge({where:"replace"},r),n&&(r.where===h&&(o=e.Node.create(n.html),o=o.one("div.js-applet")||o,n.html=o.getHTML(),r.where="replace"),s=this._insert(n,r));if(!s)return i("missing applet node");e.use("stencil",function(e){var t=e.Stencil;t&&t.initAll&&t.initAll(s)}),e.later(5,null,function(){t.initApplet(s,!0),i(null)})},_insert:function(t,n){var r,i;n.node.insert(t.html,n.where);switch(n.where){case"before":r=n.node.previous(d);break;case"after":r=n.node.next(d);break;case"replace":r=n.node.one(d)||n.node;break;default:e.Lang.isNumber(n.where)&&(r=n.node.get("children").item(n.where))}return r&&(i=t.js||t.assets,i&&s.jsAttach(i)),r},rmp:function(t){e.use("media-rmp",function(e){e.Media.RMP.load(t)})}}},"@VERSION@",{requires:["af-config","af-dom","af-utils","json-parse","mjata-rest-http","node-pluginhost","querystring-stringify"]});
YUI.add("af-applet-mgr",function(e,t){"use strict";function u(){}function a(){}function f(){}function l(){}var n=e.Af.AppletDom,r=e.Af.Beacon,i=e.Af.Transport,s=e.Af.Utils,o=e.Lang.isFunction;u.prototype={name:"applet.add",execute:function(e,t,n){if(t.action!=="applet.add")return n();this.addApplet(e,t.params.type,t.params.config,t.params.settings,t.params.location,t.callback),n()},addApplet:function(t,r,o,u,a,f){f=f||s.noop;if(!r){f("missing type");return}a=a||{},a.container=a.container||n.getContainerGuid(e.one(n.selectors().container)),a.index=a.index||0,i.create("applet",{type:r},{config:o,settings:u,location:a},function(r,i){if(r||!s.objectGetValue(i,"content.chrome.html")){f(r||"no content");return}var o,u,l=n.getContainerNode(a.container),c=i.content.chrome;o=e.Node.create(c.html),l=n.getContainerContentNode(l),l.insert(o,a.index),c.assets&&e.Af.Dom.jsAttach(c.assets),t.execControllers({action:"applet.init",params:{node:o,replace:!1}}),e.use("stencil",function(e){e.Stencil.initAll(o)}),u=n.getGuid(o),t.fire("appletadd",{applet:{guid:u,type:n.getType(o)}}),f(null,null);return})}},a.prototype={name:"applet.move",execute:function(e,t,n){t.action==="applet.move"&&this.moveApplet(e,t.params.guid,t.params.from,t.params.to,t.params,t.callback),n()},moveApplet:function(e,t,r,u,a,f){o(a)&&(f=a,a={}),f=f||s.noop;var l,c=(a&&a.moveBeforePersist)===!0,h=(a&&a.save)!==!1,p=this;r=r||n.getLocation(t);if(!r||!u){f("invalid from/to location");return}l=n.getType(t);if(!h){p._updateDom(e,t,r,u),f();return}c&&p._updateDom(e,t,r,u),i.update("applet.layout",{guid:t,type:l},{from:r,to:u},function(n){if(n){f(n);return}c||p._updateDom(e,t,r,u),f()})},_updateDom:function(e,i,s,o){var u=e.applets[i];if(n.getContainerNode(o.container))n.move(i,s,o);else{n.remove(i);if(u){try{u.destroy({remove:!0})}catch(a){r.error(t+":destroy",{applet:u.get("type")},a)}delete e.applets[i]}}e.fire("appletmove",{applet:{guid:i,type:u?u.get("type"):null,from:s,to:o}})}},f.prototype={name:"applet.remote",execute:function(t,n,r){var i=e.Af.Content;n.action==="applet.remote"?i.remoteApplet(t,n.params,n.callback):n.action==="page.init"&&t.after("*:remoteapplet",function(e){var n=e.remoteapplet;i.remoteApplet(t,n,n&&n.callback)}),r()}},l.prototype={name:"applet.remove",execute:function(e,t,n){t.action==="applet.remove"||t.action==="removeapplet"?this.removeApplet(e,t.params.guid,t.params,t.callback):t.action==="page.init"&&e.after("*:removeapplet",function(t){this.removeApplet(e,t.removeapplet.guid||t.applet.guid,t.removeapplet)},this),n()},removeApplet:function(e,u,a,f){function p(){n.remove(u,function(){e.fire("appletremove",{applet:{guid:u,type:l}})});var i=e.applets[u];if(i){try{i.destroy({remove:!0})}catch(s){r.error(t+":destroy",{applet:l},s)}delete e.applets[u]}}o(a)&&(f=a,a={}),f=f||s.noop;if(!u){f("missing guid");return}var l=n.getType(u)||null,c=(a&&a.removeBeforePersist)===!0,h=(a&&a.save)!==!1;if(!h){p(),f();return}c&&p(),i.update("applet.layout",{guid:u,type:l},{from:n.getLocation(u),to:null},function(e){if(e){f(e);return}c||p(),f()})}},e.namespace("Af").AppletAdd=u,e.Af.AppletMove=a,e.Af.AppletRemote=f,e.Af.AppletRemove=l},"@VERSION@",{requires:["af-applet-dom","af-beacon","af-content","af-transport","af-utils"]});
YUI.add("af-applet-savesettings",function(e){"use strict";function n(){}var t="container";n.prototype={name:"applet.savesettings",execute:function(e,t,n){(t.action==="applet.savesettings"||t.action==="savesettings")&&this.saveSettings(e,t.params.guid,t.params),n()},saveSettings:function(n,r,i){if(!n.applets||!n.applets[r])return;i=i||{};var s=n.applets[r],o,u;i.src?o=s.get(t).one(i.src):(u=s.getView("settings"),o=u&&u.get("container").one("form"));if(!o)return;s.get("model").saveSettings(e.Af.Dom.parseForm(o),{critical:i.critical},function(o){if(o&&o.code==="invalid_settings"){e.Af.Message.show(s.get(t),{level:"error",content:o.message});return}if(i.showview){var u=s.getView(i.showview);u||(u=s.createView(i.showview),u&&u.render()),u&&n.execControllers({action:"showview",params:{guid:r,view:i.showview}})}o&&e.Af.Message.show(s.get(t),{level:"error",token:o})})}},e.namespace("Af").AppletSaveSettings=n},"@VERSION@",{requires:["af-dom","af-message"]});
YUI.add("af-applet-viewmgr",function(e){"use strict";function s(e){return e&&(e.isEditView||e.get("name")==="settings")}function o(e,t){e&&t&&e.destroyView(t,{remove:!0,async:!0})}function u(){}function a(){}function f(){}var t="main",n="edit",r="App-Chrome-on",i="container";u.prototype={name:"applet.showview",execute:function(e,t,n){t.action==="applet.showview"||t.action==="showview"?this.showView(e,t.params.guid,t.params):t.action==="page.init"&&e.after("*:showview",function(t){this.showView(e,t.applet&&t.applet.guid||t.target.get("guid"),t.showview)},this),n()},showView:function(e,n,u){if(!e.applets||!e.applets[n])return;u=u||{};var a=e.applets[n],f=u.view||t,l=u.region||a.regionForView(f)||t,c=u.destroy==="true"||u.destroy===!0,h=a.getRegion(l),p=a.getView(f),d;p||(p=a.createView(u.view),p&&p.render()),p&&(d=h.getView(),h.showView(p),s(p)?a.get(i).addClass(r):a.get(i).removeClass(r),d&&d!==p&&(s(d)||c)&&o(a,d))}},a.prototype={name:"applet.closeview",execute:function(e,t,n){t.action==="applet.closeview"||t.action==="closeview"?this.closeView(e,t.params.guid,t.params):t.action==="page.init"&&e.after("*:closeview",function(t){this.closeView(e,t.applet&&t.applet.guid||t.target.get("guid"),t.closeview)},this),n()},closeView:function(e,r,i){if(!e.applets||!e.applets[r])return;i=i||{};var u=e.applets[r],a=i.destroy==="true"||i.destroy===!0,f,l,c;c=u.getView(i.view),s(c)?f=n:f=u.regionForView(i.view)||t,l=u.getRegion(f),l&&(f===t?l.showView(u.getView(t)):l.closeView()),u.get("container").removeClass("App-Chrome-on"),(s(c)||a)&&o(u,c)}},f.prototype={name:"applet.refreshview",execute:function(e,t,n){(t.action==="applet.refreshview"||t.action==="refreshview")&&this.refreshView(e,t.params.guid,t.params),n()},refreshView:function(e,t,n){if(!e.applets||!e.applets[t])return;n=n||{};var r=e.applets[t],i=r.getView(n.view||"main");i||(i=r.createView(n.view)),i&&i.refresh(n)}},e.namespace("Af").AppletShowView=u,e.namespace("Af").AppletCloseView=a,e.namespace("Af").AppletRefreshView=f},"@VERSION@",{requires:["af-applet-dom"]});
YUI.add("af-applets",function(e,t){"use strict";function r(){var e=this;YUI.Env.Af=YUI.Env.Af||{},YUI.Env.Af.Applets=e,e.applets={},e._firstControllerNode=null,n(e.after)&&e.after("*:appletdestroyed",function(n){var r=n.applet||{},i=e.applets[r.guid];i&&r.clientId===i.clientId&&delete e.applets[r.guid]})}var n=e.Lang.isFunction;r.prototype={addController:function(e){if(!e||!e.name||"function"!=typeof e.execute)return!1;if(!this._firstControllerNode)return this._firstControllerNode={controller:e,next:null},!0;var t=this._firstControllerNode,n;while(t){if(t.controller.name===e.name)return t.controller=e,!0;n=t,t=t.next}return n.next={controller:e,next:null},!0},execControllers:function(e){if(!e||!e.action||!this._firstControllerNode)return;this._execController(e,this._firstControllerNode)},_execController:function(e,t){if(!e||!e.action||!t||!t.controller)return;var n=this;t.controller.execute(this,e,function(i){if(i)return;n._execController(e,t.next)})},initializer:function(t){t=t||{};var n=e.Af,r="aptsInitializer",i=this;n.Utils.perfStart(r),i.addController(new n.AppletInit),i.addController(new n.AppletLoad),i.addController(new n.AppletAdd),i.addController(new n.AppletRemote),i.addController(new n.AppletRemove),i.addController(new n.AppletMove),i.addController(new n.AppletAction),i.addController(new n.AppletShowView),i.addController(new n.AppletCloseView),i.addController(new n.AppletRefreshView),i.addController(new n.AppletSaveSettings),e.Array.forEach(t.controllers,function(e){i.addController(e)}),i.execControllers({action:"page.init"}),n.Utils.perfStop(r)},getAppletLayout:function(){return e.Af.AppletDom.getLayout()},addApplet:function(e,t,n,r,i){var s={type:e,config:t,settings:n,location:r};this.execControllers({action:"applet.add",params:s,callback:i})},initApplet:function(e,t,r){n(t)&&(r=t,t=!1);var i={replace:!!t};typeof e=="string"?i.guid=e:i.node=e,this.execControllers({action:"applet.init",params:i,callback:r})},loadApplet:function(e,t){var n={};typeof e=="string"?n.guid=e:n.node=e,this.execControllers({action:"applet.load",params:n,callback:t})},moveApplet:function(t,r,i,s,o){n(s)&&(o=s,s={});var u={action:"applet.move",params:e.merge({guid:t,from:r,to:i},s),callback:o};this.execControllers(u)},removeApplet:function(t,r,i){n(r)&&(i=r,r={});var s={action:"applet.remove",params:e.merge({guid:t},r),callback:i};this.execControllers(s)}},e.namespace("Af").Applets=r,e.Af.getApplet=function(t){return e.Af.Utils.objectGetValue(YUI.Env.Af,"Applets.applets."+t)||null}},"@VERSION@",{requires:["af-applet-action","af-applet-init","af-applet-load","af-applet-mgr","af-applet-savesettings","af-applet-viewmgr","af-dom","af-utils"]});

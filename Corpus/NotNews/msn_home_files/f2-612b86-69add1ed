var Perf,globalLeft,g_ashsC,g_hsSetup,canary;define("jqBehavior",["jquery","viewport"],function(n){return function(t,i,r){function u(n){var t=n.length;return t>1?function(){for(var i=0;i<t;i++)n[i]()}:t?n[0]:f}function f(){}if(typeof t!="function")throw"Behavior constructor must be a function";if(i&&typeof i!="object")throw"Defaults must be an object or null";if(r&&typeof r!="object")throw"Exclude must be an object or null";return r=r||{},function(f,e,o){function c(n){n&&(typeof n.setup=="function"&&l.push(n.setup),typeof n.teardown=="function"&&a.push(n.teardown),typeof n.update=="function"&&v.push(n.update))}var h;if(o&&typeof o!="object")throw"Options must be an object or null";var s=n.extend(!0,{},i,o),l=[],a=[],v=[],y=!0;if(r.query){if(typeof f!="string")throw"Selector must be a string";c(t(f,s))}else h=n(f,e),r.each?c(t(h,s)):(y=h.length>0,h.each(function(){var i=n(this);c(t(i,r.data?s:n.extend(!0,{},s,i.data?i.data():{})))}));return y?{setup:u(l),teardown:u(a),update:u(v)}:null}}});define("trackInfo.tokens",{spinTimeout:150,browserFilterTable:{webkit:"530.0.0",mozilla:"1.9.0"}});define("adTelemetry",["window","pageTime","pageStart","logging","adCommon"],function(n,t,i,r,u){function d(n){f.elems&&f.elems.length===0||(n&&(f.repmech=n),p(f,!0))}function v(n,t){if(n&&t){var r={st:i,repmech:n,elems:[]};r.elems.push(t);p(r,!1)}}function g(n,t,i,r){if(!f||!f.elems)return n;var u=a(t,i,r);return f.elems.push(u),u}function nt(){c=!1;f={elems:[],repmech:"",st:f.st};w();h=!1}function y(n,t){var i,r;e.clientId=e.trackAPI.client.clientId();e.domainId=e.trackAPI.sitePage.domainId;i={evt:"adimpr_update",rid:e.pageViewActivityId,di:e.domainId,clid:e.clientId,data:n,g:t?1:0};s.push(i);setTimeout(tt,0);t&&(r={st:n.st,repmech:n.repmech,elems:[]},f=r)}function p(n,t){if(n){if(s.length>b){r.error("adTelemetryMgr: exceeded max posting queue length.");return}if(t){if(h)return;h=!0}e.trackAPI?y(n,t):require(["trackInfo"],function(i){e.trackAPI=i;y(n,t)})}}function tt(){if(s.length!==0)for(var n;n=s.shift();)e.trackAPI.telemetryTracking.sendUpdate(n),n.global&&(h=!1)}function w(){c||(o?e.pageViewActivityId=o.getActivityId()||l.clientSettings.aid:require(["pageInstance","headData"],function(n,t){o||(o=n,l=t,e.pageViewActivityId=o.getActivityId()||l.clientSettings.aid)}),c=!0)}function a(n,t,i,r){return r=r||{},u.updateElementData(r,"ldmech",n),u.updateElementData(r,"id",t),u.updateElementData(r,"pg",i),r}function it(n,t,i,r,e){if(n&&n.telemetry){var o=n.telemetry;u.recordTiming(o,t,i,r);e&&setTimeout(function(){v("detcompl",o);n.telemetry=a("visch",n.friendlyId,n.pg);f&&f.elems&&f.elems[n.idx]&&(f.elems[n.idx]=n.telemetry)},0)}}function rt(n,t){n&&t!=null&&t!=undefined&&(this.pageStagingPayload[n]=t)}function ut(n,t){n&&t&&(u.updateElementData(n,"cid",t.CID),u.updateElementData(n,"asid",t.ASID))}var s=[],b=7,h=!1,c=!1,o=null,l=null,k=((n.performance||{}).timing||{}).responseStart||(n._timing||{}).start||+new Date,f={navst:i,rst:k,repmech:"",elems:[]},e={pageViewActivityId:null,clientId:null,domainId:null,trackAPI:null};return{buildNewTelemetryObject:a,pageStagingPayload:f,postTelemetryData:d,postTelemetryDataForElement:v,initializeElementData:g,resetPageStagingTelemetryForRefresh:nt,updatePageViewActivityId:w,recordAdOperation:it,updateGlobalData:rt,updateAdIdTelemetryData:ut}});define("adDetection",["document","pageTime","mediator","adCommon","dap","logging","perfPing","classList","dapmgr","adTelemetry","window"],function(n,t,i,r,u,f,e,o,s,h,c){function ot(t){function ui(n){n&&typeof n.completionCb=="function"&&n.completionCb();pi(n)}function li(){h.updatePageViewActivityId();t.sizeCharacteristics=u();t.telemetry=h.buildNewTelemetryObject("pgld",t.friendlyId,t.pg,t.telemetry);vi();h.pageStagingPayload&&h.pageStagingPayload.elems&&h.pageStagingPayload.elems.push(t.telemetry)}function c(n,i){if(t&&(r.checkAndSetAdVisibility(t),t.isVisible&&i)){var u=ei(t.elem);t.sizeCharacteristics=si(u);t.canDisplayAdChoices=!!(t.sizeCharacteristics.sizeBitmask&v)}}function ai(n,i){if(t.isRendered){var u=t.canDisplayAdChoices;c(n,i);u^t.canDisplayAdChoices&&hi(t.canDisplayAdChoices);r.setAdContainerDisplayState(t.htmlid,t.isVisible,t.canBeDisplayed||t.isRendered,t.canDisplayAdChoices)}}function fi(){return t&&(t.sizeCharacteristics.sizeBitmask&ut)>>k>=l}function vi(){function s(){var a,v,p,w,k,d;if(ot){a=t.htmlid;v=n.getElementById(a);do{if(!v){!(u%10);break}c(!1,!0);var y=t.isVisible,l=t.sizeCharacteristics.adSizeType,g=t.sizeCharacteristics.sizeBitmask,tt=t.canDisplayAdChoices;if(!y){h.recordAdOperation(t,"det",!1,"nonvisible",!1);return}if(!(g&ni))break;if(p=o==e,l===b||t.isLoaded||p){i.pub(st,t);h.recordAdOperation(t,"adld",!1,l,!1);ui(t);w=yi(t);h.updateAdIdTelemetryData(t.telemetry,w);r.updateElementData(t.telemetry,"w",t.sizeCharacteristics.actualWidth);r.updateElementData(t.telemetry,"h",t.sizeCharacteristics.actualHeight);k=t.forcefulDisplayInEffect&&t.forceDisplayOn||!t.forcefulDisplayInEffect&&l!==ft;r.setAdContainerDisplayState(a,y,k,tt);d=fi(t)?0:e*nt;setTimeout(function(){ai(!0,!0);r.updateElementData(t.telemetry,"w",t.sizeCharacteristics.actualWidth);r.updateElementData(t.telemetry,"h",t.sizeCharacteristics.actualHeight);h.recordAdOperation(t,"postlddet",!1,t.sizeCharacteristics.adSizeType,!0);fi(t)&&require(["adMonitoring"],function(n){n(t,nt,c)})},d);h.recordAdOperation(t,"det",!1,l,!1);return}++o}while(0);--u?ci=setTimeout(s,nt):(i.pub(ht,t),ui(t),f.warning("[CS001][adDetection.js] checkAndSetAdContainerVisibilityRec gave up waiting for ad content in container '"+t.htmlid+"' after "+ct+" retries; ad id: "+((t.telemetry||{}).cid||{})),h.recordAdOperation(t,"det",!1,"timeout",!0))}}var u=ct,e=10,o=0;h.recordAdOperation(t,"det",!0,null,!1);s()}function ei(n){var ct=u(),d,ut,b,i,et,ot,ft,c,st,ht;if(!n)return ct;var nt=u(),o=u(),s=u(),h=rt,t=o.sizeBitmask,r=u(),lt=n.querySelectorAll("iframe");for(c=0;d=lt[c];++c){try{ut=(d.contentDocument||(d.contentWindow||{}).document||{}).body}catch(at){pt||(f.error("[adDetection.js] Could not access content for an iFrame child of ad container; src: "+d.src+"; error: "+at.number),pt=!0)}if(ut){for(et=ut.childNodes.length-1;b=ut.childNodes[et];--et)if(b.nodeType===1&&b.nodeName!=="SCRIPT"&&b.style&&b.style.display!=="none"){e(b,r);i=r.sizeBitmask;h|=i&v;(i>t||(i&y)>(t&y)&&(i&p)>(t&p))&&(o.sizeBitmask=i,o.actualWidth=r.actualWidth,o.actualHeight=r.actualHeight,t=o.sizeBitmask);break}if(t&l&&!(t&a)&&(e(d,r),i=r.sizeBitmask,h|=r.sizeBitmask&v,(i>t||(i&y)>(t&y)&&(i&p)>(t&p))&&(o.sizeBitmask=i,o.actualWidth=r.actualWidth,o.actualHeight=r.actualHeight,t=o.sizeBitmask)),(t&g)==g)break}}for(t=s.sizeBitmask,ot=n.querySelectorAll("div"),c=0;ft=ot[c];++c)if((!ft.style||ft.style.display!=="none")&&(e(ft,r),i=r.sizeBitmask,h|=i&v,(i&y)>(t&y)&&(i&p)>(t&p)&&(s.sizeBitmask=i,s.actualWidth=r.actualWidth,s.actualHeight=r.actualHeight,t=s.sizeBitmask,(t&g)==g)))break;return e(n,nt),h||(h|=nt.sizeBitmask&v&&(!!(o.sizeBitmask&a)||!!(s.sizeBitmask&a))),st=(s.sizeBitmask&w)<<k|(o.sizeBitmask&w)<<it|(nt.sizeBitmask&w)<<tt|h,ht={sizeBitmask:st,iframeCharacteristics:o,divCharacteristics:s,containerCharacteristics:nt},ht}function oi(n,t,i,r,u,f){var c=0,e,o,s,h;if(!n||t!=="width"&&t!=="height"&&i!=="Width"&&i!=="Height")return rt;e=0;o=0;do{if(s="scroll"+i,(o=n[s])>e&&o>r&&(s="client"+i,(o=n[s])>e&&o>r&&(s="offset"+i,(o=n[s])>e&&o<u&&(e=o,e>r))))break;if(s=t,(o=n[s])>e&&o<u&&(e=o,e>r))break;if(s="pixel"+i,n.style){if((o=n.style[s])>e&&o<u&&(e=o,e>r))break;s=t;(o=parseInt(n.style[s]))>e&&o<u&&(e=o)}}while(0);return c=e,t==="width"?(h=l,e>r?h|=d:e>0&&(h|=lt),f.actualWidth=c):(h=l,e>r?(h|=a,e>wt&&(h|=v)):e>0&&(h|=at),f.actualHeight=c),h}function u(){return{adSizeType:ft,sizeBitmask:rt,actualWidth:0,actualHeight:0}}function e(n,t){var i=oi(n,"width","Width",kt,dt,t),r=oi(n,"height","Height",bt,gt,t);t.sizeBitmask=i|r}function si(n){function e(n,t,r,u){var f,e=r.sizeBitmask,o=(e&ut)>>k&i,s=(e&vt)>>it&i,h=(e&w)>>tt&i;return((h&n)==n?(f=r.containerCharacteristics,u.adSizeType=t):(s&n)==n?(f=r.iframeCharacteristics,u.adSizeType=t):(o&n)==n&&(f=r.divCharacteristics,u.adSizeType=t),u.adSizeType==t)?(u.actualWidth=f.actualWidth,u.actualHeight=f.actualHeight,!0):!1}var t=u(),o=ti,s=ii,i=o|s,r=n.sizeBitmask;t.sizeBitmask=r;var f=(r&ut)>>k&i,h=(r&vt)>>it&i,c=(r&w)>>tt&i;return c<=l&&h<=l&&f<=l?(t.adSizeType=ft,t):f>l?(t.adSizeType=f&a?b:yt,t.actualWidth=n.divCharacteristics.actualWidth,t.actualHeight=n.divCharacteristics.actualHeight,t):(e(s,b,n,t)||e(o,yt,n,t)||(t.adSizeType=ri),t)}function yi(n){var t,i;return!n||!s||!s.adCont||!s.creativeData?null:(t=s.creativeData[(s.adCont[n.idx]||{}).ifrmid],!t)?null:(i='{"cid":"'+(t.CID||"")+'","pid":"'+(t.PID||"")+'","tid":"'+(t.TargetID||"")+'"}',n.elem.setAttribute("data-adid",i),t)}function pi(){hi(t.sizeCharacteristics.adSizeType==b)}function hi(n){var i=((t.elem||{}).parentNode||{}).parentNode,f,r,u;i&&(f="full-width",r=o.contains(i,et),n&&(i.style.height="",r||(o.add(i,et),o.contains(i,"widead")&&(u=(i.parentNode||{}).parentNode,u&&wi(u,f,"visible")))),!n&&r&&o.remove(i,et))}function wi(n,t,i){o.contains(n,t)&&(n.style.overflow=i)}function bi(){ot=!1}var ci,ot=!0;return{startDetection:li,stopDetection:bi}}var st="adloaded",ht="adrerendered",ct=30,nt=200,tt=0,it=5,k=10,wt=31,bt=31,kt=41,dt=3e3,gt=2e3,rt=0,l=1,lt=2,d=4,at=8,a=16,g=21,w=31,vt=992,ut=31744,ni=1056,ti=10,ii=20,v=32768,y=d|lt,p=a|at,ft=0,yt=1,b=2,ri=3,pt=!1,et="non-empty-ad";return c.addEventListener?c.addEventListener("unload",h.postTelemetryData.bind(null,"unload")):c.attachEvent&&c.attachEvent("onunload",function(){h.postTelemetryData("unload")}),function(){}(),ot.adLoadedEvent=st,ot.adRerenderedEvent=ht,ot});define("adRefresh",["dap","mediator","adTelemetry"],function(n,t,i){function u(u){var s,l,a,o,e,f,h,y,c,v;if(i.postTelemetryData("refresh"),i.resetPageStagingTelemetryForRefresh(),u!==!0){for(s=n.adPlacements,o={},h=0;f=s[h];h++)i.pageStagingPayload&&i.pageStagingPayload.elems&&(f.telemetry=i.buildNewTelemetryObject("refresh",f.friendlyId,f.pg),i.pageStagingPayload.elems.push(f.telemetry)),f.isRendered&&f.detectionObject&&f.detectionObject.stopDetection(),l=f.elem.parentNode.parentNode,a=l.offsetHeight,a&&(l.style.height=a+"px"),i.trackingData&&i.trackingData.pageViewActivityId&&(f.params=f.params.replace(/PVGUID=[^&]*/,"PVGUID="+i.trackingData.pageViewActivityId)),f.adType===r?(e=o[f.htmlid],e||(e=[],o[f.htmlid]=e),e.push(f),s.splice(h--,1)):f.order=null;for(y in o)for(e=o[y],e.unshift(e.splice(-1,1)[0]),c=0;v=e[c];c++)v.order=c+10,s.push(v);t.pub("adrefresh")}}var r=3;return{refresh:u}});define("implicitPersonalizationTracker",["headData","getCookie","setCookie","classList","window","document","jquery","c.onload"],function(n,t,i,r,u,f,e){function it(){var f=[c,w.homepage],r=c,u=0,t=o[h],n,i;if(t)for(n in t)i=t[n],t.hasOwnProperty(n)&&typeof i=="number"&&i>u&&f.indexOf(n)==-1&&(u=i,r=n);return r}function rt(){var i=0,n=o[h],t;if(n)for(t in n)n.hasOwnProperty(t)&&typeof n[t]=="number"&&(i+=n[t]);return i}function d(n){return w[n]||c}function g(n,t){var i=o[n];i&&(i[t]&&typeof i[t]=="number"?i[t]+=1:i[t]=1)}function nt(n){o&&(o._t=(new Date).getTime()/1e3,o._v=tt,i(y,u.JSON.stringify(n),30,i.topDomain,"/"))}var y="ipt",tt="1",p=e("body").hasClass("toolspage"),h="v",c="U",w={news:"A",weather:"B",entertainment:"C",sports:"D",finance:"E",lifestyle:"F",health:"G",foodanddrink:"H",travel:"I",autos:"J",video:"K",homepage:"L",movies:"M",games:"N",music:"O",tv:"P"},b={ap:"a",gp:"b",vp:"c",sp:"d",hp:"e"},k={v:{},pt:{}},l="",o=k,a,s,v;if(!p){if(n.clientSettings==null)return 1;a=d(n.clientSettings.vk);s="u";for(v in b)if(r.contains(f.body,v)){s=b[v];break}}if(l=t(y),l)try{o=u.JSON.parse(l)}catch(ut){}return!p&&o&&(g(h,a),g("pt",s),nt(o)),{getCookieFormat:k,getIptCookie:o,getTopVerticalId:it,getTotalVerticalViewCount:rt,getVerticalId:d,pageType:s,saveIptCookie:nt,values:o,verticalName:a}});define("afire",["image"],function(n){return function(t){if(t){var i=new n;i.onload=i.onerror=function(){i.onload=i.onerror=null};i.src=t.replace(/&amp;/gi,"&")}}});define("track.generic",["track","extend","trackInfo"],function(n,t,i){function r(n){this.defaultOpts=t(!0,{},u,n);this.samplingRate=this.defaultOpts.samplingRate}var u={base:"",samplingRate:100,eventAlias:{submit:"click",mouseenter:"click",mouseleave:"click",click_nonnav:"click",mouseenter_nav:"click",contextmenu:"click"}};return r.prototype={getEventTrackingUrl:function(t){var u=this.defaultOpts,r,f;return(t||(t=(i.event||{}).type),r=u[t],!r&&u.eventAlias&&(r=u[u.eventAlias[t]]),r)?(f=u.base+(r.url?r.url:""),n.generateUrl(f,u.common,u.commonMap,r.param,r.paramMap)):""},getPageViewTrackingUrl:function(){return this.getEventTrackingUrl("impr")}},r});define("visibility",["window","document"],function(n,t){function f(){function r(){if(t){for(var u=[],r=0,r=0;r<n.length;r++)try{n[r](i)}catch(f){u.push(f)}if(n=[],u.length)throw u;}}function u(){t=!0;i=arguments;r()}function f(){return{then:function(t){n.push(t);r()},always:function(){return this.then(arguments)}}}var n=[],t=!1,i=null;return{promise:f,resolve:u}}function s(){var r=["webkit","moz","ms","o"],n,i;if(typeof t.hidden!="undefined")return"hidden";for(n=0;n<r.length;n++)if(i=r[n]+"Hidden",i in t)return i}function u(){return i?t[i]:!1}function o(){u()?r=new f:r.resolve()}function h(i,r,f,e){var s,h,c;if(u()||!i)return!1;e=e||n.innerHeight;r=r||n.innerWidth;f||(f=0,s=t.getElementById("content"),s&&(h=s.getBoundingClientRect(),r=h.right,f=h.left));c=!1;i instanceof jQuery&&(i=i[0]);var o=i.getBoundingClientRect(),l=o.top>=0&&o.top<e,v=o.left>=f&&o.left<r,y=o.right>f&&o.right<=r,a=o.bottom>=0&&o.bottom<e;return c=o.height!==0||o.width!==0,c&&((l||a)&&(v||y)||l&&a)}function c(){return r.promise()}var r=new f,i=s(),e;return i&&(e=i.replace(/[H|h]idden/,"")+"visibilitychange",t.addEventListener(e,o)),o(),{isHidden:u,notifyWhenPageVisible:c,isElementTrulyVisible:h}});define("trackInfo",["trackInfo.tokens","dom","pageInstance","getCookie","screen","window","document","viewAware","deviceGroup","logging","visibility"],function(n,t,i,r,u,f,e,o,s,h,c){function rt(n,t){this.element=n;this.visible=t;this.visible&&(this.compress=function(){var n=this.element.getAttribute("data-m"),t=n.replace(/\'/g,'"');try{return JSON.parse(t)}catch(i){return n}})}function nt(){f.innerWidth?(p=f.innerWidth,w=f.innerHeight):(p=e.documentElement.clientWidth,w=e.documentElement.clientHeight)}function tt(n){if(n){var i=d(n),r=k(i,"data-aop")||k(i,"data-region"),t;return(t=tt(i),t&&r)?[t,r].join(l.cmSeparator):r||t}}function it(n){if(n){var r=d(n),i=k(r,"data-region"),t;return(t=it(r),t&&i)?[t,i].join(l.cmSeparator):i||t}}var k=t.attr,d=t.parent,y,g,p,w,a,b=[],v="",l={notrack:"notrack",cmSeparator:">",defaultModule:"body",defaultFormHeadline:"[form submit]",piitxt:"data-piitxt",piiurl:"piiurl",wrapperId:"wrapper",defaultConnectionType:"LAN",smpCookie:"Sample",smpExp:182,MUIDCookie:"MUID",spinTimeout:n.spinTimeout,trackTcm:"tcm",trackAop:"aop",curAop:"",trackRegion:"region",curRegion:"",event:{},sitePage:{},userStatic:{},oobWaitTime:150,enableOOB:1,bwVerTable:n.browserFilterTable,client:{clientId:function(){return y||y===""||(y=r(l.MUIDCookie)||l.sitePage.requestId||""),y},OTFTelemetry:function(n){require(["binding","c.deferred"],function(){var t,s,r,u,h,c,o,i;typeof n=="undefined"?n="load":n==null&&(n="");b=[];t=e.body.querySelectorAll("[data-m]");s=f.innerHeight;r=f.innerWidth;u=0;h=e.getElementById("content");h&&(c=h.getBoundingClientRect(),r=c.right,u=c.left);var a=e.body.querySelector(".ip")||e.body.querySelector(".mip")||e.body.querySelector(".sip"),y=a&&l.telemetryTracking.isVisible(a,r,u,s),v=[];for(o=0;o<t.length;o++)v.push(l.telemetryTracking.isVisible(t[o],r,u,s,y));for(i=0;i<t.length;i++)b.push(new rt(t[i],v[i]));l.telemetryTracking.init(!1,n,l.telemetryTracking.formatModules(),l)})},OTFSpecialSection:function(n){l.telemetryTracking.specialSection(n)},colorDepth:u.colorDepth,connectionType:function(){return l.defaultConnectionType},cookieSupport:function(){return e.cookie?"Y":"N"},height:function(){return w||nt(),w},pageUrl:function(){return f.location.href},referrer:function(){return e.referrerOverride||e.referrer},screenResolution:function(){return[u.width,u.height].join("x")},width:function(){return p||nt(),p},timezone:function(){var i=new Date,r=new Date,n,t;return r.setMonth(i.getMonth()+6),n=Math.round(i.getTimezoneOffset()/60)*-1,t=Math.round(r.getTimezoneOffset()/60)*-1,n<t?n:t},viewType:function(){return s.isTmx&&!a&&o.listen(function(n){n&o.views.SIZE1COLUMN?a="size1column":n&o.views.SIZE2COLUMN?a="size2column":n&o.views.SIZE3COLUMN?a="size3column":n&o.views.SIZE4COLUMN&&(a="size4column")}),a},isIE:function(){return f.ActiveXObject?!0:!1}},userDynamic:{anid:function(){return r("ANON")},isHomePage:function(){var n=e.documentElement,t=0;if(n.addBehavior&&(g||n.addBehavior("#default#homePage")&&(g=1)))try{t=n.isHomePage(f.location.href)?"Y":"N"}catch(i){}return t},timeStamp:function(){return+new Date},AOP:function(){return l.curAop!=null&&l.curAop==""&&(l.curAop=tt(t.getTarget(l.event))||""),l.curAop},Region:function(){return l.curRegion!=null&&l.curRegion==""&&(l.curRegion=it(t.getTarget(l.event))||""),l.curRegion},slideType:function(){for(var n=l.event.target,i="halfpane";n&&t.name(n)!="SECTION";){if(t.name(n)=="LI"&&t.containsClass(n,i))return i;n=t.parent(n)}return null},eventNumber:0},telemetryTracking:{setupParameters:function(n){var t=l.sitePage;return{evt:n,rid:i.getActivityId()||t.requestId,di:t.domainId,clid:l.client.clientId()}},init:function(n,t,i){var r=this.setupParameters("impr_update");r&&(r.mech=t,r.e1=i,this.sendUpdate(r))},isVisible:function(n,t,i,r,u){var e,f;return n?u&&((e=n.getAttribute("data-aop"),e&&e.indexOf("slide")>=0)||(f=n.getAttribute("data-m"),f&&(f.indexOf("'a':'halfpane")>=0||f.indexOf("'a':'head-to-head")>=0||f.indexOf("'a':'mosaic")>=0||f.indexOf("'a':'triptych")>=0)))?!0:c.isElementTrulyVisible(n,t,i,r):!1},formatModules:function(){var t=[],i,n;for(i in b)n=b[i],n&&n.compress&&t.push(n.compress());return{e:t}},specialSection:function(n){var t=this.setupParameters("section");t&&(t.sn=n,l.telemetryTracking.sendUpdate(t))},sendUpdate:function(n){var i,t;if(n){if(!v&&(v=(l.sitePage||{}).otfURL,!v)){h.error("[telemetryTracking.sendUpdate] BaseUrl was empty or undefined in sitePage.");return}if(JSON&&JSON.stringify){try{i=JSON.stringify([n])}catch(r){h.error("[telemetryTracking.sendUpdate] Error in using JSON.stringify.",r);return}if(i&&i!="[{}]")try{t=new XMLHttpRequest;t.open("POST",v,!0);t.setRequestHeader("Content-type","application/json; charset=utf-8");t.onreadystatechange=function(){};t.send(i)}catch(r){h.error("[telemetryTracking.sendUpdate] Error in generating the XDomainRequest or XMLHttpRequest","BaseUrl = "+v,r);return}}}}}};return l});define("c.track.mobi",["track","trackInfo","pageInstance","screen","navigator","dom","events","document"],function(n,t,i,r,u,f,e,o){function y(n){var i=l.exec(n),t=i[i.length-1].split("."),r=t.length;return r>1&&(t=t.slice(r-2)),t.join(".")}function p(t,i,r,u,f,e,o,s){if(t){t[h]=i;r=r&&r.length>0?r:a;var c=n.createEvent(null,r,t);n.trackEvent(c,t,u,f,e,o,s)}}var a="click_nonnav",h="touch_gesture",s=!1,c=0,v=1e3,l;return n.extend({client:{scrW:function(){return r.width},scrH:function(){return r.height},orientation:function(){return r.width>r.height?"landscape":"portrait"},userAgent:function(){return u.userAgent},hourOfDay:function(){return(new Date).getUTCHours()},linkDomain:function(){var n=t.report?t.report.destinationUrl:null;return n&&n.length?y(n):null},pageTitle:function(){return o.title},gesture:function(){var n=f.getTarget(t.event);if(n&&n[h])return n[h];if(t.event){if(t.event.originalEvent&&t.event.originalEvent=="contextmenu")return"rightclick";if((t.event.type=="click"||t.event.type=="click_nonnav"||t.event.type=="submit")&&s==!0&&t.sitePage.device)return"tap"}return""}},userDynamic:{requestId:function(){var n=i.getActivityId()||t.sitePage.requestId;return n?n:window.console&&console.error("No requestID passed in from the server or generated via guidGen.js, please check the trackInfo.sitePage.requestId or pageInstance.js")}}}),l=/^(\w+:\/\/)?([^:\/]*)/,u.pointerEnabled||u.msPointerEnabled?e.bind(o,u.pointerEnabled?"pointerup":"MSPointerUp",function(n){s=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType=="touch"?!0:!1}):(e.bind(o,"mouseup",function(){var n=(new Date).getTime();n>c+v&&(s=!1)}),e.bind(o,"touchend",function(){s=!0;c=(new Date).getTime()})),n.trackGesture=p,1});define("track",["trackInfo","extend","dom","getCookie","setCookie","events","window","document","mediator","navigation","headData","pageInstance","evaluate","escape","afire"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function lt(n){var i,u=0,f,t,o,s,r;for(at(),ut.incrementEventNumber();u<nt.length;u++){if(i=nt[u],t=i.defaultOpts,t.disableOnAutoRefresh){for(o=t.disableOnAutoRefresh.split(";"),s=!1,r=0;r<o.length;r++)if(o[r]==t.id){s=!0;break}if(s&&(f||(f=h.getParamsFromUrl(e.location.href)),f.AR)){t.isGeneratedEarly=!1;continue}}t.isGeneratedEarly?t.isGeneratedEarly=!1:i&&i.samplingRate>=w&&y(i[n]())}b.curAop="";b.curRegion=""}function at(){if(-1==w){var n=b.smpCookie;w=parseInt(r(n));w=isNaN(w)?Math.floor(Math.random()*100):w%100;u(n,w,182,u.topDomain,"/")}return w}function rt(n,t,i){var u=it(n)||[],r=0,f;for(t=t||"alt";r<u.length;r++)if(f=p(u[r],t)||rt(u[r],t,i),f&&!(i==u[r].localName))return f}function vt(n){if(n){var r=g(n),t=p(r,"id"),i;return b.wrapperId==t?void 0:(i=vt(r),i&&t)?[i,t].join(b.cmSeparator):t||i}}function yt(n){if(n){var u=g(n),i,t=0,r=0;if(!p(u,"id"))if(t=yt(u),t)t--;else return 0;for(i=it(u)||[];r<i.length;r++){if(i[r]==n){t++;break}t+=pt(i[r])}return t}}function pt(n){var t=0,i=0,r;if(n&&!p(n,"id"))for(r=it(n)||[],p(n,"href")&&!p(n,b.notrack)&&t++;i<r.length;i++)t+=pt(r[i]);return t}function wt(n,t,i){var u,r,e,f;if(i&&n&&t){if(n.tagName==t)return n;for(u=it(n)||[],r=0,e=u.length;r<e;r++){if(u[r].tagName==t)return u[r];if(f=wt(u[r],t,i-1),f)return f}}return null}function ti(n){if(n)for(var t,i=0;i<nt.length;i++)if(t=nt[i],t.defaultOpts.id===n){y(t["getPageViewTrackingUrl"]());break}}function ii(){var n=e.location.protocol+"//"+e.location.host+"/pv.xml";y(n)}function d(t,r,u,f,e,o,s){var c,l,w,h,a,v,y,b;(!r&&t&&(r=t.target),r&&!p(r,n.notrack))&&(r.jquery&&(r=r[0]),t=t||{},t.target=r,n.event=t,c=r.href||p(r,"href"),c=="#"&&(c=r.href),u=u||p(r,n.piiurl)||c||p(r,"action")||"",f||(l=wt(r,"H4",2),l&&(f=i.text(l))),f=f||p(r,n.piitxt)||("FORM"==et(r)?n.defaultFormHeadline:rt(r,"title","img")||i.text(r)||p(r,"alt")||rt(r,"alt")||""),f.trim!=undefined&&(f=f.trim()),e=e||vt(r)||n.defaultModule,o=o||(p(r,"id")?1:yt(r)),w=r.className||p(r,"class"),s=s||(/GT1-(\d+)\b/i.exec(w)?RegExp.$1:"")||(/[?&]GT1=(\d+)\b/i.exec(c)?RegExp.$1:""),h="",a="",t&&(t.type=="click"||t.type==tt||t.type=="submit"||t.type=="contextmenu"||t.type=="mouseenter")&&(v="data-m",h=p(r,v),h||(y=g(r),h=y?p(y,v):""),h&&(h=h.replace(/\'/g,'"')),b=n.cmSeparator,a=hi(r).reverse().join(b)),n.report={destinationUrl:u,headline:f,contentModule:e,contentElement:o,campaignId:s,module:h,sourceIndex:r.sourceIndex||"",nodeName:r.nodeName||"",lineage:a},lt("getEventTrackingUrl",t?!t.noSpin:1))}function ri(n){var i=[],r,t;if(n&&n.querySelectorAll)for(r=n.querySelectorAll("[data-m]"),p(n,"data-m")&&i.push(n),t=0;t<r.length;t++)i.push(r[t]);return i}function bt(n,t){var i=p(n,t);if(i)try{return a(i.replace(/\'/g,'"'))}catch(r){return null}return null}function ui(n,t){if(t.indexOf)return t.indexOf(n)!==-1;for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}function fi(t){var f,r,u,i;if(t){for(t.jquery&&(t=t[0]),f=ri(t),r=[],u=0;u<f.length;u++){var s=f[u],e=bt(s,"data-m"),o=e?e.i:undefined;o===undefined||ui(o,ct)||(ct.push(o),r.push(e))}r.length&&(i=n.telemetryTracking.setupParameters("impr_update"),i&&(i.mech="load",i.e1={e:r},n.telemetryTracking.sendUpdate(i)))}}function ei(n){var i=null,t=new RegExp(ni).exec(n);return t&&t.length>=1&&t[1]&&(i=t[1]),i}function oi(n){var i=null,r,t;return n&&(n.indexOf(ht)==-1?(r=n.substring(0,n.indexOf("#")).toLowerCase(),t=e.location.href.toLowerCase(),(t==r||t.substring(0,t.indexOf("#"))==r)&&(i=tt)):i=ei(n)),i}function ft(n,t,i){var r=null;return k.createEvent?(r=k.createEvent("Events"),r.initEvent(t,!1,!0,i||e,0,0,0,0,0,!1,!1,!1,!1,0,null)):k.createEventObject&&(r=k.createEventObject(n),r.type=t),r&&(r.customTarget=i),r.originalEvent=n.type,r}function si(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function kt(n){gt(n)}function dt(n){2!=n.button&&gt(n)}function hi(n){for(var i=[],t;n;)t=bt(n,"data-m"),t&&t.n&&i.push(t.n),n=g(n);return i}function gt(n){var t,u,r,f;try{n.customTarget&&n.customTarget.useMap&&(n.customTarget=n.customTarget.document.activeElement,n.target=n.customTarget)}catch(e){}for(t=i.getTarget(n);t&&!p(t,"href")&&t.nodeName!="BUTTON";)t=g(t);if(t&&!t.form)if(u=n,n.type=="contextmenu"&&(u=ft(n,"click",t)),r=t.href,r&&r.length){if(r.indexOf("#")==r.length-1||r.indexOf(ht)>=0)if(n.type=="click")f=oi(r),f&&(u=ft(n,tt,t));else if(n.type=="contextmenu")return;u.type==tt&&si(n);d(u,t)}else n.type!="contextmenu"&&d({type:tt,target:t})}var p=i.attr,et=i.name,g=i.parent,it=i.children,nt=[],w=-1,ot,st=e,k=o,ht="tevt=",tt="click_nonnav",ni=/#tevt=([A-Za-z0-9]+_[A-Za-z0-9]+)(;*)/g,b,ct=[],ut={onContextMenu:kt,onClick:dt,trackEvent:d,createEvent:ft,sendPageViewCandidate:ii,sendSinglePageViewBeacon:ti,trackPartialImpression:fi,trackPage:function(){if(delete n.event,delete n.userStatic.requestId,c&&c.clientSettings&&c.clientSettings.static_page){var t=n.sitePage.requestId=l.getActivityId();n.sitePage.isStaticPage="True";require(["navigation","c.deferred"],function(n){var u=o.body.querySelector("#maincontent"),r,f,i;if(u)for(r=u.querySelectorAll("a[href*='www.bing.com']"),f=r.length,i=0;i<f;i++)r[i].href=n.mergeQueryStringParams(r[i].href,{refig:t})})}lt("getPageViewTrackingUrl");ot?s.pub("pageView"):ot=1},trackThirdPartyUpdate:function(){s.pub("thirdPartyTrackingUpdate")},register:function(){for(var t=0,n;n=arguments[t++];)isNaN(n.samplingRate)&&(n.samplingRate=99),nt.push(n)},incrementEventNumber:function(){b.userDynamic.eventNumber++},isSampled:function(n){return!(at()>n)},generateUrl:function(i,r,u,f,e){var h,c,o,s,l=[];f=t({},r,f);e=t(!0,{},u,e);for(h in e)if(n[h]){c=e[h];for(o in c)s=n[h][c[o]],typeof s=="function"&&(s=s()),s!=null&&(f[o]=s)}for(o in f)l.push(v.urlPart(o)+"="+v.urlPart(f[o]));return i+l.join("&").replace(/%20/g,"+")},extend:function(i){t(!0,n,i)},form:function(n){n&&n.length||(n=[n]);for(var t,i=0;t=n[i++];)"FORM"!=et(t)||p(t,"data-customformtrack")||f.bind(t,"submit",d)}};return f.bind(k,"click",dt),f.bind(st,"load",d),f.bind(st,"unload",d),f.bind(k,"contextmenu",kt),require(["c.dom"],function(){ut.form(i.getElementsByTagName("form"))}),s.sub("ViewabilityUpdatedEvent",n.client.OTFTelemetry),b=n,ut});define("elementTrackingDecorator",["trackingConstants","jquery","evaluate","track","window","extend"],function(n,t,i,r,u,f){function p(){n&&n.trackingData&&v(n.trackingData.lastIndex)&&n.trackingData.lastIndex>1?o=n.trackingData.lastIndex:u&&u.console&&u.console.error("Tracking constants were not supplied in dom.",n)}function w(n){return n&&n.length!==0}function b(n,t){var i=n.closest(e),r=i.length>0?i.eq(0):null,u;r&&n.attr(s)&&(r=i.length>1?i.eq(1):n.parent(e));t&&!r&&(i=t.closest(e),r=i.length>0?i.eq(0):null);r&&(u=r.attr(s),u&&v(u)&&(this.p=u))}function k(n,i){n.find(e).each(function(r,u){var o=t(u),f;o.parent(e)[0]==n[0]&&(f=h(o),f.p!=i.i&&(f.p=i.i,c.call(o,f)))})}function h(n){var t=n.attr(a);return t?i(t.replace(/\'/g,'"')):{}}function c(n){this.attr(a,JSON.stringify(n).replace(/"/g,"'"));this.attr(s,n.i)}function d(){return this&&!this.i&&o?(o++,this.i=o,!0):!1}function g(n){var t=n.parent().children();t.length>1?nt.call(t,this,n):this.o=1}function nt(n,i){var r=0;this.each(function(u,e){if(r++,e===i[0])n.o=r;else{var o=t(e),s=f(h(o),{o:r});c.call(o,s)}})}function v(n){return!isNaN(parseFloat(n))&&isFinite(n)}function y(n){var t=n?n.defaults:null;return f({},{n:"client",y:12},t||{})}function l(n,i,r,u){var e=t(n),s=h(e),o=f({},r,s),l=d.call(o);g.call(o,e);b.call(o,e,i);u&&u(e,o);c.call(e,o);l&&k(e,o)}var o=0,a="data-m",s="data-id",e="["+s+"]";return p(),{setTrackingForSingleElement:function(n,i,u){var f=y(u);return l(n,t(i),f,u&&u.elementOverride),r.trackPartialImpression(n),n},setTrackingAttrs:function(n,i,u){var c;if(n&&n.find){var f=u&&u.selector||"li",e=n.find(f),o=y(u),s=u?u.elementOverride:null,h=i&&!i.jquery?t(i):null;n.each(function(n,i){t(i).is(f)&&l(i,h,o,s)});w(e)&&(c=t(e),c.each(function(n,t){l(t,h,o,s)}))}return r.trackPartialImpression(n),n}}});define("binding",["viewAware","mediator","window"],function(n,t,i){function e(t,r,u){this.behaviorName=t;this.selector=r;this.context=u;this.views=n.views.NONE;this.timeout=i.setTimeout(function(){throw'binding("'+t+'", "'+r+'") was not followed with an all(), view(), or fallback() call!';},0)}function o(t){this.view(n.views.ALL&~this.views,t)}function s(n,t){for(var u=null,i=0;i<r.length;i++)if(r[i].behaviorName==n&&r[i].args[0]==t){u=r[i];break}return u}function c(n){var t,f,i;for(u=n,i=0;i<r.length;i++)t=r[i],f=t.view&u,t.active&&(f?t.update():(t.teardown(),t.active=0));for(i=0;i<r.length;){if(t=r[i],f=t.view&u,f&&!t.active&&!h(t)){r.splice(i,1);continue}++i}}function h(n){if(!n.setup){var t=n.behavior.apply(null,n.args);t&&(n.setup=t.setup,n.teardown=t.teardown,n.update=t.update)}return n.setup?(n.setup(),n.active=1,!0):!1}var r=[],u,f;return n.listen(c),e.prototype={view:function(n,t){var e=this.behaviorName,o=[this.selector,this.context,t],f={active:0,args:o,behaviorName:this.behaviorName,view:n};return this.views|=n,i.clearTimeout(this.timeout),require([e],function(t){f.behavior=t;var i=!0;n&u&&(i=h(f));i&&r.push(f)}),this},fallback:o,all:o,get:s},f=function(n,t,i){return new e(n,t,i)},f.views=n.views,i.binding=f,i.binding.get=s,f});define("getCookie",function(){return function(n){var i=new RegExp("\\b"+n+"\\s*=\\s*([^;]*)","i"),t=i.exec(document.cookie);return t&&t.length>1?t[1]:""}});define("setCookie",["location"],function(n){function t(n,t,i,r,u,f){var o,e=[n,"=",t],s;-1==i?o="Fri, 31 Dec 1999 23:59:59 GMT":i&&(s=new Date,s.setTime(s.getTime()+i*864e5),o=s.toUTCString());o&&e.push(";expires=",o);r&&e.push(";domain=",r);u&&e.push(";path=",u);f&&e.push(";secure");document.cookie=e.join("")}return t.topDomain=(n.hostname.match(/[^.]+\.[^.\d]+$/)||{})[0]||"",t});define("dom",function(){var n=document,t=/[\n\t]/g,i=/(^\s+)|(\s+$)/mg;return{attr:function(n,t){return n&&(n.getAttribute?n.getAttribute(t,2):n[t])||""},name:function(n){return n&&n.nodeName||""},text:function(n){return(n&&(n.textContent||n.innerText)||"").replace(i,"")},children:function(n){return n&&n.children||[]},parent:function(n){return n&&n.parentNode},getElementsByTagName:function(t){return n.getElementsByTagName(t)},create:function(t){return n.createElement(t)},containsClass:function(n,i){return n&&(" "+(n.className||n.getAttribute("class"))+" ").replace(t," ").indexOf(" "+i+" ")>-1},getTarget:function(n){return n&&(n.customTarget||n.target||n.srcElement)||document}}});define("events",function(){function n(n,t,i){n.addEventListener&&n.addEventListener(t,i,!1)}function t(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}return{bind:n,unbind:t}});define("extend",function(){function n(){var f=arguments,t=f[0]||{},e=1,i,r,o,u;for((typeof t=="boolean"||typeof t=="number")&&(o=!!t,t=f[1],e=2);e<f.length;e++){r=f[e];for(i in r)r[i]!==undefined&&(o&&typeof r[i]=="object"?(u=t[i],typeof u!="object"&&(u={}),n(!0,u,r[i]),t[i]=u):t[i]=r[i])}return t}return n});define("format",function(){function t(t,i,r){for(var u=0;u<r.length-i;++u)t=t.replace(n[u]||(n[u]=new RegExp("\\{"+u+"\\}","g")),r[u+i]);return r.length?t:t.toString()}var n=[];return String.prototype.format=function(){return t(this,0,arguments)},function(n){return(typeof n=="function"&&(n=n.apply(n,Array.prototype.slice.call(arguments,1))),n==null)?"":(typeof n!="string"&&(n=n.toString()),n)?t(n,1,arguments):""}});define("refreshDeferredModules",["jquery","refreshModules"],function(n,t){function i(){return t(n("[data-module-deferred]:not([data-sso-dependent])"))}return i});define("pointerEvents",["navigator"],function(){return window.PointerEvent?{enabled:!0,down:"pointerdown",up:"pointerup",cancel:"pointercancel",move:"pointermove",over:"pointerover",out:"pointerout",enter:"pointerenter",leave:"pointerleave"}:window.MSPointerEvent?{enabled:!0,down:"MSPointerDown",up:"MSPointerUp",cancel:"MSPointerCancel",move:"MSPointerMove",over:"MSPointerOver",out:"MSPointerOut",enter:"MSPointerOver",leave:"MSPointerOut"}:{enabled:!1,down:"mousedown",up:"mouseup",cancel:"mouseup",move:"mousemove",over:"mouseover",out:"mouseout",enter:"mouseenter",leave:"mouseleave"}});define("promise",["window"],function(n){function t(n,e){function y(n){s==i&&(o=n,s=u,v())}function a(n){s==i&&(o=n,s=f,v())}function p(n){for(var t=0;t<h.length;t++)h[t](n)}function v(){for(var n=0;n<c.length;n++)l(c[n])}function l(n){switch(s){case i:c.push(n);break;case u:n.complete();break;case f:n.error()}}if(typeof n!="function")throw"promise must take an init function as the first parameter";var s=i,o,c=[],h=[];this.addEventListener=function(){throw"not implemented";};this.cancel=function(){s==i&&(e&&(e(),e=null),a(new Error("Cancel")))};this.dispatchEvent=function(){throw"not implemented";};this.done=function(n,i,r){function u(n){if(t.onerror)t.onerror(n);else throw n;}l({complete:function(){if(n)try{n(o)}catch(t){u(t)}},error:function(){if(i)try{i(o)}catch(n){u(n)}else u(o)}});r&&h.push(r)};this.removeEventListener=function(){throw"not implemented";};this.then=function(n,i,u){var f,e,s,c=new t(function(n,t,i){f=n;e=t;s=i});return l({complete:function(){var i,u=1;if(n)try{i=n(o);typeof i=="undefined"&&(i=o)}catch(s){u=0;e(r(s))}else i=o;u&&(t.is(i)?i.then(f,e):f(i))},error:function(){var n,u=0;if(i)try{n=i(o);typeof n=="undefined"?n=o:u=1}catch(s){n=r(s)}else n=o;u?t.is(n)?n.then(f,e):f(n):e(n)}}),u&&h.push(u),c};n(y,a,p)}function r(n){return n&&n.name==e||(n=new Error(n)),n}var i=1,u=2,f=3,e="Error";return t.any=function(n){function u(){r()}for(var r,f=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return f},t.as=function(n){if(n){if(n.name==e)return t.wrapError(n);if(t.is(n))return n}return t.wrap(n)},t.is=function(n){return n&&typeof n.then=="function"},t.join=function(n){function u(){--f||r()}for(var f=n.length,r,e=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return e},t.theneach=function(){throw"not implemented";},t.timeout=function(i,r){function f(){u=1}var u;return r&&r.done(f,f),new t(function(t){function f(){u||(r&&r.cancel(),t())}i===0&&n.setImmediate?n.setImmediate(f):n.setTimeout(f,i)})},t.wrap=function(n){return new t(function(t){t(n)})},t.wrapError=function(n){return new t(function(t,i){i(r(n))})},t});define("scrollLeft",["dir.tokens","device"],function(n,t){var i,r;if(!n.ltr){if(r=t.capability("RtlScrollLeftAdjustment"),r=="fromLeft")return i=function(n,t){return t?n.scrollLeft=n.scrollWidth-n.clientWidth-t:n.scrollWidth-n.clientWidth-n.scrollLeft},i.adjustValue=function(n,t){return n.scrollWidth-n.clientWidth-t},i;if(r=="negativeValue")return i=function(n,t){return t?n.scrollLeft=t*-1:Math.abs(n.scrollLeft)},i.adjustValue=function(n,t){return t*-1},i}return i=function(n,t){return t?n.scrollLeft=t:n.scrollLeft},i.adjustValue=function(n,t){return t},i});define("sso",["headData","trackInfo","getCookie"],function(n,t,i){return function(r,u){var o=n.sso,f,v;if(r=r||function(){},u=u||window,!o||n.clientSettings&&n.clientSettings.static_page||i("eso")=="1"){r({signedIn:!1,closed:!1});return}o=o.replace(/amp;/g,"&");f=u.document.createElement("IFRAME");f.id="sso_frame";f.style.width="1px";f.style.height="1px";f.style.position="absolute";f.style.visibility="hidden";f.style.left="0px";f.style.bottom="0px";f.src=o;u.document.body.appendChild(f);var s=null,a=0,h,e,c,l=function(n){(n.data==="sso_completed"||n.data==="sso_failed")&&(s=n.data)};u.addEventListener?(e="message",c=u.addEventListener(e,l,!1),h=u.removeEventListener):(e="onmessage",u.attachEvent(e,l),c=l,h=u.detachEvent);v=u.setInterval(function(){if(s||a>=5){var i={signedIn:s==="sso_completed",closed:!!s};u.clearInterval(v);h.call(u,e,c);u.document.body.removeChild(f);r(i);i.signedIn&&(t.client.OTFSpecialSection("sso-success"),define("c.sso",n.signedin=1))}else a++},1e3)}});define("duplicateHtmlIds",["logging","document","window"],function(n,t,i){function r(){for(var r,i,n={},e=t.querySelectorAll("[id]"),u,f=0;u=e[f];++f)n[u.id]=(n[u.id]||0)+1;r=[];for(i in n)(!i||n[i]>1)&&r.push(' "'+i+'" ('+n[i]+" occurrences)");return r.length?r.join(","):null}function u(){var t=r();t&&n.error("[MARKUP VALIDATION] Duplicate/blank htmlids:"+t)}return require(["c.deferred"],function(){i.setTimeout(u,2e3)}),r});window.Modernizr=function(n,t){function r(){try{return t.createEvent("TouchEvent"),!0}catch(n){return!1}}var i=r();return Function.prototype.bind||(Function.prototype.bind=function(n){var i=Array.prototype.slice,t=this,r,u;if(typeof t!="function")throw new TypeError;return r=i.call(arguments,1),u=function(){var e,o,f;return this instanceof u?(e=function(){},e.prototype=t.prototype,o=new e,f=t.apply(o,r.concat(i.call(arguments))),Object(f)===f)?f:o:t.apply(n,r.concat(i.call(arguments)))},u}),{csstransforms:!0,csstransforms3d:!0,csstransitions:!0,touch:i,prefixed:function(n){return n}}}(this,this.document);window.Modernizr.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};window.Modernizr.animEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",transition:"animationend"};define("modernizr",window.Modernizr);define("refreshPdpModules",["jquery","refreshModules","trackInfo"],function(n,t,i){function r(){var r=n("[data-pdp-dependent]"),u=t(r,{pfr:1});u.done(function(){i.client.OTFSpecialSection("PdpReady");define("c.pdpready",1)})}return r});define("refreshSigninModule",["jquery","refreshModules","binding"],function(n,t,i){function r(){var r=n("[data-sso-dependent]");t(r).done(function(){i.get("flyout","#sign-in").teardown();i("flyout","#username").all({eventOrigin:"#username>button,#username>figure"});i.get("marketDropdown","#site-market").teardown();i("marketDropdown","#site-market").all();i("marketDropdown",".marketswitch").all({triggerEvent:"click"});i("marketDropdown",".langtoggle").all({triggerEvent:"click"})})}return r}),function(n){function u(){return Math.round(r())}function e(n){var t={hasFired:!1},r={},f=n.send||function(i){var r=n.url,f=r.indexOf("?")>=0?"&":"?",u=new Image;t.onsent&&(u.onload=t.onsent);u.src=encodeURI(r+f+"DATA="+i)},i;t.mark=function(n,i){var o=typeof n,e,f;if(o==="string")for((i===null||i===undefined)&&(i=u()),e=n.split("."),f=r,f[n]=i;e.length;)n=e.shift(),e.length>0?f=f[n]=f[n]||{}:f[n]=i;else if(o==="object"){i=n;for(n in i)i.hasOwnProperty(n)&&t.mark(n,i[n])}return i};t.fire=function(){var i=t.onbeforefire,n;i&&i();this.payload=JSON.stringify(r);r={};n=t.onfire;n&&n();t.hasFired=!0};for(i in n)!t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t[i]=n[i]);return t}var i="now",f=window,t=f.performance,r;n.timing=t&&t.timing;n.navigation=t&&t.navigation;r=t&&t[i]&&t[i].bind(t)||Date[i]||function(){return(new Date).getTime()};n.now=u;n.Beacon=e}(Perf||(Perf={}));window.pp=new window.Perf.Beacon({}),function(n,t){function r(){var r={},e="navigationStart",u=t[e],n,i,f,o,s;if(u===null||u===undefined||u<0)return r;for(n in t)n!==e&&(i=t[n],i>-1)&&(i>=u&&(i-=u),o=(f=n.lastIndexOf("End"))>0&&1||(f=n.lastIndexOf("Start"))>0&&0,f!==-1?(n=n.substr(0,f),s=r[n]||(r[n]=[-1,-1]),s[o]=i):r[n]=i);return r}if(t){var i=n.onbeforefire;n.onbeforefire=function(){i&&i();n.mark("w3c",r())}}}(pp,Perf.timing);define("w3cTimer",function(){return window.pp});define("guidGen",function(){return function(){function t(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&7|8).toString(16)}var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t)}});define("pageInstance",["mediator","guidGen"],function(n,t){var i,r="updatePageInstance";return n.sub(r,function(){var r,u,f,n;if(i=t().replace(/-/g,""),r=document.body.querySelector("#srchfrm"),r)for(u=r.querySelectorAll("input[name='refig']"),f=u.length,n=0;n<f;n++)u[n].value=i}),{getActivityId:function(){return i},eventName:r}});define("animate",["jquery","promise"],function(n,t){function u(n){return new t(function(t){n.one(i.endEvent,t)})}function f(i){if(i.length==1)return u(i);var r=[];return i.each(function(){r.push(u(n(this)))}),t.join(r)}function r(n,u,e){return n.css(e),new t(function(t){if(n.css(u),i.enabled){var o=setTimeout(function(){t("timeout")},r.timeout);f(n).then(function(){clearTimeout(o);e.transitionProperty&&n.css("transitionProperty","");e.transitionDuration&&n.css("transitionDuration","0s");t()})}else t()})}var i={enabled:!1};return navigator.msPointerEnabled&&(i={enabled:!0,endEvent:"transitionend",timeout:400}),r.timeout=i.timeout,r});define("refreshModules",["jquery","navigation","headData","window","location","promise","requestAnimationFrame","imgSrc","mediator","escape"],function(n,t,i,r,u,f,e,o,s,h){function w(){var t,n,i;if(c&&c.deferLoadedItems){for(t=c.deferLoadedItems.split(","),n=0,i=t.length;n<i;n++)t[n]&&c.removeItem(t[n]);c.removeItem("deferLoadedItems")}}function b(t,i){if(!c||!t||!i)return null;var r,u=c.getItem(t);try{r=JSON.parse(u)}catch(f){return null}return r&&r.data&&r.lastUpdatedTime&&n.now()-r.lastUpdatedTime<i?r.data:null}function k(t,i){c&&(c.deferLoadedItems||(c.deferLoadedItems=""),c.deferLoadedItems+=","+t,c.setItem(t,JSON.stringify({lastUpdatedTime:n.now(),data:i})))}function p(t,i,r){var u,f,e;i&&(u=n("<data>"+n.trim(i)+"<data>"),g(u),f=u.find("[data-module-id]"),t.each(function(){var s=n(this),t,i=s.data("moduleId"),u,o;t=f.filter("[data-module-id='"+i+"']");t.length&&(u=n("[data-module-id='"+i+"']"),o=t.html(),o&&o!=a[i]&&(a[i]=o,d(t,u),t.insertAfter(u.first()),u.remove(),e=!0),!r&&s.data("cache-duration")&&k(i,t[0].outerHTML))}))}function d(t,i){n("img[data-src]",t).each(function(){o.force(this,i)||o.go(this)})}function g(t){var i=t.children("link[rel=stylesheet]");i.length&&i.each(function(){var t=this.getAttribute("href");v[t]||((y||(y=n("head"))).append(this),v[t]=!0)})}var l=i.moduleapi,a={},v={},y,c;try{c=r.localStorage}catch(nt){c=null}return l?function(e,o){if(i.signedin||w(),!e||e.length===0)return new f(function(n){n()});e instanceof n||(e=n(e));typeof o=="string"&&(o=t.getParams(o));var d=n.extend(t.getParamsFromUrl(u.href),o),a=n.param(d),y=l.split("?")[0]+(a?"?"+a:"");y+=(y.indexOf("?")===-1?"?":"&")+"ou="+h.urlPart(u.href);var c={RequestUri:u.href.split("?")[0]+(a?"?"+a:""),ExperienceId:i.xdid||null},v={},k=[];return e.each(function(){var i=n(this).data("moduleId"),r,u,t;if(i){if(r=n(this).data("cache-duration"),u=r?b(i,r):null,u){k.push(u);return}if(t=i.split("|"),t.length==5){var o={key:t[3],type:t[4]},f={key:t[1],type:t[2],Modules:[o]},e=f.key+f.type;v[e]?v[e].Modules.push(o):v[e]=f;c.Type||(c.Type=t[0])}}}),k.length&&p(e,k.join(""),!0),c.Regions=n.map(v,function(n){return n}),c.Regions!=null&&c.Regions.length>0?new f(function(t,i){n.ajax({url:y,dataType:"html",data:JSON.stringify(c),method:"POST",contentType:"application/json"}).done(function(i){p(e,i);t(i);e.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){i(arguments)})}):(r.console&&r.console.log&&console.warn("Regions were empty or null"),new f(function(n){n()}))}:(r.console&&console.log("moduleApiEndpoint is missing from header, ajax module update will exit."),n.noop)});define("safeCss",["jquery"],function(n){function r(n){var t={},i="";this.css=function(r,u){if(u)t[r]=i;else if(typeof r=="object")for(var f in r)t[f]=i;return n.css.apply(n,arguments),this};this.hide=function(){throw"not implemented";};this.show=function(){throw"not implemented";};this.toggle=function(){throw"not implemented";};this.reset=function(){n.css(t);t={}}}var t=1,i=".";return{createGroup:function(){function e(t){var h=[],s,e;return t.each(function(){var i=n(this),t=i.data(f);t||(t=o++,i.data(f,t));h.push(t)}),s=h.join(i),e=u[s],e||(e=new r(t),u[s]=e),e}var f="safeCssId"+t++,o=1,u={};return e.reset=function(){for(var n in u)u[n].reset()},e}}});define("touchGestures",["jquery","modernizr","window","deviceGroup"],function(n,t,i,r){function c(n){n.originalEvent&&n.originalEvent.preventManipulation&&n.originalEvent.preventManipulation();n.preventDefault();n.stopPropagation()}function p(n){var t=n.originalEvent,i=t.changedTouches||t.touches;return i||(i=[{identifier:t.pointerId,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,force:t.pressure,target:t.target}]),i&&i.length?i:[n]}function w(n,t){var i=t,r=n.y/n.x;return!isNaN(r)&!(n.y<s.minimumDistanceForMove&&n.x<s.minimumDistanceForMove)&&(i=n.x&&Math.abs(Math.atan(r))<v?h:y),i}function l(n,t){return n&&t?{x:n.x/t,y:n.y/t}:{x:0,y:0}}function e(n,t){return n&&t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}function o(t,i,r){n.each(f[i],function(n,u){t.bind(u,function(n){r(n,i)})})}function b(t,i){n.fn[t]=function(n,i){return n?this.bind(t,i,n):this.trigger(t,i)};n.event.special[t]={setup:function(t,r){i(n(this),t,r)}}}var s={direction:"all",maximumDistanceForClick:20,maximumTimeForClick:250,distanceBeforeDirectionDetection:10,minimumTimeForSwipe:.02,maximumTimeForThrow:1200,minimumLastThrowSpeed:1,maximumTimeForSwipe:400,minimumDistanceForSwipe:30,directionChangeBuffer:5},v=Math.PI/4,a=n(i),u={eventName:"gesture",start:"start",move:"move",stop:"stop",cancel:"cancel",tap:"tap",swipeUp:"swipeUp",swipeRight:"swipeRight",swipeDown:"swipeDown",swipeLeft:"swipeLeft",throwUp:"throwUp",throwRight:"throwRight",throwDown:"throwDown",throwLeft:"throwLeft"},h="horizontal",y="vertical",f={pointer:{start:["pointerdown"],stop:["pointerup"],move:["pointermove"],cancel:["pointercancel","pointerleave"],touchSupported:!0,type:"pointer"},mspointer:{start:["MSPointerDown"],stop:["MSPointerUp"],move:["MSPointerMove"],cancel:["MSPointerCancel","MSPointerLeave"],touchSupported:!0,type:"mspointer"},touch:{start:["touchstart","touchenter"],stop:["touchend","touchleave"],move:["touchmove"],cancel:["touchcancel"],touchSupported:!0,type:"touch"},mouse:{start:["mousedown"],stop:["mouseup"],move:["mousemove"],cancel:["mouseleave"],touchSupported:!1,type:"mouse"}};return f=!t.touch||r.isPc&&typeof InstallTrigger!="undefined"?navigator.pointerEnabled?f.pointer:navigator.msPointerEnabled?f.mspointer:f.mouse:f.touch,b(u.eventName,function(t,i){function it(){tt=r=v=k=d=g=0}function nt(t,i){if(f.type=="mouse"||(f.type=="pointer"||f.type=="mspointer")&&t.originalEvent.pointerType=="mouse")b=!0;else{b=!1;var e=p(t);(tt||d&&r.totalDistance>=y.maximumDistanceForClick)&&(tt=!0,c(t));(r||i==u.start)&&n.each(e,function(n,r){rt(n,r,t,i)})}}function rt(i,f,o,s){var p,rt,ot,st,tt;if(ft(f),p={touchType:s,coord:{x:f.pageX,y:f.pageY},screenCoord:{x:f.screenX,y:f.screenY},scrollCoord:{x:a.scrollLeft(),y:a.scrollTop()},count:v?v.count+1:0,time:(new Date).getTime()},s==u.start&&(it(),b=!1,r=n.extend({totalDistance:0},p),v=n.extend({},p)),p.delta=e(p.coord,v.coord),p.screenDelta=e(p.screenCoord,v.screenCoord),p.duration=p.time-v.time,p.speed=l(p.delta,v.duration),r.delta=e(p.coord,r.coord),r.screenDelta=e(p.screenCoord,r.screenCoord),r.totalDistance+=Math.sqrt(Math.pow(p.delta.x,2)+Math.pow(p.delta.y,2)),rt=y.direction==h,v&&v.speed&&(ot=rt?p.delta.x:p.delta.y,st=rt?v.delta.x:v.delta.y,ot*st<0&&(r.movecoord=p.coord,r.movetime=p.time)),r.movecoord&&(r.movechange=e(p.coord,r.movecoord),r.moveduration=p.time-r.movetime,r.movespeed=l(r.movechange,r.moveduration)),r.duration=p.time-r.time,r.speed=l(r.delta,r.duration),k=w(r.delta,y.direction),!g&&r.totalDistance>y.distanceBeforeDirectionDetection&&y.direction!="all"&&!d&&(r.direction=k,y.direction!=k?(g=!0,p.touchType=u.cancel):(c(o),d=!0)),p.touchType==u.stop){var ut=(r.movechange||r.delta).x,et=(r.movechange||r.delta).y,ht=r.moveduration||r.duration,nt=k==h,lt=nt?Math.abs(r.speed.x):Math.abs(r.speed.y),at=nt?Math.abs(p.speed.x):Math.abs(p.speed.y),vt=nt?Math.abs(v.speed.x):Math.abs(v.speed.y),ct=Math.max((at+vt)/2,lt);r.duration<y.maximumTimeForClick&&r.totalDistance<y.maximumDistanceForClick?(b=!0,p.touchType=u.tap):(p.distance=Math.abs(nt?ut:et),ct>y.minimumTimeForSwipe&&(ht<y.maximumTimeForSwipe?p.touchType=nt?ut>0?u.swipeRight:u.swipeLeft:et>0?u.swipeDown:u.swipeUp:ht<y.maximumTimeForThrow&&ct>y.minimumLastThrowSpeed&&(p.touchType=nt?ut>0?u.throwRight:u.throwLeft:et>0?u.throwDown:u.throwUp)))}(v.touchType!=p.touchType||v.coord.x!=p.coord.x||v.coord.y!=p.coord.y)&&(g&&p.touchType!=u.cancel&&p.touchType!=u.tap||(tt=n.Event(u.eventName,{current:p,last:v,start:r,direction:k,originalEvent:o,allowClick:b}),t.trigger(tt),b=tt.allowClick!==!1,tt.isDefaultPrevented()&&o.preventDefault(),tt.isPropagationStopped()&&o.stopPropagation(),tt.isImmediatePropagationStopped()&&o.stopImmediatePropagation()));s==u.stop||s==u.cancel?it():v=p}function ut(n){return b||c(n),b}function ft(n){n.pageX||n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY,n.screenX=n.originalEvent.screenX,n.screenY=n.originalEvent.screenY,n.pointerId=n.originalEvent.pointerId,n.identifier=n.originalEvent.identifier)}var r,v,k,d,tt,g,b=!0,y=n.extend({},s,i);it();t.addClass("unselectable").find("A, [onclick]").not(".mobilead").bind("click",ut);o(t,u.start,nt);o(t,u.move,nt);o(t,u.stop,nt);o(t,u.cancel,nt)}),{types:u,settings:f}});define("touchDataManager",["jquery"],function(n){function o(){var c=.85,l=.1,h,o,u,r,n;this.reset=function(t){h=t;o=+new Date;u=o;r=h;n=0};this.input=function(t){var e=+new Date,i=e-u,f;i=i>0?i:1;u=e;r+=n*i;f=t-r;r+=c*f;n+=l*f/i};this.getPosition=function(){return r};this.getVelocity=function(){return n};this.getDelta=function(){return r-h};this.getDuration=function(){return 220};this.getTouchDuration=function(){return u-o};this.getDrift=function(t,i){var e=this.getDelta(),l,s;e<0&&(e=-e);var h=1-e/t,c=.2,r=t*(h>c?h:c),f=n*150,a=u-o<300&&(n>.3||n<-.3);return a?(l=i,s=l-e,f=(n>0?1:-1)*(s<r?s:r)):f>r?f=r:f<-r&&(f=-r),f};this.getTimingFunction=function(){return"cubic-bezier(0,"+e(n)+",.58,1)"};this.ensureJQueryEase=function(){var r=e(n);r=Math.round(r/f)*f;i[r]||(i[r]=s(r));t=i[r]};this.reset(0)}function e(n){var t=n>0?n:-n;return t*.3}function s(n){for(var f=[],t,e,o,i,u=r.length;u--;)t=r[u],i=1-t,o=i*t*t*.58+t*t*t,e=i*i*t*n+i*t*t+t*t*t,f[u]={x:e,t:o};return f}for(var i={},f=.1,t,r=[],u=0;u<=1;u+=.01)r.push(u);return n.easing.cubicBezier=function(n){if(n==1)return 1;for(var r,o,u,s,i,f=t.length-1,e=0;f--&&!e;)i=t[f],r=i.t,r<=n&&(u=i.x,i=t[f+1],o=i.t,s=i.x,e=(n-r)/(o-r)*(s-u)+u);return e},n.easing.cubicBezierQuint=function(n){return 1-Math.pow(1-n,5)},o});define("carouselManager",function(){return function(){var n=[],t=0;this.load=function(t){n=t};this.getItem=function(i){if(!n.length)return null;var r=(t+i)%n.length;return n[r<0?r+n.length:r]};this.setIndex=function(n){t=n};this.changeIndex=function(n){t+=n}}});globalLeft="left";define("dir.tokens",{ltr:globalLeft=="left",left:"left",paddingLeft:"padding-left",paddingRight:"padding-right",marginLeft:"margin-left",marginRight:"margin-right"});define("socialPlugins.tokens",{twitterLang:"en",facebookLang:"en_US",loadDelay:"1000"});define("truncate.tokens",{truncateEllipsis:""});define("webApp.tokens",{appVersion:"2.0.5578.29297"});define("feedback.tokens",{inputBoxError:"Please leave a comment.",categoryNotSelectedError:"Please leave a comment or select a problem category."});define("flyout",["jquery","jqBehavior","document","mediator"],function(n,t,i,r){function u(t,u){function w(n){var t=e[0],i;n.preventDefault();t.el.hasClass(t.cls)?(i=c?c[0]:!1,u.allowToggleOff&&l(n,o),i!==n.target&&f.filter(n.target).length===1&&p(n,s)):p(n,s);r.subChannel("closeFlyoutFinal","flyoutBehavior",o)}function b(i){var r=t.find(u.contentEventOrigin),e;r.length||(r=t);e=u.skipContentOriginEventTargetCheck?!(n.contains(r[0],i.target)===!0||f[0]===i.target):!(r[0]===i.target||n.contains(r[0],i.target)===!0||f[0]===i.target);e&&(u.disableEventBubbling&&i.preventDefault(),l(i,o))}function o(t,i){for(var u,r=0;r<e.length;r++)u=e[r],u.el.removeClass(u.cls).attr("aria-hidden",!0);v.off(y,b);c=!1;n.isFunction(i)&&i!==s&&i()}function k(n){t.find("."+u.toggleClass).length&&l(n,o)}function s(t,i){var r,u;for(c=n(t.target),r=0;r<e.length;r++)u=e[r],u.el.addClass(u.cls).attr("aria-hidden",!1);v.on(y,b);n.isFunction(i)&&i!==s&&i()}var v=n(i),f=t.find(u.eventOrigin),a;f.length||(f=n(u.eventOrigin));var y=u.outsideEvent,h=u.toggleTargets,c=!1,p=n.isFunction(u.openFlyoutDelegate)?u.openFlyoutDelegate:s,l=n.isFunction(u.closeFlyoutDelegate)?u.closeFlyoutDelegate:o,e=[];if(typeof h!="object")h===!0&&e.push({el:t,cls:"show"});else for(a in h)e.push({el:t.find(a),cls:h[a]});return{setup:function(){f.on(u.triggerEvent,w)},update:function(){k()},teardown:function(){k();f.off(u.triggerEvent,w)}}}return t(u,{allowToggleOff:!0,eventOrigin:".flyout > button",toggleTargets:!0,triggerEvent:"click",outsideEvent:"mousedown touchstart scroll",openFlyoutDelegate:!1,skipContentOriginEventTargetCheck:!1,closeFlyoutDelegate:!1})});define("feedback",["jquery","trackInfo","feedback.tokens","flyout","logging","jqBehavior","mediator","document","headData"],function(n,t,i,r,u,f,e,o,s){function y(f){function ht(){et?o.body.appendChild(d):(d=o.createElement("div"),d.setAttribute("class","layoutoverlay"),o.body.appendChild(d),y.$provideFeedback=f.find(".feedbackheader .selected"),y.$reportProblem=n("#feedback-reportproblem"),y.$submitButton=n("#feedback-submit"),y.$close=n("#feedback-ok"),y.$closeButton=n("#feedback-close"),y.$feedbackArea=n("#feedback-feedbackarea"),y.$feedbackInput=n("#feedback-inputbox"),y.$userAlias=n("#feedback-useralias"),y.$starRating=f.find(".stars > ul > li"),et=!0);b=!1;y.$selectedCategory=null;w.text(st);w.removeClass("uploading uploaded");rt=ct();it=!1;!h&&t.sitePage&&(h=(t.sitePage||{}).otfURL,h||u.error("[telemetryTracking.Feedback] BaseUrl was empty or undefined in sitePage."))}function kt(){if(t.sitePage){var n=t.sitePage,i=t.telemetryTracking.setupParameters();p["feedback.id"]=rt;p.pageType=n.pageName;p.subcvs=n.vertical;p.cvs=n.canvas;p.contentid=n.entityId;p.cu=n.pageUrl;p.evt="feedback";p.mkt=n.localeCode;p["client.deviceOS"]=n.os;p.flightid=n.flightid;p.referrer=o.referrer;p.signedin=t.userStatic?t.userStatic.isSignedIn:"";p.scr=screen.width&&screen.height?screen.width.toString()+" X "+screen.height.toString():"";p["client.deviceModel"]=s?s.dg:"";i!=null&&(p.rid=i.rid,p.clid=i.clid)}}function dt(){y.$feedbackInput.length&&(p.submitValue=y.$feedbackInput[0].value);y.$userAlias.length&&(p["feedback.source"]=y.$userAlias[0].value)}function gt(){if(p["feedback.area"])return k&&nt(),!0;if(!k&&y.$feedbackInput.length){if(y.$feedbackInput[0].value.length>0)return!0;y.$feedbackInput.addClass("error");y.$feedbackInput[0].value=b?i.categoryNotSelectedError:i.inputBoxError;y.$feedbackInput.on("focus",nt);k=!0}return!1}function nt(){k&&(y.$feedbackInput.removeClass("error").off("focus",nt),k=!1);y.$feedbackInput[0].value=""}function ct(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&7|8).toString(16)})}function lt(n){n.preventDefault();g.click()}function at(){var t,r,i;if(!h){u.error("[feedback] Error submitting user feedback as telemetry baseUrl is empty");return}t=g[0];r=t.value?t.value.replace(/^.*(\\|\/|\:)/,""):"";w.text(r||st);t.value&&t.files&&t.files.length&&(w.addClass("uploading"),i=new window.FormData,i.append("file",t.files[0]),n.ajax({url:h+"?"+n.param({"feedback.id":rt}),data:i,processData:!1,contentType:!1,type:"POST"}).done(function(){w.removeClass("uploading");w.addClass("uploaded")}))}function ni(){if(!h){u.error("[feedback] Error submitting user feedback as telemetry baseUrl is empty");return}kt();dt();n.ajax({type:"POST",url:h,data:JSON.stringify([p]),contentType:"application/json; charset=utf-8",dataType:"json"}).fail(function(n,t,i){u.error("[feedback] Error submitting user feedback. ErrorType: {0}. Error: {1}".format(t,i.message))})}function ti(n,t){ht();y.$submitButton.on("click",wt);y.$closeButton.on("click",tt);y.$reportProblem.on("click",bt);y.$provideFeedback.on("click",ft);y.$starRating.on("click",pt);g.on("change",at);w.on("click",lt);e.pub("feedback.open");t(n)}function vt(n){var t=y.$feedbackArea.find(".feedbackarea > ul > li");if(t.length)if(n)t.on("click",yt);else t.off("click",yt)}function yt(t){var i=n(t.currentTarget);p["feedback.area"]=i.text();p["feedback.type"]="bug";y.$selectedCategory&&y.$selectedCategory.removeClass("selectedcategory");y.$selectedCategory=i;i.addClass("selectedcategory")}function pt(t){var i=n(t.currentTarget),r=i.index()+1;i.parent().attr("data-selected",r);p["feedback.rating"]=r}function ii(){p["feedback.rating"]=0;y.$starRating.parent().attr("data-selected",0).off("click",pt)}function tt(){e.pub("feedback.close");it&&(y.$close.off("click",tt),ni());f.removeClass("show finalpage");o.body.removeChild(d);y.$submitButton.off("click",wt);y.$closeButton.off("click",tt);y.$reportProblem.off("click",bt);y.$provideFeedback.off("click",ft);g.off("change",at);w.off("click",lt);nt();ii();b&&ft()}function wt(){if(gt()){f.addClass("finalpage");it=!0;y.$close.on("click",tt)}}function bt(){b||(b=!0,y.$feedbackArea.addClass("showproblemarea"),y.$provideFeedback.removeClass("selected"),y.$reportProblem.addClass("selected"),vt(!0))}function ft(){b&&(vt(!1),p["feedback.type"]="General",p["feedback.area"]=undefined,y.$provideFeedback.addClass("selected"),y.$reportProblem.removeClass("selected"),y.$feedbackArea.removeClass("showproblemarea"),b=!1,y.$selectedCategory&&y.$selectedCategory.removeClass("selectedcategory"),y.$selectedCategory=null)}var et=!1,ot={$provideFeedback:null,$reportProblem:null,$submitButton:null,$close:null,$closeButton:null,$feedbackInput:null,$feedbackArea:null,$starRating:null,$selectedCategory:null,$userAlias:null},b,k,d,it,y=ot,p={},rt=ct(),g=f.find(a),w=f.find(v),st="Upload a Screenshot",ut;return p["feedback.rating"]=0,p["feedback.type"]="General",ut=r(c,o,{eventOrigin:l,outsideEvent:"",openFlyoutDelegate:ti,allowToggleOff:!1}),{setup:ut.setup,teardown:ut.teardown,feedback:{initialize:ht,feedbackVariables:ot}}}var h="",c="#feedback-flyout",l="#footer_feedback, #usermenu-feedback",a="#feedback-file",v="#feedback-upload";return f(y)});define("marketDropdown",["jquery","jqBehavior","window","headData","track"],function(n,t,i,r,u){function e(t,r){function o(){t.on(r.triggerEvent,e)}function e(){var i,n,e;t[0].tagName=="SELECT"?(e=t.find("option:selected"),i=e.data("marketSwitchLocale"),n=e.data("marketSwitchUrl")):(i=r.marketSwitchLocale,n=r.marketSwitchUrl);n&&i&&(u.trackEvent({type:"click_nonnav",target:t},"","",n),h(f,n,i))}function s(){t.off(r.triggerEvent,e)}function h(t,r,u){var f=JSON.stringify({Market:u,SuppressPrompt:!0}),e=[{Path:"MSNHomePage/MarketConfiguration",Operation:"Update",Payload:f}];n.ajax({url:t,dataType:"html",data:JSON.stringify(e),method:"POST",contentType:"application/json"}).done(function(){i.location.href=r}).fail(function(){i.location.href=r})}return{setup:o,teardown:s}}var f=r.pdpdeltaupdateapi;return t(e,{triggerEvent:"change"})});define("navArrowScroll",["jquery","jqBehavior","modernizr","device","window","dir.tokens","touchGestures","perfMarker"],function(n,t,i,r,u,f,e){function l(t,i){function yt(){it.on("click",d);rt.on("click",p);ri(r);kt();y();ii()}function pt(){it.off("click",d);rt.off("click",p);y()}function wt(){w=0;c=0;st(0);y()}function ot(n){ht();var t=bt(n);st(t)}function st(n){s?(n=o.replace("{0}",n),r.css("transform",n)):r.css(o,n)}function ht(){if(g=h.width(),tt)a=r[0].scrollWidth;else{a=0;for(var n=0;n<r.length;n++)a+=r[n].scrollWidth}v=r.position().left-w}function bt(n){var t=0,i;return n==1?c>0&&(c=c-1,t=l[c].getAttribute(nt)):c<l.length-1&&(t=l[c].getAttribute(nt),c=c+1),i=f.ltr?n:-n,ft=v+i*t}function kt(){for(var t,n=0,i=l.length;n<i;n++)t=l.eq(n),l[n].setAttribute(nt,t.outerWidth(!0)),t.hasClass(vt)&&(et=n)}function ct(){f.ltr||(w=r.position().left,v=r.position().left-w)}function y(){if(ht(),a>g){tt=!0;dt();var n=f.ltr?v:-v,t=parseInt(r.css(f.marginLeft)),i=g-(a+n);c==0?(h.addClass(k).removeClass(b),ct()):i>=t?h.addClass(b).removeClass(k):h.addClass(ut)}else tt=!1,h.removeClass(ut),gt(),ct()}function dt(){for(var t=r[1].children.length,n=0;n<t;n++)r[1].children[0].id="mylink_"+n,r[0].appendChild(r[1].children[0])}function gt(){for(var t=r[0].children.length,n=0;n<t;n++)!r[0].children["mylink_"+n]||r[1].appendChild(r[0].children["mylink_"+n])}function d(){ot(1);y()}function p(){ot(-1);y()}function ni(){f.ltr?p():d()}function ti(){f.ltr?d():p()}function lt(){return f.ltr&&h.hasClass(k)||!f.ltr&&h.hasClass(b)}function at(){return f.ltr&&h.hasClass(b)||!f.ltr&&h.hasClass(k)}function ii(){for(var n=0;n<et;n++)(f.ltr&&lt()||!f.ltr&&at())&&p()}function ri(n){e.settings.touchSupported&&n.gesture(ui,{direction:"horizontal"})}function ui(t){if(t.direction)switch(t.current.touchType){case e.types.throwRight:case e.types.swipeRight:at()&&ti();break;case e.types.throwLeft:case e.types.swipeLeft:lt()&&ni();break;case e.types.stop:case e.types.tap:var i=t.originalEvent.originalEvent,r=i.target,f=document.createEvent("MouseEvent");f.initMouseEvent("click",!1,!1,u,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null);r.tagName!=="A"&&(r=n(r).parentsUntil("LI","A")[0]);r&&r.dispatchEvent(f)}}var h=t,r=h.children(i.navSelector),l=r.children(),it=h.find("button").first(),rt=h.find("button").last(),w=r.position().left,c=0,g=0,a=0,b="show-left",k="show-right",ut="show-left show-right",vt="current",ft=0,v=0,nt="data-width",et=0,tt=!1;return{setup:yt,teardown:pt,update:wt}}var o="left",s=!1,c,h;return i.csstransforms&&r.isCapable("AllowTransform2d")&&(o="translateX({0}px)",s=!0),c=n(u),h={navSelector:"ul",navItemSelector:"ul > li"},t(l,h)});define("scrollStop",["jquery","jqBehavior","touchGestures"],function(n,t,i){function f(t,f){function o(){e===!1?e=!0:clearTimeout(s);s=setTimeout(a,l)}function h(){e&&o()}function a(){e=!1;t.trigger("scrollStop")}var c=n.extend({},u,f),l=c.delay,e,s;return{setup:function(){e=!1;t.on("scroll",o);if(i.settings.touchSupported)t.on(r,h)},teardown:function(){t.off(r,h);t.off("scroll",o)}}}var u={delay:100},e=i.settings.start.join(" "),r=i.settings.move.join(" ");return t(f,{})});define("searchBing",["jquery","jqBehavior","track","device"],function(n,t,i,r){return r.capability("SupportFixedPosition")!=="false"&&r.capability("SupportFixedPosition")||n("body>.head").addClass("unfixposition"),t(function(t){function f(){var n=t.attr("action"),r=t.attr("target");i.trackEvent({type:"submit",target:t[0]},null,u);t.attr("action",u).attr("target","_blank").submit().attr("action",n).attr("target",r)}var r=n("button[name='bingSearch']",t),e=n("body>.head"),u=t.data("bing-action-uri");return{setup:function(){r.on("click",f)},teardown:function(){r.off("click",f)}}})});define("searchTargetSelf",["jqBehavior"],function(n){function u(n){return i=n.attr(t),{setup:function(){n.attr(t,r)},teardown:function(){n.attr(t,i)}}}var t="target",r="_self",i;return n(u)});define("socialPlugins",["jquery","jqBehavior","format","escape","socialPlugins.tokens"],function(n,t,i,r,u){function o(n,t){function e(){if(t.facebookLikeUrl&&t.facebookButtonWidth){var e="//www.facebook.com/plugins/like.php?locale="+r.urlPart(u.facebookLang)+"&href="+r.urlPart(t.facebookLikeUrl)+"&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;font&amp;colorscheme=light&amp;action=like&amp;height=21";n.find(t.facebookSelector).append(i(f,e,t.facebookButtonWidth))}}function o(){var e,o;t.twitterFollowScreenName&&t.twitterButtonWidth&&(e="//platform.twitter.com/widgets/follow_button.html?show_screen_name="+t.twitterShowScreenName+"&screen_name="+r.urlPart(t.twitterFollowScreenName)+"&show_count=false&lang="+r.urlPart(u.twitterLang),n.find(t.twitterSelector).append(i(f,e,t.twitterButtonWidth)),t.twitterShowScreenName&&(o=t.twitterButtonWidth,typeof InstallTrigger!="undefined"&&(o=parseFloat(t.twitterButtonWidth)+.3+"rem"),n.find(t.twitterBreakingNewsSelector).append(i(f,e,o))))}window.setTimeout(function(){e();o()},t.delay)}var e={facebookSelector:"#fbcount",twitterSelector:"#twcount",twitterBreakingNewsSelector:"#bnewstwcount",delay:u.loadDelay},f='<iframe src="{0}" scrolling="no" frameborder="0" allowTransparency="true" allowTransparency="true" style="width:{1};"><\/iframe>';return t(o,e)});define("truncate",["jquery","jqBehavior","mediator","requestAnimationFrame","measure","format","truncate.tokens","perfMarker"],function(n,t,i,r,u,f,e){function l(t,e){function st(){var i,f,e,o,r;if(it){for(it=!1,i=l;i--;){for(f="",e=0,r=t[i].firstChild;r!=null;)r.nodeType==1?(++e,o=r):r.nodeType==3&&(f+=r.nodeValue),r=r.nextSibling;e==1&&n.trim(f)==""&&(p[i]=o)}for(i=l;i--;)w[i]=u(t[i]),v[i]=(p[i]||t[i]).innerHTML,nt[i]=t[i].title}else ot();for(i=l;i--;)rt(i),b[i]=v[i],y[i]=!0;ut()}function ht(){for(var n=l;n--;)rt(n),y[n]=t[n].scrollHeight>a[n];ut()}function rt(n){var i=t[n];if(i&&i.parentNode){var r=w[n],o=i.getAttribute("data-truncate-lines")||e.truncateLines,u=parseFloat(r("paddingTop")),s=parseFloat(r("paddingBottom")),h=r("lineHeight"),f=parseFloat(r("maxHeight"));o?(a[n]=parseFloat(h)*o+s,a[n]>f&&(a[n]=f),a[n]+=u):a[n]=(f||i.clientHeight)+u;a[n]=a[n]+.5|0;tt[n]=i.clientWidth;g[n]=u+2*parseFloat(h)+s+.5|0}else w[n]=p[n]=null,y[n]=d[n]=!1}function ut(){for(var f=!0,e=1e3,i,r,u;f&&--e;){for(f=!1,i=l;i--;)if(y[i])if(d[i]=t[i].scrollHeight>a[i],d[i]){if(k[i]=!0,t[i].scrollHeight<g[i]){ft(i);continue}r=b[i];r.slice(-s)==o&&(r=r.slice(0,-s));u=c.exec(r);u&&u[0]!=r?(f=!0,t[i].scrollHeight>a[i]*2&&(r=r.substr(0,r.length/2)),b[i]=r.substr(0,r.length-u[0].length)+o):ft(i)}else y[i]=!1;for(i=l;i--;)d[i]&&((p[i]||t[i]).innerHTML=b[i])}for(i=l;i--;)k[i]&&(t[i].title=n.trim(n("<span>"+v[i]+"<\/span>").text()))}function ft(n){var t=tt[n]-parseInt(w[n]("paddingLeft"))-parseInt(w[n]("paddingRight"));b[n]=t>0?f(h,v[n],t+"px"):v[n];y[n]=!1}function et(){r(st)}function ot(){for(var n=l;n--;)k[n]&&((p[n]||t[n]).innerHTML=v[n],t[n].title=nt[n],k[n]=!1)}var l=t.length,p=new Array(l),w=new Array(l),g=new Array(l),v=new Array(l),nt=new Array(l),tt=new Array(l),b=new Array(l),a=new Array(l),y=new Array(l),k=new Array(l),d=new Array(l),it=!0;return i.sub("truncate",function(){r(ht)}),{setup:et,teardown:ot,update:et}}var h='<span style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:{1}">{0}<\/span>',o=e.truncateEllipsis,s=o.length,c=/(?:\s|[,!\.\?:;])*([\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[^\s\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]+)(?:\s|[,!\.\?:;])*$/;return t(l,null,{each:1})});define("twitterComments",["jquery","jqBehavior","window"],function(n,t,i){function r(t){function r(t){t.preventDefault();i.open(n(this).attr("href"),"Twitter","status=0,toolbar=0,location=0,resizable=1,scrollbars=1,left="+(i.screen.width-250)/2+",top="+(i.screen.height-350)/2+",width=500,height=450")}return{setup:function(){t.find(".twitteractions > a").on("click",r)},teardown:function(){t.find(".twitteractions > a").off("click")}}}return t(r)});require(["window","jquery","device","mediator"],function(n,t,i,r){var f,u=t("meta[name=viewport]"),e=i.capability("Viewport_Landscape"),s=u.attr("content"),o=function(){n.innerHeight>n.innerWidth?u.attr("content",s):u.attr("content",e);r.pubChannel("update","mediaQuery")};u.length&&e&&(o(),t(n).resize(function(){clearTimeout(f);f=setTimeout(o,50)}))});require(["jquery","navigation","headData","webApp.tokens"],function(n,t,i,r){var u=/(\?|&)ver=[\d\.]+(&|$)/gi;n.ajaxPrefilter(function(n){var f;if(n=n||{},f=n.url,i.ssl===!0&&f.substr(0,7).toLowerCase()=="http://"&&(f="https://"+f.substr(7)),!n.notVersioning&&f&&t.isLocal(f)&&!f.match(u)){var e=f.split("#"),o=e[0],s=e[1]?"#"+e[1]:"";n.url=o+(o.indexOf("?")>-1?"&":"?")+"ver="+r.appVersion+s}})});require(["jquery","getCookie","setCookie","navigation","location","c.onload"],function(n,t,i,r,u){var f=n("#user-profile").data("dhp_cookie_days");f=f!=undefined?f:15;var e="ocid",o="hp",s="homepage";(function(){var h=r.getParamsFromUrl(u.href),c=h&&h[e]?h[e].toLowerCase():"",l=c.indexOf(o)!=-1||c.indexOf(s)!=-1,n=t(e);l&&!n?i(e,c,f,i.topDomain,"/"):f>0&&!l&&n&&(n.indexOf(o)!=-1||n.indexOf(s)!=-1)&&i(e,"",-1,i.topDomain,"/")})()});define("msnNativeAds",["jquery","jqBehavior","pageInstance","headData","getCookie","window","afire"],function(n,t,i,r,u,f,e){function a(n,t){var y=t.ct,p=t.impr,w=t.eimpr,b=t.pg,k=t.pid,e,a,v;try{y&&n.click(function(){h(y)});p&&h(p);w&&h(w);b&&(o=o||u("MUID"),s||(e=u("ANON"),e?(a=e.indexOf("="),v=e.indexOf("&"),a!==-1&&v!==-1&&(s=e.substring(a+1,v))):s=o),c=i.getActivityId()||r.clientSettings.aid,l+=s+"&MUID="+o+"&PG="+b+"&PVGUID="+c+"&PROVIDERID="+k,h(l))}catch(d){f.console&&f.console.log("error sending native trackers"+d.message)}}function h(n){e(n)}var o,s,c,l="http://rad.msn.com/ADSAdClient31.dll?GetSAd=&VWS=0&AP=1064&ID=";return t(a)});require(["binding","c.dom"],function(n){require(["c.deferred"],function(){require(["jquery","imgSrc"],function(n,t){n("#username img,#sign-in img").each(function(){t.go(this)})});n("twitterComments","#breakingnews").all();n("marketDropdown","#site-market").all();n("marketDropdown",".marketswitch").all({triggerEvent:"click"});n("marketDropdown",".langtoggle").all({triggerEvent:"click"});require(["window","c.onload"],function(t){t.setTimeout(function(){n("socialPlugins","#social-plugins").all()},8e3);n("socialPlugins","#bnewssocial-plugins").all()})});n("poll",".pollcontainer").all();n("flyout",".megamenu").all({eventOrigin:"#header-common>h1>.vertical",skipContentOriginEventTargetCheck:!0});n("flyout","#header-common").view(n.views.SIZE12COLUMN,{eventOrigin:"#header-search>button",outsideEvent:"mousedown touchstart"});n("flyout","#header-common").view(n.views.SIZE12COLUMN,{eventOrigin:"#q",triggerEvent:"focus click",allowToggleOff:!1,outsideEvent:"mousedown touchstart",contentEventOrigin:"#srchfrm",disableEventBubbling:!0});n("flyout","#header-common").view(n.views.SIZE34COLUMN,{eventOrigin:"#q",triggerEvent:"focus click",allowToggleOff:!1,outsideEvent:"mousedown touchstart",contentEventOrigin:"#srchfrm"});n("flyout","#username").all({eventOrigin:"#username>button,#username>figure"});n("flyout","#sign-in").all({eventOrigin:"#sign-in>a"});n("flyout","#language-toggle").view(n.views.SIZE34COLUMN,{eventOrigin:"#language-toggle>button"});n("feedback","#feedback-flyout").all();n("searchBing","#srchfrm").all();n("navArrowScroll",".navinner").all();require(["c.onload"],function(){n("msnNativeAds","a.nativead").all()})});require(["sso","headData","c.deferred"],function(n){n();var t=document.getElementsByTagName("head")[0];t&&t.getAttribute("data-pdp-stale")&&define("c.pdp",1)});define("searchHistory.tokens",{Header:"Recent Searches:",ManageHistory:"Manage History"});define("searchHistory",["jquery","jqBehavior","format","pageInstance","trackInfo","viewAware","searchHistory.tokens"],function(n,t,i,r,u,f,e){function s(t,i){function a(){f.currentView()&f.views.SIZE4COLUMN?(o+=i.fourColAdj,s++):(o=i.maxLength,s=i.maxResults)}function h(){n.ajax({url:i.shUrl,dataType:"text",cache:!1,xhrFields:{withCredentials:!0},success:function(n){v(n)}})}function v(t){require(["c.deferred"],function(){var w,o,f,b,h,k,c,l,v;try{if(t&&t.length>2&&(a(),w={},w=eval("("+t+")"),o=w.UserHistory,o&&o.QuerySets&&(f=y(o.QuerySets),f&&(f=f.slice(0,s)),b=f.length,f&&b))){for(h=[],k=r.getActivityId()||u.sitePage.requestId,c=0;c<b;c++)l=f[c],l&&l.Text&&h.push(p(l,k));for(e.empty().append(n("<li>"+i.shLbl+"<\/li>")),v=0;v<h.length;v++)e.append(h[v]);e.append(n('<li class="clrsh">').append(n("<a>").text(i.manageHistory.manageText).attr({href:i.manageHistory.manageURL,title:i.manageHistory.manageText})));u.client.OTFSpecialSection("BingSeachHistory")}}catch(d){}})}function y(n){var r=null,t;if(!n)return r;for(t=0;t<n.length;t++)n[t].Type==i.queryType&&(r=n[t].Queries);return r}function p(t,r){var u=i.bingUrl+t.Url.replace(/FORM=[O|o]\d*MSN\d*/gi,"FORM={0}".format(c)),f,e;return u+="&refig="+r,f=n("<a>").attr("href",u).text(t.Text).attr({title:t.Text,target:i.target}),e=t.Text.length<o?"<li>":'<li class="shrink">',n(e).append(f)}var c=i.shFC,o=i.maxLength,s=i.maxResults,l=n('<ul id="opensh"><\/ul>'),e;return t.after(l),e=n("#opensh"),h(),{update:function(){h()}}}var o={shUrl:"http://www.bing.com/msnhomepagehistory.aspx",bingUrl:"http://www.bing.com",maxResults:4,queryType:"recent",maxLength:9,fourColAdj:8,target:"_blank",shLbl:e.Header,manageHistory:{manageText:e.ManageHistory,manageURL:"http://www.bing.com/profile/history/delete?rp=%2f&FORM=O2LH"},shFC:"PRHPHI"};return t(s,o)});require(["binding","c.deferred"],function(n){n("searchHistory","#srchfrm").view(n.views.SIZE34COLUMN)});define("jqueryPlus",["jquery","modernizr","device","screen","requestAnimationFrame","deviceGroup"],function(n,t,i,r,u,f){function b(n){var t=n.match(a);return t&&t.length>2?t[2].split(","):[]}function v(n){var t=b(n),i=t.length;return parseFloat(i==6?t[4]:i==16?t[12]:0)}function y(n){return parseFloat(n.css("font-size"))||12}function k(){var u,t,i,n,r;for(u in o){t=o[u];for(i in t)i.indexOf("$")!=0&&(n=t[i],n&&(r=(new Date).getTime()-n.animation.startTime,r>=n.animation.options.duration?w(t,n):d(t,n,r)))}p()}function p(){s.length?(l=!0,u(function(){k()})):l=!1}function d(t,i,r){var h=i.animation.options.easing||"swing",e=n.easing[h],o=i.animation.options.step,u,f,s;o&&(i=o(i));u=i.startValue;e&&(f=i.animation.options.duration,s=e(r/f,r,0,1,f),u=i.startValue+s*(i.endValue-i.startValue)||i.startValue);t.$element.css(i.name,u)}function w(t,i,r){var f=i.name,u;r||t.$element.css(f,i.endValue);u=i.animation;delete o[t.$element.uniqueId()];delete u.properties[f];delete t[i];u.properties.length||(u.options.complete&&u.options.complete(),n.inArray(u,s)+1&&s.splice(n.inArray(u,s),1))}var h=t.prefixed("transform")||"transform",e,a,c,o,s,l;return(n.fn.innerHeight=function(){var n=this[0];return n&&n.innerHeight?n.innerHeight:this.height()},e={},Number.prototype.mod=function(n){return e[this]||(e[this]={}),e[this][n]||(e[this][n]=(this%n+n)%n),e[this][n]},t.translateXCss=t.csstransforms3d&&i.isCapable("AllowTransform3d")?"translateX3d":t.csstransforms&&i.isCapable("AllowTransform2d")?"translateX":"left",a=new RegExp("matrix(3d)?\\(([0-9-., ]*)\\)","i"),n.cssHooks.translateX={get:function(t){var i=n(t).css(h);return v(i)},set:function(t,i){n(t).css(h,i===""?i:"translateX("+i+")")}},n.fx.step.translateX=function(t){n.cssHooks.translateX.set(t.elem,t.now+t.unit)},n.cssHooks.translateX3d={get:function(t){var i=n(t).css(h);return v(i)},set:function(t,i){n(t).css(h,i?"translate3d("+i+",0,0)":"")}},n.fx.step.translateX3d=function(t){n.cssHooks.translateX3d.set(t.elem,t.now+t.unit)},n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i}}),n.fn.pxToEm=function(n,t){if(!n)return 0;var i=y(t||this);return parseFloat(n)/i+"em"},n.fn.toPx=function(n,t){var i=0;return n&&(i=parseFloat(n),n.indexOf("em")!=-1&&(i*=y(t||this))),i},c=0,n.fn.uniqueId=function(){var t=n(this).data("uniqueId");return t||(c++,t=c,n(this).data("uniqueId",t)),t},o={},s=[],f.isPc)?n:(n.fn.animate=function(t,i){for(var f,r,a,v,y=(new Date).getTime(),e=0;e<this.length;e++){var h=n(this[e]),c=h.uniqueId(),u=o[c];u||(u=o[c]={$element:h});i.step&&typeof i.step!="function"&&(i.step=null);f={properties:t,options:i,startTime:y};s.push(f);for(r in t)u[r]&&w(u,u[r],!0,f),a=t[r],v=h.css(r),u[r]={name:r,startValue:v,endValue:a,animation:f}}return l||p(),n(this)},n.fn.stop=function(){return n(this)},n)});define("touchEvents",["jquery","modernizr","window"],function(n,t,i){function p(){return"ontouchstart"in i}function a(n){return f(n),!1}function f(n){n.originalEvent&&n.originalEvent.preventManipulation&&n.originalEvent.preventManipulation();n.preventDefault();n.stopPropagation()}function w(n){var t=n.originalEvent.changedTouches||n.originalEvent.touches;return t&&t.length?t:[n]}function b(n){return n.x&&Math.abs(Math.atan(n.y/n.x))<y?s:l}function h(n,t){return n&&t?{x:n.x/t,y:n.y/t}:{x:0,y:0}}function e(n,t){return n&&t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}function o(t,i,r){n.each(u[i],function(n,u){t.bind(u,function(n){r(n,i)})})}function k(t,i){n.fn[t]=function(n,i){return n?this.bind(t,i,n):this.trigger(t,i)};n.event.special[t]={setup:function(t,r){i(n(this),t,r)}}}var v={direction:"all",preventDefaultOnStart:!0,maximumDistanceForClick:20,maximumTimeForClick:300,distanceBeforeDirectionDetection:0,maximumTimeForThrow:1200,minimumLastThrowSpeed:1,maximumTimeForSwipe:400,minimumDistanceForSwipe:30,directionChangeBuffer:5},y=Math.PI/4,c=n(i),r={touch:"touch",start:"start",move:"move",stop:"stop",cancel:"cancel",tap:"tap",swipeUp:"swipeUp",swipeRight:"swipeRight",swipeDown:"swipeDown",swipeLeft:"swipeLeft",throwUp:"throwUp",throwRight:"throwRight",throwDown:"throwDown",throwLeft:"throwLeft"},s="horizontal",l="vertical",u={touch:{start:["touchstart","touchenter"],stop:["touchend","touchleave"],move:["touchmove"],cancel:["touchcancel"],preventDefaultOnStart:!1,mimickBrowserScroll:!1},mouse:{start:["mousedown"],stop:["mouseup"],move:["mousemove"],cancel:["mouseleave"],preventDefaultOnStart:!1,mimickBrowserScroll:!1}};return n.each({touch:t.touch||p(),mouse:!0},function(n,t){return t&&(u=u[n]),!t}),k(r.touch,function(t,y){function ft(){ut=p=k=g=it=nt=0}function rt(o,a){var v=w(o);u.preventDefaultOnStart&&f(o);(ut||it&&p.totalDistance>=d.maximumDistanceForClick)&&(ut=!0,f(o));(p||a==r.start)&&n.each(v,function(v,y){var w,ot,ct,lt,ut;if(et(y),w={touchType:a,coord:{x:y.pageX,y:y.pageY},screenCoord:{x:y.screenX,y:y.screenY},scrollCoord:{x:c.scrollLeft(),y:c.scrollTop()},count:k?k.count+1:0,time:(new Date).getTime()},a==r.start&&(ft(),tt=!1,p=n.extend({totalDistance:0},w),k=n.extend({},w)),w.delta=e(w.coord,k.coord),w.screenDelta=e(w.screenCoord,k.screenCoord),w.duration=w.time-k.time,w.speed=h(w.delta,k.duration),p.delta=e(w.coord,p.coord),p.screenDelta=e(w.screenCoord,p.screenCoord),p.totalDistance+=Math.sqrt(Math.pow(w.delta.x,2)+Math.pow(w.delta.y,2)),ot=d.direction==s,k&&k.speed&&(ct=ot?w.delta.x:w.delta.y,lt=ot?k.delta.x:k.delta.y,ct*lt<0&&(p.movecoord=w.coord,p.movetime=w.time)),p.movecoord&&(p.movechange=e(w.coord,p.movecoord),p.moveduration=w.time-p.movetime,p.movespeed=h(p.movechange,p.moveduration)),p.duration=w.time-p.time,p.speed=h(p.delta,p.duration),g=b(p.delta),p.totalDistance>d.distanceBeforeDirectionDetection&&d.direction!="all"&&!it&&!nt&&(p.direction=g,d.direction!=g?(nt=!0,w.touchType=r.cancel):p.totalDistance>d.maximumDistanceForClick&&(it=!0,f(o))),w.touchType==r.stop){var st=(p.movechange||p.delta).x,ht=(p.movechange||p.delta).y,at=p.moveduration||p.duration,rt=g==s,yt=rt?Math.abs(p.speed.x):Math.abs(p.speed.y),pt=rt?Math.abs(w.speed.x):Math.abs(w.speed.y),wt=rt?Math.abs(k.speed.x):Math.abs(k.speed.y),vt=Math.max((pt+wt)/2,yt);p.duration<d.maximumTimeForClick&&p.totalDistance<d.maximumDistanceForClick?(tt=!0,w.touchType=r.tap):(w.distance=Math.abs(rt?st:ht),vt>.3&&(at<d.maximumTimeForSwipe?w.touchType=rt?st>0?r.swipeRight:r.swipeLeft:ht>0?r.swipeDown:r.swipeUp:at<d.maximumTimeForThrow&&vt>d.minimumLastThrowSpeed&&(w.touchType=rt?st>0?r.throwRight:r.throwLeft:ht>0?r.throwDown:r.throwUp)))}(k.touchType!=w.touchType||k.coord.x!=w.coord.x||k.coord.y!=w.coord.y)&&(nt&&w.touchType!=r.cancel||(ut=n.Event(r.touch,{current:w,last:k,start:p,direction:g,originalEvent:o}),t.trigger(ut),tt=ut.allowClick!==!1,ut.isDefaultPrevented()&&o.preventDefault(),ut.isPropagationStopped()&&o.stopPropagation(),ut.isImmediatePropagationStopped()&&o.stopImmediatePropagation()));nt&&u.mimickBrowserScroll&&g==l&&(p.scrollCoord.y-=w.screenDelta.y,n(i).scrollTop(p.scrollCoord.y));a==r.stop||a==r.cancel?ft():k=w})}function et(n){n.pageX||n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY,n.screenX=n.originalEvent.screenX,n.screenY=n.originalEvent.screenY,n.pointerId=n.originalEvent.pointerId,n.identifier=n.originalEvent.identifier)}var p,k,g,it,ut,nt,tt=!1,d=n.extend({},v,y);ft();t.find("*").addBack().each(function(){n(this).attr("draggable",!1).attr("selectable",!1).bind("ondragstart",a).bind("drag",a).not(".mobilead").not(".ip,.ip *").bind("click",function(n){return tt||f(n),tt});this.onselectstart!==undefined?this.onselectstart=function(){return!1}:this.style.MozUserSelect!==undefined&&(this.style.MozUserSelect="none")});o(t,r.start,rt);o(t,r.move,rt);o(t,r.stop,rt);o(t,r.cancel,rt)}),r});define("tabKeyPressed",["jquery"],function(n){var t=!1;n(document).on("keydown",function(n){n.keyCode==9&&(t=!0)}).on("keyup",function(n){n.keyCode==9&&(t=!1)});return function(){return t}});require(["jquery","binding","c.dom"],function(n,t){var i=n("html");require(["c.deferred"],function(){i.addClass("loaded")});n(".ad a.adchoices").removeClass("adchoices").addClass("adchoicesjs");t("searchTargetSelf","#srchfrm").view(t.views.SIZE12COLUMN);t("searchScope","#search-scope").view(t.views.SIZE3COLUMN|t.views.SIZE4COLUMN);t("truncate",".truncate").all()});define("adMonitoring",["adTelemetry","adCommon"],function(n,t){var i;return function(r,u,f){function k(){if(o=v(r.elem,"div",w),c=o&&o.id&&o.id.substr(b),!c)return!1;var n=new RegExp("[a-zA-Z0-9]+_"+c);return(a=e&&v(e,"div",n),!a)?!1:!0}function h(e){var g=!i||i.length==0,w,d,b,k,c,o,v,a;if(++s,g){for(i=[],w=e&&e.elem&&e.elem.querySelectorAll("div"),o=0;c=w[o];++o)d={id:c.id,w:c.offsetWidth,h:c.offsetHeight},i.push(d);l=window.addEventListener?setInterval(h.bind(this,e),u<<1):setInterval(function(){h(e)},u<<1);return}if(w=e&&e.elem&&e.elem.querySelectorAll("div"),b=!1,k=!1,i&&i.length>0)for(o=0;c=w[o];++o)(v=i[o],a={id:c.id,w:c.offsetWidth,h:c.offsetHeight},v&&v.id==a.id)&&(b=v.w!=a.w||v.h!=a.h,b&&(i[o].w=a.w,i[o].h=a.h),k|=b);(!k&&s>p||s==y)&&(clearInterval(l),s=0,i=[],typeof f=="function"&&f(!0,!0),t.setAdContainerDisplayState(r.htmlid,r.isVisible,r.canBeDisplayed||r.isRendered,r.canDisplayAdChoices),n.recordAdOperation(e,"usrszch",!1,e.sizeCharacteristics.adSizeType,!1),t.updateElementData(e.telemetry,"w",e.sizeCharacteristics.actualWidth),t.updateElementData(e.telemetry,"h",e.sizeCharacteristics.actualHeight))}function v(n,t,i){var f,r,u;if(n&&n.querySelectorAll)for(f=n.querySelectorAll(t),u=0;r=f[u];++u)if(i.test(r.id))return r;return null}var c,o,a,s=0,l,y=5,p=3,w=/ebDiv[0-9]+/i,b=5,e;(e=document.getElementById("eyeDiv"),r&&!r.isMonitored&&k(r))&&(window.addEventListener?(e.addEventListener("mousedown",h.bind(this,r)),r.isMonitored=!0):window.attachEvent?(e.attachEvent("onmousedown",function(){h(r)}),r.isMonitored=!0):r.isMonitored=!1)}});define("arrowScroll",["jquery","jqBehavior","imgSrc","window","remToPixel","scrollLeft","dir.tokens","perfMarker","requestAnimationFrame"],function(n,t,i,r,u,f,e,o,s){function h(t,r){function k(){b=r.reduceScrollAmount?u(r.reduceScrollAmount):0;r.reposition&&l[0]&&(o=f(l[0]));h.on("click",it);c.on("click",rt);s(function(){w()});l.on("scroll",w)}function d(){h.off("click",it);c.off("click",rt);l.off("scroll",w)}function ut(){d();k()}function w(){if(ft(),!v){ot();return}y===0?(e.ltr?tt:nt)():y>0&&y<v?st():y===v&&(e.ltr?nt:tt)()}function g(n){l.animate({scrollLeft:f.adjustValue(l[0],et(n))},{queue:!1,duration:220,complete:function(){w()}})}function ft(){var n=l[0];n&&(p=n.clientWidth,y=f(n),v=n.scrollWidth-p-r.scrollOffset,i.loadInViewport&&i.loadInViewport(t[0]))}function et(n){return e.ltr||(n*=-1),n==-1?o>0&&(o-=p-b+r.scrollOffset,o<0&&(o=0)):n==1&&o<v&&(o+=p-b+r.scrollOffset,o>v&&(o=v)),o}function ot(){h.removeClass(a);c.removeClass(a)}function st(){h.addClass(a);c.addClass(a)}function nt(){c.removeClass(a);h.addClass(a)}function tt(){h.removeClass(a);c.addClass(a)}function it(){g(-1)}function rt(){g(1)}function ht(){h=n('<button class="stripearrow"><\/button>');c=n('<button class="stripearrow"><\/button>');l.before(h).after(c)}var h,c,l=r.scrollRegion?t.find(r.scrollRegion):t.children("div");r.addArrowButtons?ht():(h=t.find("button").first(),c=t.find("button").last());var y=0,v=0,a="show",o=0,p,b;return{setup:k,update:ut,teardown:d}}var c=n(r);return t(h,{addArrowButtons:!1,reduceScrollAmountForArrows:!1,scrollOffset:0,reposition:!1})});define("meFacebook",["jquery","jqBehavior","navigation","meModule","meModule.Tokens","window","headData","getCookie","setCookie","mediator","elementTrackingDecorator"],function(n,t,i,r,u,f,e,o,s,h,c){function ft(t){var i={notificationCounts:{messages:0,notifications:0},init:function(t,r){n("head").prepend("<style id='fb-animation-fix'><\/style>");f.fbAsyncInit=function(){f.FB.init({appId:t,xfbml:!1,cookie:!0,version:"v2.0"});i.ready()},function(n,t,i){var u,f=n.getElementsByTagName(t)[0];n.getElementById(i)||(u=n.createElement(t),u.id=i,u.src="//connect.facebook.net/"+r+"/sdk.js",f.parentNode.insertBefore(u,f))}(document,"script","facebook-jssdk");i.bindEvents()},bindEvents:function(){t.on("click",tt,function(){t.find(".meflyout").hasClass(r.classNames.signout)&&i.login()});t.on("click",g,function(){i.notificationCounts.messages=0;i.deferUpdateNotifications()});t.on("click",nt,function(){i.notificationCounts.notifications=0;i.deferUpdateNotifications()})},ready:function(){if(f.FB){var n=o(b);if(n){i.logout();s(b,0,-1);return}f.FB.getLoginStatus(function(n){n&&n.status==="connected"&&r.deferredFlyoutOnHover(t,"FacebookFlyoutVisible",i.getNews)})}},getNews:function(){h.unsub("FacebookFlyoutVisible",i.getNews);r.updateFlyout(t,a,{showProgress:!0},!0,w,i.logout);i.notificationCounts.messages=0;i.notificationCounts.notifications=0;i.updateNotifications();n.ajax({url:y,cache:!1,timeout:rt}).fail(function(n,t){r.logAjaxError(t,"Facebook","get news");i.updateFlyout({signedIn:!0,error:!0})}).done(function(n){i.updateFlyout({result:n,signedIn:!0,error:!1})})},updateFlyout:function(u){var e={},s=u.signedIn,h=u.result,o,l,f;i.notificationCounts.notifications=0;i.notificationCounts.messages=0;s?u.error?e.showError=!0:(o=h&&h.trim(),o?(f=n(o),i.notificationCounts.notifications=f.data("notifications-count")||0,i.notificationCounts.messages=f.data("messages-count")||0,l=f.find("li"),l.length?(f=n("<div>"+o+"<\/div>"),c.setTrackingAttrs(f,t,{defaults:{n:a+".content"}}),e.content=f.html()):e.showNoContent=!0):e.showNoContent=!0):e.signedOutImageUrl=v;r.updateFlyout(t,a,e,s,w,i.logout);i.updateNotifications();s&&u.error==!1&&i.fbLikeStatusProcessing()},deferUpdateNotifications:function(){f.setTimeout(function(){i&&i.updateNotifications()},2e3)},updateNotifications:function(){var n=i.notificationCounts.messages,u=i.notificationCounts.notifications,f=n+u,e=f&&f>0,o=[{index:0,count:n,displayNotification:n>0},{index:1,count:u,displayNotification:u>0}];r.updateNotifications(t,".facebook",o,l,{maxNotifications:it,count:f,updateInTile:!0,updateInTask:!0,displayNotification:e})},login:function(){f.FB&&f.FB.login(function(n){n.authResponse&&i.getNews()},{scope:d})},logout:function(n){n&&n.preventDefault();try{f.FB.getLoginStatus(function(n){n.status==="connected"?f.FB.logout(function(){i.updateFlyout({signedIn:!1})}):i.updateFlyout({signedIn:!1})},!0)}catch(t){i.updateFlyout({signedIn:!1})}},fbLikeStatusProcessing:function(){f.FB.api("/?id="+l.likeUrl,function(t){t!=null&&t.id!=null&&f.FB.api("/me/likes/"+t.id,function(t){t.data.length===1&&n(ut).hide()})})}};return{setup:function(){var o,n,u;if(e&&e.clientSettings&&e.clientSettings.fbid){o=e.clientSettings.fbid;n="en_US";v||(v=t.find(r.selector.contentDiv).data("signedout-image-url"));try{u=r.info.locale.split("-");n=u[0]+"_"+u[1].toUpperCase()}catch(s){}i.init(o,n)}else f.console&&f.console.warn&&f.console.warn("Missing fbid in data-client-settings. Can't initialize the Facebook module for this origin: "+f.location.origin)},facebook:i}}var k=r.info.origin+"/"+r.info.locale,y=k+"/homepage/Facebook/Data",p=location.href.split("?")[1],a="facebook";typeof p!="undefined"&&(y+="?"+p);var d="user_likes,read_stream,manage_notifications,read_mailbox",l=u.tile.facebook[1],g=r.selector.tasks[0],nt=r.selector.tasks[1],w=r.selector.tasks[2],tt=r.selector.flyoutFooter,it=l.maxNotifications,rt=l.requestTimeout,v,b="FBForceSignout",ut=".facebook .meflyout>ul li:nth-child(4)";return t(ft)});define("meTwitter",["jquery","jqBehavior","navigation","meModule","meModule.Tokens","getCookie","window","track","mediator"],function(n,t,i,r,u,f,e,o,s){function k(t,i){function c(n,f){var o=n.signedIn&&f!=="USER_AUTH_FAILED",s=n.error,e={},h;o?(h=u.tile.twitter[1],s?e.showError=!0:f&&f.trim()?e.content=f:e.showNoContent=!0):e.signedOutImageUrl=v;r.updateFlyout(t,"twitter",e,o,r.selector.tasks[2],a);o?b():r.attachSignInPopupWindow(t,l,i.popupWidth,i.popupHeight)}function a(t){t.preventDefault();n.get(p).always(c.bind(null,{signedIn:!1,error:!1}))}function b(){var i,u,f;t.find(r.selector.contentItem).off(h).on(h,function(t){var i=n(this).data("landingurl"),r=t.target||t.srcElement;i&&r&&r.tagName.toLowerCase()==="p"&&(e.open(i,"_blank"),o.trackEvent({type:"click",target:this}))});t.find(".tweetactions a").off(h).on(h,function(n){var t=n.target||n.srcElement;t&&t.href&&(n.preventDefault(),k(t.href))});i=t.find(r.selector.contentList);u=i.length?i.data("meurl"):null;u&&(f=t.find(r.selector.tasks[1]),f.length&&(f[0].href=u))}function k(n){var i=550,t=420,r=screen.height,u=screen.width,f=Math.round(u/2-i/2),o=r>t?Math.round(r/2-t/2):0;e.open(n,"intent","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+i+",height="+t+",left="+f+",top="+o)}return e.populateTweets=function(){s.unsub("TwitterFlyoutVisible",e.populateTweets);r.updateFlyout(t,"twitter",{showProgress:!0},!0,r.selector.tasks[1],a);n.ajax({url:y,type:"GET",cache:!1,timeout:i.timeout}).fail(function(n,t){r.logAjaxError(t,"Twitter","get tweets");c({signedIn:!0,error:!0})}).done(c.bind(null,{signedIn:!0,error:!1}))},{setup:function(){v||(v=t.find(r.selector.contentDiv).data("signedout-image-url"));f(w)?r.deferredFlyoutOnHover(t,"TwitterFlyoutVisible",e.populateTweets):r.attachSignInPopupWindow(t,l,i.popupWidth,i.popupHeight)}}}var b={popupWidth:500,popupHeight:500,timeout:u.tile.twitter[1].requestTimeout},h="click",c=r.info.origin+"/"+r.info.locale+"/homepage/",y=c+"Twitter/Tweets",l=c+"Twitter/Authorize",a=location.href.split("?")[1],p,w,v;return typeof a!="undefined"&&(y+="?"+a,l+="?"+a),p=c+"Twitter/SignOut",w="TwitterSignedIn",t(k,b)});define("meYahooMail",["jquery","jqBehavior","meModule","meModule.Tokens","getCookie","window","setCookie","mediator"],function(n,t,i,r,u,f,e,o){function nt(t,c){function nt(r,u){var o=r.signedIn,b=r.error,f={},e="",h,a,w;o?b?f.showError=!0:u&&u.trim()&&(h=n(u.trim()),e=h.attr("data-unre-msg-count"),n("li",h).length?f.content=u:f.showNoContent=!0):f.signedOutImageUrl=l;i.updateFlyout(t,"yahoomail",f,o,p,g);a=e&&e.trim()>0;i.updateNotifications(t,".yahoomail",0,s,{maxNotifications:c.maxNotifications,count:e,updateInTile:!0,updateInTask:!1,displayNotification:a});o||(w=t.find(i.selector.notification),w.text(y),i.attachSignInPopupWindow(t,v,c.popupWidth,c.popupHeight))}function tt(){g();e(a,0,-1);o.unsubChannel("SignOutEvent",h,null)}function g(i){i&&i.preventDefault();n.get(b).always(nt.bind(null,{signedIn:!1,error:!1}));n("<iframe/>").attr("id","yahoologout").attr("src",k).attr("style","display: none").load(function(){t.find("#yahoologout").remove()}).appendTo(t)}return f.populateYahooMailInbox=function(){o.unsub("YahooFlyoutVisible",f.populateYahooMailInbox);i.updateFlyout(t,"yahoomail",{showProgress:!0},!0,p,g);i.updateNotifications(t,".yahoomail",0,s,{maxNotifications:c.maxNotifications,count:-1,updateInTile:!0,updateInTask:!1,displayNotification:!1});n.ajax({url:w,type:"GET",cache:!1,timeout:c.timeout}).fail(function(n,t){i.logAjaxError(t,"YahooMail","get email");nt({signedIn:!0,error:!0})}).done(nt.bind(null,{signedIn:!0,error:!1}))},{setup:function(){var n,s;if(l||(l=t.find(i.selector.contentDiv).data("signedout-image-url")),n=u(a),n){g();e(a,0,-1);return}u(d)?i.deferredFlyoutOnHover(t,"YahooFlyoutVisible",f.populateYahooMailInbox):(s=t.find(i.selector.notification),s.text(y),i.attachSignInPopupWindow(t,v,c.popupWidth,c.popupHeight));h=i.getMeModuleId(t);h&&o.subChannel(r.tile.mailProviderOptions[0],h,tt)}}}var c=i.info.origin+"/"+i.info.locale+"/homepage/",w=c+"YahooMail/Emails",v=c+"YahooMail/Authorize",b=c+"YahooMail/SignOut",k="https://login.yahoo.com/config/login?logout=1",d="YahooMailSignedIn",s=r.tile.yahoomail[1],y=r.tile.yahoomail[0].notification,p=i.selector.tasks[2],l,a="YahooForceSignout",h,g={popupWidth:600,popupHeight:500,maxNotifications:s.maxNotifications,timeout:s.requestTimeout};return t(nt,g)});define("meGmail",["jquery","jqBehavior","meModule","meModule.Tokens","getCookie","window","setCookie","mediator"],function(n,t,i,r,u,f,e,o){function g(t,s){function g(u,f){var c=f.signedIn,k=f.error,e={},a=0,g,o,p,w,b;c?(g=r.tile.gmail[1],k?e.showError=!0:(o=u&&u.trim(),o?(p=n(o),a=p.data("unread-count"),w=p.find("li"),w.length?e.content=o:e.showNoContent=!0):e.showNoContent=!0)):e.signedOutImageUrl=l;b=a>0;i.updateNotifications(t,".gmail",0,h,{maxNotifications:s.maxNotifications,count:a,updateInTile:!0,updateInTask:!1,displayNotification:b});i.updateFlyout(t,"gmail",e,c,y,d);c||i.attachSignInPopupWindow(t,v,s.popupWidth,s.popupHeight)}function nt(){d();e(a,0,-1);o.unsubChannel("SignOutEvent",c,null)}function d(i){i&&i.preventDefault();n.get(w).always(function(){g(null,{signedIn:!1,error:!1})});n("<iframe/>").attr("id","logoutframe").attr("src",b).attr("style","display: none").load(function(){t.find("#logoutframe").remove()}).appendTo(t)}return f.populateGmail=function(){o.unsub("GmailFlyoutVisible",f.populateGmail);i.updateFlyout(t,"gmail",{showProgress:!0},!0,y,d);i.updateNotifications(t,".gmail",0,h,{maxNotifications:s.maxNotifications,count:-1,updateInTile:!0,updateInTask:!1,displayNotification:!1});n.ajax({url:p,type:"GET",cache:!1,timeout:s.timeout}).fail(function(n,t){i.logAjaxError(t,"Gmail","get emails");g(!1,{signedIn:!0,error:!0})}).done(function(n){g(n,{signedIn:!0,error:!1})})},{setup:function(){l||(l=t.find(i.selector.contentDiv).data("signedout-image-url"));var n=u(a);if(n){d();e(a,0,-1);return}u(k)?i.deferredFlyoutOnHover(t,"GmailFlyoutVisible",f.populateGmail):i.attachSignInPopupWindow(t,v,s.popupWidth,s.popupHeight);c=i.getMeModuleId(t);c&&o.subChannel(r.tile.mailProviderOptions[0],c,nt)}}}var s=i.info.origin+"/"+i.info.locale+"/homepage/",v=s+"Gmail/Authorize",p=s+"Gmail/Emails",nt=s+"Gmail/AppId",w=s+"Gmail/SignOut",b="https://accounts.google.com/logout",k="GmailSignedIn",h=r.tile.gmail[1],y=i.selector.tasks[2],l,a="GmailForceSignout",c,d={popupWidth:600,popupHeight:640,maxNotifications:h.maxNotifications,timeout:h.timeout};return t(g,d)});define("meOffice",["jquery","jqBehavior","mediator","refreshModules"],function(n,t,i,r){function u(t,u){function h(){var i=t.find("section li time"),r=i.clone();r.each(function(){var t=new Date(n(this).attr("datetime"));t&&n(this).html(t.toLocaleString())});i.replaceWith(r)}function l(){o=t.find("[data-module-id]").eq(0);o.length&&(e=o.data("moduleId"),e&&(s="moduleRefreshed-"+e,i.sub(s,h)))}function c(){i.unsub(u.eventName,c);r(f).done(function(){h();l()})}var f,o,e,s;return{setup:function(){f=t.find("[data-module-deferred-hover], [data-module-deferred]").not("[data-sso-dependent]");f.length&&f.data("module-deferred-hover")&&f.html("<p class='meloading'><\/p>");i.sub(u.eventName,c)},teardown:function(){e&&i.unsub(s,h)}}}return t(u)});define("loadMeImages",["jquery","jqBehavior","imgSrc"],function(n,t,i){function r(t,r){function e(){u.length==0&&r.selectOnHover&&(u=n(r.imagesToLoad));u.each(function(){i.go(this)})}var u=n(r.imagesToLoad),o=navigator.pointerEnabled||navigator.msPointerEnabled?"pointermove MSPointerMove":"mousemove",f=o+" touchstart MSPointerDown pointerdown";return{setup:function(){t.one(f,e)},teardown:function(){t.off(f,e)}}}return t(r)});define("outlookInbox",["jquery","jqBehavior","outlookModel","outlookInbox.tokens","format","headData","meModule","meModule.Tokens"],function(n,t,i,r,u,f,e,o){var s=o.tile.mail[1],h=function(t,r){function c(n){u&&a(n);l(n)}function l(n){var i=n.unre;e.updateNotifications(t,".mail",0,s,{count:i,updateInTile:!0,updateInTask:!1,displayNotification:i>0})}function a(n){var i=n&&n.msgs?v(n.msgs):null;e.updateFlyout(t,"mail",{content:i},!0)}function v(t){var i="",r=o.tile.mail[1].piiText,u=o.tile.mail[1].piiUrl;return n.each(t,function(n,t){var f=new Date(t.date),e="<li "+p(t)+'><a href="'+t.murl+'" target="_blank" data-piitxt="'+r+'" piiurl="'+u+'"><span class="from">'+t.name+"<\/span><p>"+t.subj+'<\/p><time datetime="'+f.toISOString()+'">'+f.toLocaleString()+"<\/time><\/a><\/li>";i+=e}),i&&(i="<ul>"+i+"<\/ul>"),i}function y(){if(u){var n="<span>"+s.refreshPageErrorMessage+"<\/span><span>"+s.viewInboxErrorMessage+"<\/span> <a href='"+s.headerUrl+"' target='_blank'> "+s.tileTitle+"<\/a>";e.updateFlyout(t,"mail",{showError:!0,errorMessage:n},!0)}}function p(n){return n.read?"":'class="unread"'}if(!f.signedin){require(["c.sso"],h.bind(null,t,r));return}var u=i.isPcDeviceGroup(),w=n(e.selector.contentDiv,t);e.updateFlyout(t,"mail",{showProgress:!0},!0);i.getOutlookData().done(c,y)};return t(h,{})});define("meIntegratedSkype",["jquery","jqBehavior","headData","meModule","meModule.Tokens","skypeConversationsUtility","skypeContactsUtility","skypeRenderUtility","skypeUtility","mediator","window","touchGestures","escape"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function nt(t,u){function lt(){f.init(tt,v);e.init(tt);o.init(tt,v);r.updateFlyout(t,v.integratedSkypeClass,{showProgress:!0},!0);s.isSkypeIdLinked(vt,yt)}function ot(){g?(v.$recentConversations.is(":hidden")&&b.click(),it()):(g=!0,f.fetchOnlineStatus(st),v.useAbch&&e.fetchContacts(bt))}function at(){w.blur()}function vt(){f.fetchRecentConversations(pt)}function yt(){dt();oi()}function pt(){if(tt.isError){kt();return}wt();o.renderConversationSkypeIcons();gt();ii();ri();ht();fi();ei();ti()}function wt(){var i=o.getContactsMarkup()+o.getRecentConversationsMarkup();r.updateFlyout(t,v.integratedSkypeClass,{content:i},!0);v.$recentConversations=n(".recentconversations")}function st(){o.renderConversationOnlineStatus();tt.isLongPollFinished||f.fetchNextOnlieStatus(st)}function bt(){var n,t;p&&p.is(":visible")&&(n=w.val(),n.length?(t=e.searchContacts(n),rt(t)):rt(tt.contacts,!0));o.renderConversationContacts()}function rt(n,t){var i;tt.searchContactsSkypeButtons.length=0;tt.searchContactsUsersIndex.length=0;tt.isFetchingContacts?(i=o.getFetchingContactsMarkup(),p.html(i)):n.length?(i=o.getSearchContactsMarkup(n),p.html(i),o.renderSearchContactsSkypeIcons(),o.renderSearchContactsOnlineStatus(),ni(n),ui()):t?p.html(""):(i=o.getSearchContactsEmptyMarkup(),p.html(i))}function kt(){var n=o.getErrorMarkup();r.updateFlyout(t,v.integratedSkypeClass,{content:n},!0)}function dt(){var i=o.renderLinkAccountView();r.updateFlyout(t,v.integratedSkypeClass,{content:i},!0);n(".integratedskype .meflyout.signin").addClass("unlinked")}function gt(){r.updateNotifications(t,"."+v.integratedSkypeClass,0,d,{maxNotifications:v.maxNotifications,count:tt.missedConversations,updateInTile:!0,updateInTask:!1,displayNotification:tt.missedConversations>0})}function ni(n){k=n.length>v.defaultCount?!0:!1;k?v.$skypeContacts.find("> div:last-child").css("overflow-y","scroll"):v.$skypeContacts.find("> div:last-child").css("overflow-y","hidden")}function ti(){var r,t,i;i=n(".mestripescrollfix ."+v.integratedSkypeClass);t=i.data(v.abchEnabled);r=i.data(v.firstRun);typeof t!="undefined"&&(v.useAbch=t);(r||n(".integratedskype .signin").is(":visible"))&&ot();h.sub(v.flyoutVisibleEvent,ot);h.sub(v.flyoutClosedEvent,at)}function ii(){v.$skypeContacts=n(".skypecontacts");b=v.$skypeContacts.find("> div:nth-child(2) button");w=v.$skypeContacts.find("> div:nth-child(2) input");ct()}function ri(){if(v.$recentConversations.find("li").hover(function(){y.touchOnly||(y.hover=!0,it(),ut(this,!0))},function(){y.touchOnly||y.conversationElement||ut(this,!1)}),l.settings.touchSupported)v.$recentConversations.find("li").on(y.touchStopEvents,function(){y.hover?y.conversationElement=this:(y.touchOnly=!0,y.conversationElement&&it(),y.conversationElement=this,ut(this,!0))})}function ui(){if(n(".searchresultcontacts li").hover(function(){y.touchOnly||(y.hover=!0,it(),ft(this,!0))},function(){y.touchOnly||y.contactElement||ft(this,!1)}),l.settings.touchSupported)n(".searchresultcontacts li").on(y.touchStopEvents,function(){y.hover?y.contactElement=this:(y.touchOnly=!0,y.contactElement&&it(),y.contactElement=this,ft(this,!0))})}function ht(){w.bind(v.focus,function(){n(this).val("");n(this).unbind(v.focus);it();hi()})}function fi(){w.bind("change paste keyup",function(){var t,i;t=n(this).val();i=t.length>0?e.searchContacts(t):tt.contacts;rt(i)})}function ei(){b.click(function(){b.hasClass(v.searchClearClass)&&(ct(),ci(),ht())})}function oi(){n(".linkskypeid button").click(function(){si()})}function ut(t,i){var u,f,e,r;r=n(t);u=n("> :nth-child(2)",r);f=n("> :nth-child(3)",r);e=n("> :nth-child(4)",r);i?(r.css(v.background,v.conversationSelectedColor),f.hide(),u.css(v.width,"12.3rem"),e.show()):(r.css(v.background,v.conversationNotSelectedColor),e.hide(),u.css(v.width,"25.2rem"),f.show())}function ft(t,i){var f,e,o,u,r;r=n(t);f=n("> :nth-child(2)",r);e=n("> :nth-child(3)",r);o=n("> :nth-child(4)",r);i?(u=k?"10.1rem":"12.3rem",e.hide(),r.css(v.background,v.conversationSelectedColor),f.css(v.width,u),o.show()):(u=k?"26.5rem":"28.7rem",r.css(v.background,v.conversationNotSelectedColor),o.hide(),f.css(v.width,u),e.show())}function si(){var n,t;n=a.urlPart(c.location);t=d.linkSkypeIdUrl+"&return_url="+n;c.location.href=t}function ct(){w.val(d.searchContactsText);w.blur()}function hi(){p=v.$skypeContacts.find("> :nth-child(3)");v.$recentConversations.hide();p.show();b.addClass(v.searchClearClass);rt(tt.contacts,!0)}function ci(){b.removeClass(v.searchClearClass);p.hide();v.$recentConversations.show();p=null}function it(){y.conversationElement&&(ut(y.conversationElement,!1),y.conversationElement=null);y.contactElement&&(ft(y.contactElement,!1),y.contactElement=null)}function et(){if(!(this instanceof et))return new et;this.isError=!1;this.isOnlineStatusError=!1;this.isContactError=!1;this.isLongPollFinished=!1;this.isFetchingContacts=!1;this.conversations=[];this.contacts=[];this.usersStatus=[];this.skypeButtons=[];this.searchContactsSkypeButtons=[];this.usersIndex=[];this.searchContactsUsersIndex=[];this.missedConversations=0}if(!i.signedin){require(["c.sso"],nt.bind(null,t,u));return}var tt=new et;lt()}var d=u.tile.integratedskype[1],p=null,k=!1,g=!1,w=null,b=null,y={touchStopEvents:"touchend MSPointerUp pointerup",conversationElement:null,contactElement:null,touchOnly:!1,hover:!1},v={integratedSkypeClass:"integratedskype",defaultPhotoClass:"defaultphoto",defaultUserPhotoClass:"defaultuserphoto",linkSkypeAccountClass:"linkskypeid",birthdayClass:"hasbirthday",userPhotoClass:"userphoto",searchClearClass:"clearsearch",flyoutVisibleEvent:"SkypeFlyoutVisible",flyoutClosedEvent:"SkypeFlyoutClosed",conversationNotSelectedColor:"white",conversationSelectedColor:"#f1f1f1",hideLinkSkypeCookie:"HideLinkSkype",firstRun:"firstrun",abchEnabled:"abchenabled",background:"background",color:"color",width:"width",focus:"focus",defaultCount:4,maxNotifications:99,cookieExpiryDays:365,useAbch:!0,$recentConversations:null,$skypeContacts:null};return t(nt)});define("skypeConversationsUtility",["jquery","meModule.Tokens","skypeUtility"],function(n,t,i){function c(){if(!(this instanceof c))return new c;this.userId=null;this.name=null;this.photo=null;this.message=null;this.missed=!1;this.birthday=!1}function g(n,t){u=n;y=t;r.conversations=r.conversations+r.conversationsQueryString;r.subscription=r.subscription+r.subscriptionQueryString;r.endpoint=r.endpoint+r.endpointQueryString}function nt(n){s=n;l()}function tt(n){e=n;h(r.endpoint,{},ft,et)}function it(n){e=n;h(r.longpoll,{},b,k)}function l(){wt(r.conversations,rt,ut)}function rt(n,t,i){a(i);ct(n);u.isError=!1;s()}function ut(n){n.status==404?(bt(n),a(n),l()):n.status==401&&w==!1?(w=!0,i.updateLiveCookies(ht)):n.status==500&&n.responseJSON!=null&&n.responseJSON.errorCode==1&&n.responseJSON.message=="Getting linked skype id failed."?(u.isError=!1,s()):(i.logError("[skypeConversationUtility.js] API call to get skype conversation failed. "+JSON.stringify(n)),u.isError=!0,s())}function ft(n,t,i){a(i);h(r.subscription,{channelType:"httpLongPoll",template:"raw",interestedResources:["/v1/users/ME/contacts/ALL"]},ot,st)}function et(n){i.logError("[skypeConversationUtility.js] API call to create endpoint failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function ot(n,t,i){r.longpoll=i.getResponseHeader("Location")+"/poll";h(r.longpoll,{},b,k)}function st(n){i.logError("[skypeConversationUtility.js] API call to create subscription failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function b(n){dt(n);u.isLongPollFinished=n.length==0?!0:!1;u.isOnlineStatusError=!1;e()}function k(n){i.logError("[skypeConversationUtility.js] API call for long polling failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function ht(){l()}function ct(n){var t,r;n.conversations&&n.conversations.length!==0&&(t=lt(n.conversations),i.printSortedConversations(n.conversations,t),r=vt(n.conversations,t),at(n.conversations),yt(r),i.printRecentConversations(u))}function lt(n){for(var t,r=[],i=0;i<n.length;i++)t=n[i],t.lastMessage&&t.lastMessage.originalarrivaltime&&(t={index:i,originalArrivalTime:new Date(t.lastMessage.originalarrivaltime)},r.push(t));return r.sort(function(n,t){return t.originalArrivalTime-n.originalArrivalTime}),r}function at(n){for(var i,t=0;t<n.length;t++)i=n[t],i.id!==p&&d(i)&&u.missedConversations++}function vt(n,t){for(var r,f=[],e=0,u,i=0;i<t.length&&e<y.defaultCount;i++)u=t[i].index,r=n[u],r.lastMessage&&r.lastMessage.type&&r.id!==p&&(f.push(n[u]),e++);return f}function yt(n){for(var i,t=0;t<n.length;t++)i=new c,i.userId=n[t].id.substring(2,n[t].id.length),i.name=kt(n[t].id),i.missed=d(n[t]),n[t].lastMessage.messagetype==="Text"||n[t].lastMessage.messagetype==="RichText"?i.message=pt(n[t].lastMessage.content):n[t].lastMessage.messagetype==="Event/Call"?i.message=f.callMessageText:n[t].lastMessage.messagetype==="RichText/UriObject"||n[t].lastMessage.messagetype==="RichText/Files"?i.message=f.fileMessageText:n[t].lastMessage.messagetype==="Event/SkypeVideoMessage"?i.message=f.videoMessageText:n[t].lastMessage.messagetype==="RichText/Contacts"&&(i.message=f.contactMessageText),u.conversations.push(i)}function d(n){var i,r,t,u,f;return n.properties&&n.properties.consumptionhorizon&&(t=n.properties.consumptionhorizon.split(";"),t.length&&(i=parseInt(t[1],10))),n.lastMessage&&(u=new Date(n.lastMessage.originalarrivaltime),f=new Date(u.toUTCString()),r=+f),r>i?!0:!1}function pt(n){var t=n.indexOf("<"),i=n.indexOf(">");return t==-1&&i==-1?n:""}function wt(t,i,r){var f={},u={clientInfo:v};o?u.RegistrationToken=o:(f.withCredentials=!0,u.BehaviorOverride="redirectAs404");n.ajax({type:"GET",url:t,crossDomain:!0,headers:u,xhrFields:f,success:function(n,t,r){typeof i=="function"&&i(n,t,r)},error:function(n,t,i){typeof r=="function"&&r(n,t,i)}})}function h(t,i,r,u){var f={clientInfo:v,RegistrationToken:o};n.ajax({type:"POST",url:t,data:JSON.stringify(i),contentType:"application/json",crossDomain:!0,headers:f,success:function(n,t,i){typeof r=="function"&&r(n,t,i)},error:function(n,t,i){typeof u=="function"&&u(n,t,i)}})}function bt(n){var i,u,t;i=n.getResponseHeader("Location");u=i.indexOf("/v1");t=i.substring(0,u);r.conversations=t+r.conversationsQueryString;r.endpoint=t+r.endpointQueryString;r.subscription=t+r.subscriptionQueryString}function a(n){var t=n.getResponseHeader("Set-RegistrationToken");t&&(o=t)}function kt(n){var t=n.split(":");return t.length?t[t.length-1]:n}function dt(n){var t,f,r;if(n.eventMessages&&n.eventMessages.length!==0){for(f=gt(n.eventMessages),r=ni(f),t=0;t<r.length;t++)u.usersStatus.push(r[t]);i.printOnlineStatus(u)}}function gt(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],i.resourceType==="UserPresence"&&r.push(i);return r}function ni(n){for(var i,r,u=[],t=0;t<n.length;t++)i=n[t],i.resource&&(r={userId:ti(i.resource.selfLink),status:i.resource.status},u.push(r));return u}function ti(n){var i,t=null;return n?(i=n.split("/"),i.length>5&&(t=i[5]),t.substring(2,t.length)):t}var f=t.tile.integratedskype[1],r={conversationsQueryString:"/v1/users/ME/conversations?startTime=1&pageSize=100&view=msnp24Equivalent&targetType=Skype",endpointQueryString:"/v1/users/ME/endpoints",subscriptionQueryString:"/v1/users/ME/endpoints/SELF/subscriptions",conversations:f.chatServiceUrl,endpoint:f.chatServiceUrl,subscription:f.chatServiceUrl,longpoll:""},v="os=windows; osVer=8; proc=x86; lcid=en-us; deviceType=10; country=us; clientName=msn; clientVer=1.0",o=null,s=null,e=null,u=null,y=null,p="8:echo123",w=!1;return{init:g,fetchRecentConversations:nt,fetchOnlineStatus:tt,fetchNextOnlieStatus:it}});define("skypeContactsUtility",["jquery","skypeUtility","window"],function(n,t,i){function e(){if(!(this instanceof e))return new e;this.userId=null;this.name=null;this.photo=null;this.birthday=!1}function s(t){var u,e;r=t;e="https://"+i.location.hostname;u=n("html").attr("lang").toLowerCase()||"en-us";f.addressBook=e+"/"+u+f.addressBook}function h(n){u=n;r.isFetchingContacts=!0;y(f.addressBook,l,o)}function c(n){for(var i,u=[],t=0;t<r.contacts.length;t++)i=r.contacts[t].name.toLowerCase().indexOf(n.trim().toLowerCase()),i!=-1&&u.push(r.contacts[t]);return u}function l(n){if(n&&n.Error){o(n);return}a(n.Contacts);r.isContactError=!1;r.isFetchingContacts=!1;u()}function o(n){t.logError("[skypeContactsUtility.js] API call to get user skype contacts. "+JSON.stringify(n));r.isContactError=!0;r.isFetchingContacts=!1;u()}function a(n){var u,i,f=[];if(n)for(u=0;u<n.length;u++)if(i=new e,i.userId=n[u].ObjectId,i.name=n[u].OrderedName,i.photo=n[u].AvatarUrl,i.birthday=v(n[u]),i.userId!=null&&i.name!=null)if(i.userId==="echo123")continue;else f.push(i);f.sort(function(n,t){var i,r;return(i=n.name.toLowerCase(),r=t.name.toLowerCase(),i<r)?-1:i>r?1:0});r.contacts=f;t.printContacts(r)}function v(n){if(!n.Birthday)return!1;var t=new Date(n.Birthday.match(/\d+/)[0]*1),r=t.getUTCDate(),u=t.getUTCMonth()+1,i=new Date,f=i.getUTCDate(),e=i.getUTCMonth()+1;return r==f&&u==e}function y(t,i,r){var u={};u.withCredentials=!0;n.ajax({type:"GET",url:t,crossDomain:!0,xhrFields:u,success:function(n,t,r){typeof i=="function"&&i(n,t,r)},error:function(n,t,i){typeof r=="function"&&r(n,t,i)}})}var r=null,u=null,f={addressBook:"/api/addressbook/"};return{init:s,fetchContacts:h,searchContacts:c}});define("skypeRenderUtility",["jquery","meModule.Tokens","window"],function(n,t,i){function a(n,t){r=n;f=t}function v(){var n,t,i,u;if(!r.isContactError){for(u=f.$recentConversations.clone(!0),n=0;n<r.usersIndex.length;n++)for(t=0;t<r.contacts.length;t++)if(r.usersIndex[n].userId===r.contacts[t].userId){i=u.find("ul > :nth-child("+(r.usersIndex[n].index+1)+")");y(n,t,i);p(n,t,i);w(n,t,i);break}f.$recentConversations.replaceWith(u);f.$recentConversations=u}}function y(n,t,i){var e,u,o;r.contacts[t].photo&&(o=b(r.usersIndex[n].index+1),u='<div style="background:url('+r.contacts[t].photo+') no-repeat">',u+='<div class="'+f.userPhotoClass+" "+o+'">',u+="<\/div>",e=i.find("> :first-child"),e.replaceWith(u))}function p(n,t,i){var u;r.contacts[t].name&&(u=i.find("> :nth-child(2) h3"),u.html(r.contacts[t].name))}function w(n,t,i){var u;r.contacts[t].birthday&&(u=i.find("> :nth-child(3) > div:first-child"),u.addClass(f.birthdayClass))}function b(n){var t,i=e.offline;return t=f.$recentConversations.find("ul > :nth-child("+n+") > :first-child > div"),t.hasClass(e.available)?i=e.available:t.hasClass(e.idle)?i=e.idle:t.hasClass(e.busy)&&(i=e.busy),i}function k(){r.isOnlineStatusError||s(!0)}function d(){r.isOnlineStatusError||s(!1)}function s(t){var i,l,s,a,e,h,o,u,c;for(t?(u=r.usersIndex,c=".recentconversations"):(u=r.searchContactsUsersIndex,c=".searchresultcontacts"),a=n(c+" ul"),i=0;i<u.length;i++)l=g(u[i].userId),s=nt(l),e=a.find("> :nth-child("+(u[i].index+1)+") > :first-child"),h=e.find("div"),o=e.hasClass(f.defaultPhotoClass)?'<div class="'+f.defaultUserPhotoClass+" "+s+'">':'<div class="'+f.userPhotoClass+" "+s+'">',o+="<\/div>",h.length?h.replaceWith(o):e.append(o)}function g(n){for(var t=0;t<r.usersStatus.length;t++)if(r.usersStatus[t].userId==n)return r.usersStatus[t].status;return o.offline}function nt(n){return n==o.online||n==o.onThePhone?e.available:n==o.idle||n==o.away||n==o.outToLunch||n==o.beRightBack?e.idle:n==o.busy?e.busy:(n==o.offline,e.offline)}function tt(){require({js:"http://www.skypeassets.com/i/scom/js/skype-uri.js"},["window.Skype"],function(t){for(var i=0;i<r.skypeButtons.length;i++)h(r.skypeButtons[i]);n(".integratedskype > div > ul > li:first-child").html('<div id="SkypeButton_Launch"><\/div>');t.ui({element:"SkypeButton_Launch",imageSize:10});n("#SkypeButton_Launch > p > a").html(u.launchText)})}function it(){for(var n=0;n<r.searchContactsSkypeButtons.length;n++)h(r.searchContactsSkypeButtons[n])}function h(t){i.Skype.ui({name:"chat",element:t.messageIconId,participants:[t.userId],imageSize:10});i.Skype.ui({name:"call",element:t.videoIconId,participants:[t.userId],imageSize:10,video:!0});i.Skype.ui({name:"call",element:t.phoneIconId,participants:[t.userId],imageSize:10});n("#"+t.messageIconId+" > p > a").html('<div class="skypeicon" title="'+u.chatButtonText+'"><span>SkypeMessage<\/span><\/div>');n("#"+t.videoIconId+" > p > a").html('<div class="skypeicon" title="'+u.videoButtonText+'"><span>SkypeVideo<\/span><\/div>');n("#"+t.phoneIconId+" > p > a").html('<div class="skypeicon" title="'+u.audioButtonText+'"><span>SkypeCall<\/span><\/div>')}function rt(){var n='<div class="skypecontacts">';return n+="<div><h3>"+u.contactsText+"<\/h3><\/div>",n+="<div>",n+='<input type="search">',n+='<button type="button"><span style="display:none">Skype Contact Search<\/span><\/button>',n+="<\/div>",n+='<div class="searchresultcontacts"><\/div>',n+"<\/div>"}function ut(){return'<p class="meloading"><\/p>'}function ft(){return"<p>"+u.emptySearchContactsText+"<\/p>"}function et(n){for(var u,f=n.length>4?!0:!1,i="<ul>",t=0;t<n.length;t++)i+=ot(n[t],f),u={userId:n[t].userId,index:t},r.searchContactsUsersIndex.push(u);return i+"<\/ul>"}function ot(n,t){var i;return i="<li>",i+=c(n.photo),i+=st(n,t),i+=ht(n),i+=ct(n),i+"<\/li>"}function st(n,t){var i;return i=t?'<div class="sb">':"<div>",i+="<h3>"+n.name+"<\/h3>",i+"<\/div>"}function ht(n){var t;return t="<div",n.birthday&&(t+=' class="'+f.birthdayClass+'"'),t+"><\/div>"}function ct(n){var t={},i;return i=l(n.userId,"contact_",t),r.searchContactsSkypeButtons.push(t),i}function lt(){var n,t,i;for(t='<div class="recentconversations">',t+="<h3>"+u.recentText+"<\/h3>",t+="<ul>",n=0;n<r.conversations.length;n++)t+=at(r.conversations[n]),i={userId:r.conversations[n].userId,index:n},r.usersIndex.push(i);return t+="<\/ul>",t+"<\/div>"}function at(n){var t;return t="<li>",t+=c(n.photo),t+=vt(n),t+=yt(n),t+=pt(n),t+"<\/li>"}function c(n){return n?'<div style="background:url('+n+') no-repeat"><\/div>':'<div class="defaultphoto"><\/div>'}function vt(n){var t;return t="<div>",t+="<h3>"+n.name+"<\/h3>",n.message&&(t+="<p>"+n.message+"<\/p>"),t+"<\/div>"}function yt(n){var t;return t="<div>",t+="<div><\/div>",t+="<div>",n.missed&&(t+="<div><\/div>"),t+="<\/div>",t+"<\/div>"}function pt(n){var t={},i;return i=l(n.userId,"",t),r.skypeButtons.push(t),i}function l(n,t,i){var r,u;return u=bt(n),i.userId=n,i.messageIconId="SkypeButton_Message_"+t+u,i.videoIconId="SkypeButton_Video_"+t+u,i.phoneIconId="SkypeButton_Phone_"+t+u,r="<div>",r+='<div id="'+i.messageIconId+'"><\/div>',r+='<div id="'+i.videoIconId+'"><\/div>',r+='<div id="'+i.phoneIconId+'"><\/div>',r+"<\/div>"}function wt(){var n='<div class="skypeerror">';return n+="<div><h3>"+u.contactsText+"<\/h3><\/div>",n+='<p class="meerror">'+u.errorMessage+"<\/p>",n+"<div>"}function bt(n){var r,t,u="",i;if(t=n.split(":"),t.length)r=t[t.length-1];else return n;for(t=r.split("."),i=0;i<t.length;i++)u+=t[i];return u}function kt(){var n='<div class="integratedskypeflyout '+f.linkSkypeAccountClass+'" >',t=u.linkAccountContentList.split("|");return n+="<section>",n+="<h2>"+u.headerText+"<\/h2>",t.length==3&&(n+="<ul>",n+="<li>"+t[0]+"<\/li>",n+="<li>"+t[1]+"<\/li>",n+="<li>"+t[2]+"<\/li>",n+="<\/ul>"),n+="<\/section>",n+="<h3>"+u.linkAccountText+"<\/h3>",n+="<p>"+u.linkAccountDisclaimerText+"<\/p>",n+='<button title="'+u.continueButtonText+'">'+u.continueButtonText+"<\/button>",n+='<a target="_blank" href="'+u.learnMoreUrl+'" title="'+u.learnMoreText+'">'+u.learnMoreText+"<\/a>",n+"<\/div>"}var u=t.tile.integratedskype[1],r=null,f=null,o={online:"Online",onThePhone:"OnThePhone",idle:"Idle",away:"Away",busy:"Busy",outToLunch:"OutToLunch",beRightBack:"BeRightBack",offline:"Offline"},e={available:"availablestatus",idle:"idlestatus",busy:"busystatus",offline:"offlinestatus"};return{init:a,getContactsMarkup:rt,getFetchingContactsMarkup:ut,getSearchContactsMarkup:et,getSearchContactsEmptyMarkup:ft,renderConversationSkypeIcons:tt,renderSearchContactsSkypeIcons:it,renderConversationOnlineStatus:k,renderSearchContactsOnlineStatus:d,getRecentConversationsMarkup:lt,getErrorMarkup:wt,renderConversationContacts:v,renderLinkAccountView:kt}});define("skypeUtility",["logging","window"],function(n,t){function r(n){var r,u,f;u="wlssc_frame";r=t.document.createElement("IFRAME");r.id=u;r.style.width="1px";r.style.height="1px";r.style.position="absolute";r.style.visibility="hidden";r.style.left="0px";r.style.bottom="0px";r.src="https://login.live.com";i("Skype is refreshing login.live cookies");t.document.body.appendChild(r);f=function(){var i=t.document.getElementById(u);i&&t.document.body.removeChild(i);typeof n=="function"&&n()};r.addEventListener?r.addEventListener("load",f,!0):r.attachEvent("onload",f)}function u(n,i){var r,u,f;u="linked_skypeid_frame";r=t.document.createElement("IFRAME");r.id=u;r.style.width="1px";r.style.height="1px";r.style.position="absolute";r.style.visibility="hidden";r.style.left="0px";r.style.bottom="0px";r.src="https://login.skype.com/login/silent?client_id=738133&redirect_uri="+t.location.protocol+"//"+t.location.hostname+"&partner=999&response_type=postmessage";t.document.body.appendChild(r);f=function(r){var f,e;if(r.origin=="https://login.skype.com"){if(f=t.document.getElementById(u),f&&t.document.body.removeChild(f),e=JSON.parse(r.data),e.hasOwnProperty("error")&&e.error=="not_linked"&&typeof i=="function"){i();return}typeof n=="function"&&n()}};t.addEventListener?t.addEventListener("message",f,!1):t.attachEvent("onmessage",f)}function f(){}function e(){}function o(){}function s(){}function h(t){n.error(t)}function i(){}return{updateLiveCookies:r,isSkypeIdLinked:u,printSortedConversations:f,printRecentConversations:e,printOnlineStatus:o,printContacts:s,logError:h,logMessage:i}});define("meModule",["jquery","meModule.Tokens","headData","window","logging","perfPing","mediator","elementTrackingDecorator"],function(n,t,i,r,u,f,e,o){function v(n,t,i,r,u,f){var e=n.find(f.tasks[i]),o=e.find("span");r?(e.addClass(l),o.text((t.notifications||a).replace("{0}",u))):(e.removeClass(l),o.empty())}function p(n,t,i,r,u){n.find(u.notification).text(i?(t.notifications||a).replace("{0}",r):t.notificationEmpty||"")}function w(n,t,i,u){var f=(c.width-t)/2,e=(c.height-i-100)/2,o="status=0,toolbar=0,location=0,resizable=1,scrollbars=1,left="+f+",top="+e+",width="+t+",height="+i;u.preventDefault();r.open(n,"Login",o)}function b(t,i){if(i&&i.taskLinks&&i.taskLinks.trim()){var r=i.taskLinks.split(";");r.length&&(t.push("<ul>"),n.each(r,function(n,i){var r=i.split("|"),u;r[0]&&r[1]&&(u=r[0],t.push("<li><a target='_blank' data-piitxt='",u,"' href='",r[1],"'>",u,"<span><\/span><\/a><\/li>"))}),t.push("<\/ul>"))}}var c=r.screen,s="click",l="notifications",h=".popUpWindow",a="({0})",y="{0}+";return{info:{locale:n("html").attr("lang"),origin:r.location.protocol+"//"+r.location.host},logAjaxError:function(n,t,i){n!="abort"&&(f.setMarker('[meModule] service error: "'+t+'" call failed with status of "'+n+'", '+i),f.getPayLoad(u.error))},updateFlyout:function(r,u,f,e,c,l){var v="",y=typeof e!="undefined"?e:i.signedin,g=t.tile[u][y?1:0],a={};n.extend(!0,a,g,f);v=["<section>"];a.headerUrl&&v.push("<a href='",a.headerUrl,"' target='_blank'><h3>",a.header,"<\/h3><\/a>");v.push("<div>");a.showProgress?v.push("<p class='meloading'>",a.content||"","<\/p>"):a.showError?v.push("<p class='meerror'>",a.errorMessage||"","<\/p>"):a.showNoContent?v.push("<p class='meerror'>",a.noContent||"","<\/p>"):y?v.push(a.content.length?a.content:"<p class='meerror'>"+a.noContent+"<\/p>"):(a.signedOutImageUrl&&v.push("<img src='",a.signedOutImageUrl,"' />"),v.push("<p>",a.content.length?a.content:a.ErrorMessage,"<\/p>"));v.push("<\/div>");!y&&a.footerText&&v.push("<a href='",a.footerUrl,"' class='mefoot'>",a.footerText,"<\/a>");v.push("<\/section>");b(v,a);var p=r.find(this.selector.flyout),nt=o.setTrackingAttrs(n(v.join("")),p,{defaults:{n:u+".flyout"}}),w=p.html(nt),k=this.classNames.signout,d=this.classNames.signin;if(y){if(r.find(this.selector.flyoutFooter).off(h),typeof c=="string"&&(c=r.find(c)),c&&c.length&&l&&n.isFunction(l))c.off(s).on(s,l);n(w).removeClass(k).addClass(d)}else n(w).removeClass(d).addClass(k)},attachSignInPopupWindow:function(n,t,i,r){n.find(this.selector.flyoutFooter).off(h).on(s+h,w.bind(null,t,i,r))},selector:{flyout:".meflyout",flyouts:".meflyouts",notification:">a>h3>span",flyoutHeader:".meflyout>section>h3",flyoutFooter:".meflyout>section>.mefoot",contentDiv:".meflyout>section>div",contentItem:".meflyout>section>div p",contentList:".meflyout>section>div ul",taskLinks:".meflyout>ul>li>a",tasks:[".meflyout>ul>li>a:eq(0)",".meflyout>ul>li>a:eq(1)",".meflyout>ul>li>a:eq(2)",".meflyout>ul>li>a:eq(3)"]},classNames:{signout:"signout",signin:"signin"},updateNotifications:function(t,i,r,u,f){var s=t.closest(".stripeouter").find(".mestripe "+i),o=this.selector,e=f.count;f.maxNotifications&&e>f.maxNotifications&&(e=(u.notificationsTooMany||y).replace("{0}",f.maxNotifications));f.updateInTile&&p(s,u,f.displayNotification,e,o);f.updateInTask&&(n.isNumeric(r)?v(t,u,r,f.displayNotification,e,o):n(r).each(function(n,i){v(t,u,i.index,i.displayNotification,i.count,o)}))},ssoAutoRefresh:function(){var i=this,r=n(i.selector.flyouts);n.each(t.tile,function(n,u){var f,o,s,e;u[0].ssoAutoRefresh&&(f=r.children("."+n),o=f.find(i.selector.flyout).hasClass(i.classNames.signout),f.length&&o&&(s=t.tile[n][1],e=f.find("[data-module-id]"),e.html(s.content),i.updateFlyout(f,n,{content:e.length?e[0].outerHTML:" "},!0,null,null)))})},deferredFlyoutOnHover:function(n,t,i){var r=n.data("deferred");r?e.sub(t,i):i()},getMeModuleId:function(t){var i=n(".meflyouts .meflyoutcontainer").index(t);return n(".mestripe ul li").eq(i).attr("data-module-id")}}});define("outlookModel",["jquery","getCookie","outlookInbox.tokens","promise","headData","window","logging","setCookie","meModule"],function(n,t,i,r,u,f,e,o,s){function et(){return t(c.canaryCookieName)||""}function ot(){return t(c.userMigratedCookieName)||""}function d(){return u.dg?u.dg.indexOf(c.pcDgIdent)!=-1:!1}function st(){return a||(a=setTimeout(ht,c.timeoutInMs)),h||(h=new r(tt)),h}function ht(){f[w]=null;h&&(h.cancel(),h=null);g("[outlookModel.js] outlook preview api request timeout")}function g(n){e.error(n)}function nt(){var t={};t.withCredentials=!0;n.ajax({type:"GET",url:ft,crossDomain:!0,xhrFields:t,timeout:c.timeoutForOutlookExchangeCallInMs,cache:!1,success:function(n){l();y(n);h=null},error:function(n){l();p(n);h=null}})}function tt(t,i){y&&p||(y=t,p=i);k&&ot()?nt():(v=ct(),n.ajax({type:"GET",url:v,jsonp:"cb",jsonpCallback:w,contentType:"application/json",dataType:"jsonp"}))}function ct(){var i=d()?c.numOfMsgForPc:c.numOfMsgForMobile,r={num:i,nocache:+new Date,mac:f.decodeURIComponent(et())},t=it;return document.location.hostname.indexOf("betaplace")>=0&&(t=rt),v=t+"?"+n.param(r)}function lt(n){if(!h){l();return}n&&n.err&&!b&&n.err.client&&n.err.client.invalidmac?(b=!0,tt()):k&&n&&n.err&&n.err.user&&n.err.user.exchangemigrated?(at(),nt()):n&&n.err?(l(),p(n),h=null,g("[outlookModel.js] error response from outlook preview mail api \r\n"+JSON.stringify(n.err))):(l(),y(n),h=null)}function at(){o(c.userMigratedCookieName,1,730)}function l(){f[w]=null;a&&clearTimeout(a)}var c={timeoutInMs:1e4,timeoutForOutlookExchangeCallInMs:3e3,canaryCookieName:"WLMMAC",numOfMsgForPc:3,numOfMsgForMobile:0,pcDgIdent:".pc",globalFnName:"setOutlookData",userMigratedCookieName:"um"},h,it=i.outlookPreviewApiUrl,rt=i.outlookPreviewApiUrlBetaplace,a,v,b=!1,y,p,k=u.exchangeenabled,w=c.globalFnName+Math.floor(Math.random()*1e4+1)+ +new Date,ut="https://"+f.location.host+"/"+s.info.locale,ft=ut+"/homepage/OutlookMail/GetEmails";return f[w]=lt,{isPcDeviceGroup:d,getOutlookData:st}});define("meModule.Tokens",{tile:{mail:[{header:"Outlook.com",content:"Outlook.com is free personal email from Microsoft. Share, organize, and stay up-to-date like never before.",footerText:"Sign in",footerUrl:"[[signin]]",taskLinks:"",appendAddMoreTask:!0},{header:"Inbox",headerUrl:"https://mail.live.com/default.aspx",content:"Loading...",noContent:"Wow, you've got a very clean inbox!",tileTitle:"Outlook.com",refreshPageErrorMessage:"We couldn't connect you to Outlook.com. Please refresh the page and try again later.",viewInboxErrorMessage:"If you continue to have a problem viewing your inbox, Please visit",taskLinks:"Compose|https://mail.live.com/default.aspx?rru=compose;Calendar|https://calendar.live.com/calendar/calendar.aspx",appendAddMoreTask:!0,piiText:"Read Outlook Email",piiUrl:"http://www.hotmail.msn.com/pii/ReadOutlookEmail/"}],office:[{header:"Office",content:"See your recent documents, or start one for free with Office Online.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Word Online|https://office.live.com/start/Word.aspx?ui=en%2DUS;Excel Online|https://office.live.com/start/Excel.aspx?ui=en%2DUS;PowerPoint Online|https://office.live.com/start/PowerPoint.aspx?ui=en%2DUS;OneNote Online|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_TopMenu&auth=1"},{header:"Recent documents",headerUrl:"https://onedrive.live.com/#qt=mru",content:"Loading...",noContent:"This folder is empty. Click below to create a new document.",errorMessage:"Couldn't connect to Office Online",errorFooterText:"Go to Office Online",taskLinks:"Word Online|https://office.live.com/start/Word.aspx?ui=en%2DUS;Excel Online|https://office.live.com/start/Excel.aspx?ui=en%2DUS;PowerPoint Online|https://office.live.com/start/PowerPoint.aspx?ui=en%2DUS;OneNote Online|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_TopMenu&auth=1"}],onenote:[{header:"OneNote",content:"Sign in to your Microsoft account to see recent notes.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Quick Note|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_QuickNote&auth=1"},{header:"Recent Notebooks",headerUrl:"https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_Recent&auth=1",content:"Loading...",noContent:"This folder is empty. Click below to create new notebook.",errorMessage:"Couldn't connect to OneNote Online",errorFooterText:"Go to OneNote Online",taskLinks:"Quick Note|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_QuickNote&auth=1"}],onedrive:[{header:"OneDrive",content:"Sign in to your Microsoft account to see recent OneDrive contents.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Files|https://onedrive.live.com;Photos|https://onedrive.live.com/?qt=allmyphotos;Recent documents|https://onedrive.live.com/?qt=mru;Download the OneDrive app|https://onedrive.live.com/about/en/download/"},{header:"OneDrive",headerUrl:"https://onedrive.live.com?wt.mc_id=oo_msn_msnhomepage_header",content:"Loading...",errorMessage:"Couldn't connect to OneDrive",errorFooterText:"Go to OneDrive",taskLinks:"Files|https://onedrive.live.com;Photos|https://onedrive.live.com/?qt=mru;Recent documents|https://onedrive.live.com;Download the OneDrive app|https://onedrive.live.com/about/en/download/"}],finance:[{header:"",content:"",footerText:"",footerUrl:"",taskLinks:""},{header:"",headerUrl:"",content:"",errorMessage:"",taskLinks:""}],sports:[{header:"Scores - Live",content:"",footerText:"All scores",footerUrl:"/en-us/sports",taskLinks:""},{header:"Scores - Live",headerUrl:"/en-us/sports",content:"",errorMessage:"",taskLinks:""}],maps:[{header:"Maps",headerUrl:"",content:"",footerText:"",footerUrl:"",taskLinks:"me_maps_directions|http://www.bing.com/maps/directions;me_maps_traffic|http://www.bing.com/maps/"},{header:"Maps",headerUrl:"",content:"",errorMessage:"",taskLinks:"me_maps_directions|http://www.bing.com/maps/directions;me_maps_traffic|http://www.bing.com/maps/"}],skype:[{header:"Skype keeps the world talking",headerUrl:"",content:"Use Skype to call, see, message and share with others  wherever they are.",footerText:"Go to Skype.com",footerUrl:"http://www.skype.com",taskLinks:"me_skype_download|http://www.skype.com/go/onedrivepromo.download?cm_mmc=MSFT_2390_MSN-com"},{header:"Group video calling",headerUrl:"",content:"Now it's free to get the whole family together on the same video call.",errorMessage:"",taskLinks:""}],integratedskype:[{},{searchContactsText:"Search Contacts",emptySearchContactsText:"No contacts were found matching your search text",nameText:"Name",contactsText:"Contacts",recentText:"Recent",launchText:"Launch Skype",errorMessage:"Couldn't connect to Skype",chatButtonText:"Chat",audioButtonText:"Audio Call",videoButtonText:"Video Call",taskLinks:"Launch Skype|skype:;Download Skype|http://www.skype.com/go/onedrivepromo.download?cm_mmc=MSFT_2390_MSN-com",chatServiceUrl:"https://client-s.gateway.messenger.live.com",linkSkypeIdUrl:"https://login.skype.com/login/oauth/microsoft?client_id=738133",headerText:"Skype on MSN",linkAccountContentList:"See who's online|Notifications and missed messages|Voice calls and chats",linkAccountText:"Link your accounts",linkAccountDisclaimerText:"To get the full experience of Skype on MSN, link your Skype and Microsoft accounts.",continueButtonText:"Continue",learnMoreText:"Help",learnMoreUrl:"https://support.skype.com",callMessageText:"call",fileMessageText:"sent a file",videoMessageText:"video message",contactMessageText:"sent a contact"}],facebook:[{header:"Facebook",content:"Get your latest feed from Facebook",errorMessage:"Couldnt connect to Facebook",footerText:"Sign in",footerUrl:"#",taskLinks:""},{header:"News feed",headerUrl:"http://www.facebook.com",content:"Loading ...",noContent:"Your feed is currently empty",errorMessage:"Couldnt connect to Facebook",errorFooterText:"Go to Facebook",maxNotifications:"99",requestTimeout:"10000",likeUrl:"https://www.facebook.com/msn",taskLinks:"Messages|https://www.facebook.com/messages;Notifications|https://www.facebook.com/notifications;Sign out|#;Like MSN on Facebook|https://www.facebook.com/msn"}],twitter:[{header:"Twitter",content:"Get your Twitter Updates",footerText:"Sign In",footerUrl:"https://twitter.com",requestTimeout:"10000",taskLinks:""},{header:"Tweets",headerUrl:"https://twitter.com",content:"Loading ...",noContent:"Your timeline is currently empty",errorMessage:"Couldn't connect to Twitter",errorFooterText:"Go to Twitter",taskLinks:"Notifications|https://twitter.com/i/notifications;Me|#;Sign out|#"}],xbox:[{header:"Spotlight",content:"",footerText:"View All",footerUrl:"",taskLinks:"me_xbox_taskLinks_Explore|http://music.xbox.com/explore;me_xbox_taskLinks_Radio|http://music.xbox.com/radio;me_xbox_taskLinks_Subscribe|http://live.xbox.com/subscriptions?titleid=0xfffe0777"},{header:"My awesome playlist",headerUrl:"https://music.xbox.com",content:"",errorMessage:"",taskLinks:"me_xbox_taskLinks_Explore|http://music.xbox.com/explore;me_xbox_taskLinks_Radio|http://music.xbox.com/radio;me_xbox_taskLinks_Subscribe|http://live.xbox.com/subscriptions?titleid=0xfffe0777"}],bingrewards:[{header:"Rewards",content:"Join Rewards and earn credits when you explore and search on MSN.",footerText:"Join Now",footerUrl:"[[signin]]",signedOutImageUrl:"/Images/Homepage/me_bingrewards_signed_out.jpg",appendAddMoreTask:!0},{errorMessage:"Could not connect to Bing Rewards",taskLinks:"Redeem your credits|https://www.bing.com/rewards/redeem/all;Get help|https://www.bing.com/rewards/faq",appendAddMoreTask:!0,signInText:"Sign in",msaSignInDesc:"Already a Bing Rewards Member?",rewardsSignInDesc:"Become a Bing Rewards Member today.",joinNowText:"Join Now",joinNowUrl:"http://www.bing.com/explore/rewards-msn?FORM=MA12LM&PUBL=BINGCOMBEX&CREA=MA12LM&Programname=REWARDS-MSN",hdrText:"Bing Rewards",hdrDesc:"Explore and search on MSN. Earn free Rewards.",subhdrtext:"Earn and explore",rewardsApiUrl:"https://www.bing.com/msrewards/api/v1/getuserinfo",rewardsPartnerID:"79E3A169-6A98-49E1-ADB9-ED64666CC743",rewardsChannel:"Msn",offerLayoutType:"MissionTaskLayout",maxOfferCount:4,emptyOfferMsg:"Offers are unavailable at the moment.",maxNotifications:"9999",emptyGif:""}],stores:[{header:"Microsoft Store",content:"",footerText:"Sign in",footerUrl:"",taskLinks:"me_stores_taskLinks_store|http://www.microsoftstore.com/;me_stores_taskLinks_support|http://answerdesk.microsoftstore.com/;me_stores_taskLinks_apps|http://windows.microsoft.com/{locale}/windows-8/apps;me_stores_taskLinks_findastore|http://www.microsoftstore.com/Locations"},{header:"Featured App",headerUrl:"",content:"",errorMessage:"",taskLinks:"me_stores_taskLinks_store|http://www.microsoftstore.com/;me_stores_taskLinks_support|http://answerdesk.microsoftstore.com/;me_stores_taskLinks_apps|http://windows.microsoft.com/{locale}/windows-8/apps;me_stores_taskLinks_findastore|http://www.microsoftstore.com/Locations"}],yahoomail:[{header:"Yahoo Mail",content:"Sign in to view your mail",footerText:"Sign in",footerUrl:"https://mail.yahoo.com",taskLinks:"",appendAddMoreTask:!0},{header:"Inbox",headerUrl:"https://mail.yahoo.com",content:"Loading...",noContent:"There are no emails in your Inbox folder.",errorMessage:"Couldn't connect to Yahoo Mail",errorFooterText:"Go to Yahoo Mail",maxNotifications:"9999",requestTimeout:"10000",taskLinks:"Compose|https://mrd.mail.yahoo.com/compose;Calendar|https://calendar.yahoo.com/;Sign out|#",contentEmpty:"There are no emails in your Inbox folder.",appendAddMoreTask:!0}],gmail:[{header:"Gmail",content:"Sign in to view your mail",footerText:"Sign in",footerUrl:"",taskLinks:"",appendAddMoreTask:!0},{header:"Inbox",headerUrl:"https://www.gmail.com",content:"Loading...",noContent:"There are no emails in your Inbox folder.",errorMessage:"Couldn't connect to Gmail",errorFooterText:"Go to Gmail",maxNotifications:"9999",requestTimeout:"10000",taskLinks:"Compose|https://mail.google.com/mail/?view=cm;Google Calendar|https://www.google.com/calendar;Sign out|#",contentEmpty:"There are no emails in your Inbox folder.",appendAddMoreTask:!0}],mailProviderOptions:[{mailTileRemovedEvent:"mailTileRemovedEvent"}]}});define("outlookInbox.tokens",{outlookPreviewApiUrl:"https://hotmailproxy.msn.com/pm/v1.0/getheaders.aspx",outlookPreviewApiUrlBetaplace:"https://hotmailproxy.betaplace.com/pm/v1.0/getheaders.aspx"});define("pagingSection",["jquery","jqBehavior","modernizr","pagingAnimator","device","pointerEvents","touchGestures","touchDataManager","requestAnimationFrame","format","imgSrc","paging.tokens","dir.tokens","viewAware","mediator","window","c.deferred","perfMarker"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function st(t,i){function wi(){ut=n("<button class='leftarrow'><\/button>");ot=n("<button class='rightarrow'><\/button>");lt.prepend(ut).append(ot)}function bi(n){i.contentSelector=n||i.contentSelector;f=lt.find(i.contentSelector);ht=r(f);b&&ht.setup();di()}function ki(){v>1&&gi();b&&ht.teardown();y.unsub(tt,tr)}function ur(){c.loadInViewport&&s(function(){f.attr(c.dataOffsetAttr,Math.round(-u*p*w)+";0");c.loadInViewport(lt[0])})}function di(){s(fr)}function fr(){for(var e,o,n,r=li,s=f.length,t=0;t<s;t++)if(vt.children().length&&(vt.empty(),ut.removeClass(at),ot.removeClass(at),dt(f,0)),k=yi=ct=pi=rt=v=u=0,pt=wt=yt=!1,vi=vt.offset().left,e=r[0].clientWidth||r.outerWidth(!1),p=e+i.columnGap+i.scrollOffset,p)if(v=Math.ceil(f[t].scrollWidth/p),y.sub(tt,tr),v>1){for(b&&ht.initialize(v,p,i.columnGap),sr(),ti||er(),st=[],o=p/2,n=0;n<v;n++)st[n]=p*n+o-1;ni=f[0].scrollWidth;fi(0);ir()}else ti&&gi()}function er(){or(f);ut.on("click",ei);ot.on("click",ei);y.sub(it,nr);ti=!0}function gi(){lt.off("gesture");ut.off("click",ei);ot.off("click",ei);y.unsub(it,nr);ti=!1}function nr(n){f[0]===n.elem&&(b&&(u+=n.direction*-1,fi()),hi())}function tr(n){f[0]===n&&(ki(),bi())}function or(n){if(e.settings.touchSupported&&!b&&n.data("gesture")!==!0){n.on("gesture",{direction:"horizontal"},lr);n.data("gesture",!0)}}function ir(){v>1&&(wt?ot.addClass(at):ot.removeClass(at),pt?ut.addClass(at):ut.removeClass(at),i.extendedArrows&&(wt||pt)&&ut.add(ot).text(h(l.pagingArrowText,u+1,v)))}function ui(n){bt||s(function(){bt=!0;var t=cr(n)*w;u+=n*-1;b?(ht.incrementViewPort(n,d,nt),fi()):(ht.animationStarting(f),dt(f,t,d,nt));window.setTimeout(hi,i.autoHideArrowMS)})}function hi(){s(function(){b||ht.animationCompleted(f);yt=bt=!1;hr();ir();ur();y.pub(et,ri)})}function fi(n){b?(pt=ht.allowScrollLeft(),wt=ht.allowScrollRight()):(yi=k,pi=ct,k=n*w,ct=ni+k,ct<0&&(ct=0),pt=k<0,wt=ct>p)}function sr(){for(var t,n=0;n<v;n++)t=document.createElement("span"),n==0&&(t.className="selected"),vt[0].appendChild(t);oi=vt.children();gt=oi.first()}function hr(){gt&&gt.removeClass("selected");gt=n(oi[u]).addClass("selected")}function cr(n){if(n==1)k<vi&&(ii!=0?(rt=k+ii,ii=0):rt=k+(p+kt),rt>0&&(rt=0));else if(n==-1&&k<ct){rt=k-(p+kt);k==0&&(rt+=kt);rt>ct&&(rt=ct);var t=ni+rt+i.columnGap;!i.alwaysScrollCompletePage&&t<ct&&t<p&&(rt=k-t,ii=t)}return rt}function rr(t){t&&!i.autoHideArrow?n(t).removeClass(at):(ut.removeClass(at),ot.removeClass(at))}function ei(n){ri="click";typeof n.originalEvent!="undefined"&&n.originalEvent&&n.originalEvent.pointerType==="touch"&&(ri="tap");n.target==ot[0]?u+1<v?ui(-1):rr(n.target):u>0?ui(1):rr(n.target);n.preventDefault()}function dt(n,t,i){if(t==undefined){var r=n.css("transform").split(","),u=4;r.length>6&&(u=12);t=parseFloat(r[u]);t=isNaN(t)?0:t}else fi(t),i||(i=0),ht.animate(t,i,nt,g);return t}function ci(n){s(function(){var t=0,o=Math.abs(k),s,r,h;if(bt=!0,k>=0)t=0,u=0;else if(!i.alwaysScrollCompletePage&&st[st.length-1]<Math.abs(k))t=-st[st.length-1]*w,u=v-1;else if(o>p*(v-1))u=v-1,t=-p*u*w;else{if(n)s=!0,(a.ltr&&n==e.types.swipeRight||!a.ltr&&n==e.types.swipeLeft)&&(s=!1),s?u<v&&(u=u+1):u>0&&(u=u-1);else for(r=0;r<v;r++)if(o<=st[r]){u=r;break}else if(o<p*(r+1)){u=r+1;break}t=-(p+kt)*u*w;u==1&&(t+=kt);i.alwaysScrollCompletePage||(h=ni-p+i.columnGap,Math.abs(t)>h&&(t=-h*w),v-1==u&&st[st.length-1]!=t&&(st.pop(),st.push(Math.abs(t))))}ht.animationStarting(f);dt(f,t,d);window.setTimeout(hi,i.autoHideArrowMS)})}function lr(t){if(t.direction){ri="swipe";switch(t.current.touchType){case e.types.move:ft&&!bt&&s(function(){yt?si.input(t.current.coord.x):(si.reset(t.current.coord.x),ai=dt(f),yt=!0);dt(f,ai+si.getDelta()|0)});break;case e.types.swipeUp:case e.types.swipeDown:case e.types.throwUp:case e.types.throwDown:case e.types.cancel:case e.types.stop:ci();break;case e.types.swipeRight:case e.types.throwRight:yt?ci(e.types.swipeRight):pt&&ui(1);break;case e.types.swipeLeft:case e.types.throwLeft:yt?ci(e.types.swipeLeft):wt&&ui(-1);break;case e.types.tap:var i=t.originalEvent.originalEvent,r=i.target,u=document.createEvent("MouseEvent");u.initMouseEvent("click",!1,!1,window,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null);r.tagName!=="A"&&(r=n(r).parentsUntil("LI","A")[0]);r&&r.dispatchEvent(u)}}}var lt=t,f,ut,ot,li=i.useViewPortForWidthContainer?lt:lt.find(i.widthContainerSelector),vt=lt.find("."+i.pagingClass);vt.length?(ut=lt.find(".leftarrow"),ot=lt.find(".rightarrow"),ut.length||wi()):(vt=n("<div class='"+i.pagingClass+"'><\/div>"),li.append(vt),wi());var oi,gt,si=new o,yt=!1,bt=!1,ai,vi,k,ni,yi,ct,pi,st,at="show",rt,v,u,pt,wt,p,ti=!1,ii=0,ht,kt=1,ri="";return{setup:bi,teardown:ki,update:di}}var w,ot,ut;w=a.ltr?1:-1;var d="400ms",g,k="left",nt="cubicBezierQuint",tt="PagingContentUpdated",ft=u.isCapable("ShowMoveTouchGestures"),it="snapCompleted",b=window.navigator&&navigator.msManipulationViewsEnabled,rt=!1,et="ViewabilityUpdatedEvent";return i.csstransforms3d&&u.isCapable("AllowTransform3d")?(k="translate3d",g=k+"({0}px, 0px, 0px)",rt=!0):i.csstransforms&&u.isCapable("AllowTransform2d")&&(k="translateX",g=k+"({0}px)",rt=!0),ot=n(p),ut={autoHideArrow:!1,autoHideArrowMS:250,alwaysScrollCompletePage:!1,contentSelector:".sectioncontent",columnGap:23,extendedArrows:!0,pagingClass:"paging",scrollOffset:0,useViewPortForWidthContainer:!1,widthContainerSelector:".full-width"},t(st,ut)});define("renderSectionAd",["jquery","jqBehavior","adLoad","c.dom"],function(n,t,i){function r(n,t){return{setup:function(){i.loadSectionAd(n[0],t.adItemSelector)}}}return t(r,{adItemSelector:".showcasead"})});define("autoRefresh",["jquery","jqBehavior","window","headData"],function(n,t,i,r){function u(t,u){function v(){n.isNumeric(u.timeout)&&(clearTimeout(s),s=i.setTimeout(w,u.timeout))}function y(){n.isNumeric(u.idleTimeout)&&(f=!1,clearTimeout(h),h=i.setTimeout(p,u.timeout))}function p(){f||(f=!0);c&&(i.location=a(i.location.href,l))}function w(){f?i.location=a(i.location.href,l):c=!0}function a(n,t){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),f=n.indexOf("?")!==-1?"&":"?",r,u;return n.match(i)?(r=n.match(i)[0].substring(4,5),u=parseInt(r)+1,n.replace(i,"$1"+t+"="+u+"$2")):n+f+t+"=1"}var e={},o=!1;r&&r.clientSettings&&r.clientSettings.autorefreshsettings&&(e={isEnabled:r.clientSettings.autorefreshsettings.is_market_enabled,timeout:r.clientSettings.autorefreshsettings.timeout,idle:r.clientSettings.autorefreshsettings.idle_enabled,idleTimeout:r.clientSettings.autorefreshsettings.idle_timeout},o=r.clientSettings.autorefresh);var s,h,f=!0,c=!1,l="AR";return{setup:function(){if(u=n.extend(!0,{},u,e),o&&u.isEnabled&&(n.isNumeric(u.timeout)&&(u.timeout=u.timeout*6e4),v(),u.idle))n(document).on(u.monitorEvents,y)}}}return t(u,{isEnabled:!1,timeout:1,idle:!0,idleTimeout:1,monitorEvents:"mousemove keypress"})});define("modal",["jquery","modal.tokens"],function(n,t){function s(){var n=document.createElement("div");return n.setAttribute("id",r),n.setAttribute("title",t.closeButtonTitle),n}function h(n){var t=document.createElement("section");return t.setAttribute("class",o),t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby","dialog-title"),t.setAttribute("aria-describedby","dialog-desc"),n&&t.setAttribute("id",n),t}function a(n){var i=document.createElement("button");return i.setAttribute("class","close"),i.setAttribute("title",t.closeButtonTitle),i.click(function(){f.close(n)}),i}var r="mask",o="modal",c="error",i,u,e=220,l="<h1>"+t.errorMessageTitle+"<\/h1><p>"+t.errorMessageLabel+"<\/p>",f={open:function(t,v,y,p){var w,b;i=i||n("body");u||(i.append(s()),u=n("#"+r),u.click(function(){f.close(y)}));w=n("#"+y);w.length==0&&(b=h(),i.append(b),n("."+o+":not([id])").attr("id",y),w.load(v,function(t,i,r){i==="error"?(w.append(l).addClass(c),n("p",this).append(r.status+" "+r.statusText)):typeof p=="function"&&p(y);w.append(a(y))}));i.addClass(r);n("#"+r+", #"+y).fadeIn(e);n(".webkit > #"+y).show()},close:function(t){i=i||n("body");n("#"+r+", #"+t).fadeOut(e).hide();i.removeClass(r)},openModalWithContent:function(t,o,c,l){var y,a,v;i=i||n("body");u||(i.append(s()),u=n("#"+r),u.click(function(){l&&typeof l=="function"?l():f.close(o)}));y=n("#"+o);y.length==0&&(a=h(o),c&&(v=n("#"+c),v&&v.appendTo(a)),i.append(a));i.addClass(r);n("#"+r+", #"+o).fadeIn(e);n(".webkit > #"+o).show()}};return f});define("sectionPersonalizationManager",["jqBehavior","jquery","window","sectionPersonalization","personalizationModal","mediator"],function(n,t,i,r,u,f){function e(n,e){function g(){var n=t(this).closest(e.sectionsContainerElements),r=n.find(".stripenav").eq(0).find("li:first-child"),f=r.text(),i=c.getSectionInfo(n).sectionId,o=e.sectionRemovedText.replace("%s",f);n.append('<span class="undosectionremove" data-undo-id="'+i+'">'+o+'<\/span><button class="undosectionremove undobutton" data-undo-id="'+i+'"> '+e.sectionUndoText+'<\/button><button class="undosectionremove closebutton" data-undo-id="'+i+'"/> ');t('button.undobutton[data-undo-id="'+i+'"]').on("click",function(t){t.preventDefault();p(n,i)});t('button.closebutton[data-undo-id="'+i+'"]').on("click",function(t){t.preventDefault();n.remove()});y();n.addClass("personalizationhidden").removeClass("expanded");a(n);u.removeSection(i);c.removeSection(n,function(){},function(){p(n,i)})}function y(){t(e.hiddenStripes).remove()}function p(n,i){t('.undosectionremove[data-undo-id="'+i+'"]').remove();n.removeClass("personalizationhidden").addClass("expanded");b();a(n);u.addSection(i)}function nt(){w.call(this,!0)}function tt(){w.call(this,!1)}function w(n){var o,h;y();var c=!1,r=t(this).closest(e.sectionsContainerElements),f=t(e.sectionsContainerElements),u=r.prevAll(e.sectionsContainerElements).length;n&&u>0&&(o=f.eq(u-1),u===1&&(r.find(e.personalizationContextMenu).addClass(e.firstContextMenu),o.find(e.personalizationContextMenu).removeClass(e.firstContextMenu)),u===f.length-1&&(r.find(e.personalizationContextMenu).removeClass(e.lastContextMenu),o.find(e.personalizationContextMenu).addClass(e.lastContextMenu)),t(i).scrollTop(t(i).scrollTop()-r.offset().top+o.offset().top),o.before(r),c=!0);!n&&u<f.length-1&&(h=f.eq(u+1),u===0&&(r.find(e.personalizationContextMenu).removeClass(e.firstContextMenu),h.find(e.personalizationContextMenu).addClass(e.firstContextMenu)),u===f.length-2&&(r.find(e.personalizationContextMenu).addClass(e.lastContextMenu),h.find(e.personalizationContextMenu).removeClass(e.lastContextMenu)),t(i).scrollTop(t(i).scrollTop()+h.offset().top-r.offset().top),h.after(r),c=!0);c&&b();s=!1}function b(){clearTimeout(o);o=setTimeout(k,e.reorderTimeout)}function k(){clearTimeout(o);o=null;var n=t(e.sectionsContainerElements);c.showSectionsInOrder(n)}function it(){var n=t(this).closest(e.sectionsContainerElements);u.open(n)}function h(){t(e.expandedPersonalizationContextMenu).data(e.contextMenuExpanded,!1).removeClass(e.expandedMenuClass);l=!1}function rt(n){h();n.data(e.contextMenuExpanded,!0).addClass(e.expandedMenuClass);l=!0}function ut(){var n=t(this).closest(e.personalizationContextMenu);n.data(e.contextMenuExpanded)?h():rt(n);s=!1}function ft(){l&&s&&h();s=!0}function a(){var i=t(e.sectionsElements),n;t(e.personalizationContextMenu).removeClass(e.firstContextMenu+" "+e.lastContextMenu+" "+e.onlyContextMenu);i.first().find(e.personalizationContextMenu).addClass(e.firstContextMenu);i.last().find(e.personalizationContextMenu).addClass(e.lastContextMenu);n=t(e.sectionsContainerElements).not(".personalizationhidden");n.length===1&&n.find(e.personalizationContextMenu).addClass(e.onlyContextMenu)}function v(n){n&&d(n);a(n);t(e.personalizationContextMenuExpander,n).on("click",ut);t(i).unload(function(){typeof o=="number"&&(clearTimeout(o),k())});t(e.removeSectionButtonClass,n).on("click",g);t(e.moveSectionUpButtonClass,n).on("click",nt);t(e.moveSectionDownButtonClass,n).on("click",tt);t(e.addBelowButtonClass,n).on("click",it)}function d(n){t(e.personalizationContextMenuExpander,n).off("click");t(e.removeSectionButtonClass,n).off("click");t(e.moveSectionUpButtonClass,n).off("click");t(e.moveSectionDownButtonClass,n).off("click");t(e.addBelowButtonClass,n).off("click")}var c=new r,s=!0,l=!1,o=null;t(e.headerPersonalizationButton).on("click",function(){u.open()});return{setup:function(){t("body").on("click.hideContextMenu",ft);f.sub("deferredPageContentLoaded",v);u.initPersonalizationModal();v()},teardown:function(){t("body").off("click.hideContextMenu");f.unsub("deferredPageContentLoaded",v);h();d()}}}return n(e,{addBelowButtonClass:".personalizationcontextmenu .personalizationaddbelow",contextMenuExpanded:"menuExpanded",expandedMenuClass:"expanded",expandedPersonalizationContextMenu:".personalizationcontextmenu.expanded",firstContextMenu:"first",lastContextMenu:"last",onlyContextMenu:"only",moveSectionDownButtonClass:".personalizationcontextmenu .personalizationmovedown",moveSectionUpButtonClass:".personalizationcontextmenu .personalizationmoveup",personalizationContextMenu:".personalizationcontextmenu",personalizationContextMenuExpander:".personalizationcontextmenu .expandpersonalizationmenu",removeSectionButtonClass:".personalizationcontextmenu .personalizationremove",sectionRemovedText:"%s section removed",sectionRemoveTimeout:2500,sectionsContainerElements:".stripecontainer",sectionsElements:".stripeouter:not(.mestripeouter)",sectionUndoText:"Undo",reorderTimeout:2e3,headerPersonalizationButton:"header ul[role='menu'] li button.personalization",hiddenStripes:".stripecontainer.personalizationhidden"})});define("personalizationModal",["jquery","modal","sectionPersonalization","imgSrc","track"],function(n,t,i,r,u){function tt(){p=new i;e=n("#"+f.modalId);e.remove();w();e.on("click",f.tileSelector,it).find(k).on("click",function(){w();t.close(f.modalContainerId)});v=e.find(d).one("click",l).one("click",l);y=e.find(g);e.appendTo(n("body"))}function w(){var i=n(f.sectionSelector),t=e.find(f.tileSelector);nt=t.length;h=0;s=[];t.each(function(t,r){var u=n(r),e=u.data(f.dialogSectionIdAttr),c=i.filter("[data-"+f.pageSectionIdAttr+"='"+e+"']");!c.length||c.eq(0).hasClass(f.removedSectionClass)?u.addClass(o):(u.removeClass(o),h++,s.push(e))})}function it(t){var i,r,f;t.preventDefault();i=n(this);i.hasClass(o)?(i.removeClass(o),h++):h>1&&(i.addClass(o),h--);r=!i.hasClass(o);f=i.attr("data-stripe-id");u.trackEvent({type:"click_nonnav",target:this},"","",f+"|add="+r);t.stopPropagation()}function rt(n){b(n,!1);var t=s.indexOf(n);t>=0&&s.splice(t,1)}function ut(n){b(n,!0);s.push(n)}function b(n,t){if(e&&e.length){var i=e.find("button[data-"+f.dialogSectionIdAttr+"='"+n+"']");t?(i.removeClass(o),h++):(i.addClass(o),h--)}}function ft(){n("img",e).each(function(){r.reset(this)})}function et(n){a=n;ft();t.openModalWithContent(null,f.modalContainerId,f.modalId);v.off("click",l).one("click",l).removeClass("disabled");y.hide()}function ot(){var r={},i=[],t,u;return c=[],t=n(f.sectionSelector).map(function(t,i){var u=n(i),e=u.data(f.pageSectionIdAttr);return r[e]=t,{id:e,path:f.pdpPath,shown:!u.hasClass(f.removedSectionClass)}}),e.find(f.tileSelector).each(function(u,e){var l=n(e),s=l.data(f.dialogSectionIdAttr),a=!l.hasClass(o),h=t[r[s]];h?(h.shown=a,h.shown&&c.push(s)):a&&(i.push({id:s,path:f.pdpPath,shown:!0}),c.push(s))}),i.length&&(u=t.length,a&&(u=r[a.data(f.pageSectionIdAttr)]+1),i.unshift(u,0),[].splice.apply(t,i)),t}function st(){var t,n;if(c.length!==s.length)return!0;for(s.sort(),c.sort(),t=c.length,n=0;n<t;n++)if(c[n]!==s[n])return!0;return!1}function l(n){v.addClass("disabled");var r=ot(),i=st();i?(y.show(),p.updateSectionInfosInOrder(r,function(){location.reload(!0)})):t.close(f.modalContainerId);u.trackEvent({type:"click_nonnav",target:this},"","","done|dirty="+i);n.stopPropagation()}var f={pageSectionIdAttr:"section-id",dialogSectionIdAttr:"stripe-id",pdpPath:"MSNHomePage/Stripes",modalId:"addRemoveSectionsModal",modalContainerId:"addRemoveSectionsModalContainer",removedSectionClass:"personalizationhidden",sectionSelector:".stripecontainer",tileSelector:"button[data-stripe-id]"},o="personalizationPending",k=".closebutton",d=".donebutton",g=".content div.loading",nt,h,a,v,y,e,p,s=[],c=[];return{initPersonalizationModal:tt,removeSection:rt,addSection:ut,open:et,setConfig:function(t){n.extend(!0,f,t)}}});define("sectionPersonalization",["jquery","headData"],function(n,t){function e(n,t){return t.pdpPathTemplate.replace("%sectionId",n)}function f(n,t){var i=n.attr(t.sectionIdAttributeName),r;return u[i]||(r=e(i,t),u[i]={sectionId:i,pdpPath:r}),u[i]}function o(n,t){return f(n,t).sectionId}function s(n,t){return f(n,t).pdpPath}function w(n,t){return{Id:n,State:t?"expanded":"hidden"}}function h(n,t,i){return{operation:"Add",path:t,payload:JSON.stringify(w(n,i))}}function c(n,t,i){var r=[];return r.push(h(n,t,i)),JSON.stringify(r)}function b(t){var i=n.map(t,function(n){return h(n.id,n.path,n.shown)});return JSON.stringify(i)}function l(n,t,i){return c(o(n,i),s(n,i),t)}function a(n,t,i){return c(n,e(n,i),t)}function k(t,i){return n.map(t,function(t){var r=n(t);return{id:o(r,i),path:s(r,i),shown:!0}})}function r(t,i,r){i=i||n.noop;r?t.then(function(n){i(n)},function(n){r(n)}):t.always(function(n){i(n)})}function v(i,r,u,f,e){if(r>=u)f&&f();else{var o=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:b(i[r])}),s=v.bind(null,i,r+1,u,f,e);o.then(s,function(n){e?e(n):f&&f(n)})}}function d(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:l(i,!1,this._config)});r(e,u,f)}function g(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:l(i,!0,this._config)});r(e,u,f)}function nt(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:a(i,!1,this._config)});r(e,u,f)}function tt(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:a(i,!0,this._config)});r(e,u,f)}function it(n,t,i){var r=k(n,this._config);y(r,t,i)}function y(n,t,i){for(var u=[],r=0,f=n.length;r<f;r+=10)u.push(n.slice(r,r+10));v(u,0,u.length,t,i)}function i(t){var i={};n.extend(!0,i,p,t);this._config=i}var p={sectionIdAttributeName:"data-section-id",pdpPathTemplate:"MSNHomePage/Stripes"},u={};return i.prototype.removeSection=d,i.prototype.addSection=g,i.prototype.removeSectionById=nt,i.prototype.addSectionById=tt,i.prototype.showSectionsInOrder=it,i.prototype.updateSectionInfosInOrder=y,i.prototype.getSectionInfo=function(n){return f(n,this._config)},i});define("modal.tokens",{closeButtonTitle:"Close",errorMessageTitle:"Message:",errorMessageLabel:"Error loading content"});define("paging.tokens",{seeAllLink:"See all",pagingArrowText:"{0} of {1}"});define("skypeFirstRunBanner",["jquery","c.deferred"],function(n){function t(){n(".skypefirstrunbanner").click(n(this).remove)}return t(),{init:t}});define("pageBindings",["binding","c.dom"],function(n){return function(t){n("truncate",".stripecontent h4,.stripecontent p,.meflyout>section p,.smalla h4,.todaymodule .title,.todaystripe .title,.todayprimemobile h4,.popularnowimagewithlinks p,.popularnowimagewithlinks .first .title,.eventsection .title",t).all();n("pagingSection",".oscars > .eventcontent").all({columnGap:0,scrollOffset:10,contentSelector:".scrollcontent",extendedArrows:!1,widthContainerSelector:".scrollcontent",alwaysScrollCompletePage:!0});var i=n.views.SIZE23COLUMN;n("pagingSection",".stripeouter:not(.mestripeouter)",t).view(i,{contentSelector:".stripe .paging-container",scrollOffset:0,alwaysScrollCompletePage:!1,columnGap:15,extendedArrows:!0,useViewPortForWidthContainer:!1,widthContainerSelector:".paging-container"});require(["c.deferred"],function(){var i=20;n("arrowScroll",".stripeouter.mestripeouter",t).all({scrollRegion:".mestripe",reduceScrollAmount:i,addArrowButtons:!0});n("arrowScroll",".todaynavigation .full-width",t).all({scrollRegion:".sectioncontent",reduceScrollAmount:i,addArrowButtons:!0});n("sectionPersonalizationManager","body",t).all();n("autoRefresh","#main",t).all();n("outlookInbox",".meflyouts .mail",t).all();n("meTwitter",".meflyouts .twitter",t).all();n("meFacebook",".meflyouts .facebook",t).all();n("meGmail",".meflyouts .gmail",t).all();n("meYahooMail",".meflyouts .yahoomail",t).all();n("loadMeImages",".mestripe li.maps",t).all({imagesToLoad:".meflyouts .maps img"});n("loadMeImages",".mestripe li.xbox",t).all({imagesToLoad:".meflyouts .xbox section li img"});n("loadMeImages",".mestripe li.bingrewards",t).all({imagesToLoad:".meflyouts .bingrewards .signin section li img",selectOnHover:!0});n("meIntegratedSkype",".meflyouts .integratedskype",t).all();n("meOffice",".meflyouts .office",t).all({eventName:"OfficeFlyoutVisible"});n("meOffice",".meflyouts .onenote",t).all({eventName:"OneNoteFlyoutVisible"})})}});require(["refreshPdpModules","c.sso"],function(n){n()});require(["meModule","c.sso"],function(n){n.ssoAutoRefresh()});require(["refreshPdpModules","c.pdp"],function(n){n()});require(["refreshDeferredModules","binding","c.onload"],function(n){n().done(function(){})});define("pagingAnimator",["jquery","modernizr","jqueryPlus"],function(n,t){var i=t.translateXCss;return function(t){function r(n,r,u){var f={};f[i]=n+"px";t.animate(f,{queue:!1,duration:r,easing:u})}return{initialize:n.noop,animationStarting:n.noop,animate:r,animationCompleted:n.noop}}});define("meStripe",["jquery","jqBehavior","dom","document","dir.tokens","imgSrc","touchGestures","scrollStop","track","mediator","viewport","truncate","scrollLeft","requestAnimationFrame","window","perfMarker","setCookie","getCookie"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function k(t){function tr(){rr();p.each(vr);gt();h.sub(c.sizeChangeEventName,gt);pr()?ir():ai()}function ir(){hr();yt.on(ti,vi);ft.click(ri);cr()}function ai(){if(!ii)ni.on(at,wi);o(k,null).setup();k.on("scroll",dt).on("scrollStop",pi);t.on(at+" "+vt,fi);yt.on(ci,d);if(dt(),e.settings.touchSupported)p.children("a").on(li,er);p.children("a").on("click touchend",function(){(n(this).attr("href")=="#"?ur:fr).apply(this,arguments)});h.subChannel("closeFlyout","meStripeBehavior",d)}function rr(){ni=n(r);ft=n("body");yt=n(y);k=t.find(".mestripe");p=k.find("> ul > li");st=t.find(".meflyouts .meflyout");pt=a(k[0]);ht=k.outerWidth()}function ri(t){if(nt[0]!=t.target&&!n.contains(nt[0],t.target))return t.preventDefault(),t.stopPropagation(),ft.off("click",ri),ui(),!1}function vi(t){nt[0]==t.target||n.contains(nt[0],t.target)||ui(t)}function ui(n){n&&n.isPropagationStopped()||(ft.off(ti,ui),nt.removeClass(tt),rt.removeClass(tt),ai())}function ur(i){if(i.type==="click"&&!ii&&!oi(i.originalEvent)){var r=n(this).parent();t.addClass(bt);ei(p.index(r))}i.preventDefault();i.stopPropagation();n(this).blur()}function fr(t){if(t.type==="touchend"||ii||oi(t.originalEvent))return t.preventDefault(),t.stopPropagation(),!1;n(this).blur()}function fi(){v(function(){t.find(".signout img").each(function(){f.go(this)})});t.off(at+" "+vt,fi)}function yi(n){p.find(n.target).length||st.find(n.target).length||(d(),ft.off(vt,yi))}function er(){var i=n(this).parent();if(i.hasClass(tt))d();else{if(lt)return;t.addClass(bt);ei(p.index(i));ft.on(vt,yi)}}function pi(){lt=!1}function wi(n){if(!lt&&!oi(n.originalEvent)){var i,r;i=u.ltr?n.originalEvent.pageX:window.innerWidth-n.originalEvent.pageX;r=n.originalEvent.pageY;r>=g.top&&r<=g.bottom&&i>=g.left&&i<=hi?sr(n.originalEvent,i):et?i<et.x1||i>et.x2||r<et.y1||r>et.y2?d():it!==!1&&(clearTimeout(it),it=!1,d()):kt&&(t.removeClass(bt),it&&(clearTimeout(it),it=!1),kt=!1)}}function dt(n){var t=a(k[0]);n?t!==pt&&(lt=!0,d()):d();pt=t}function or(n){var t=p.eq(n);ot==n}function bi(n,t){var r=t.outerWidth(),i=u.ltr?n.position().left:ht-n.position().left-n[0].offsetWidth,f=i+r;f>ht&&(i=u.ltr?n.position().left+n.outerWidth()-r:ht-n.position().left-r);u.ltr?t.css({left:i}):t.css({right:i})}function sr(t,i){var f,u,e=ct.length;for(kt||(it||(it=setTimeout(ar,700)),kt=!0),f=i+pt-g.left,u=0;u<e;u++)if(f<ct[u]){ot!==u&&(n.contains(p[u],r.elementFromPoint(t.clientX,t.clientY))?ei(u):d());break}}function hr(){nt=st.eq(p.index(rt));v(function(){nt.find("img").each(function(){f.go(this)})});rt.addClass(tt);bi(rt,nt);nt.addClass(tt)}function ei(n){var t,e;if(!lt&&ot!==n){var r=p.eq(n),i=st.eq(n),f=r.data();or(n);d();ut=i.addClass(tt);r.addClass(tt);wt=setTimeout(function(){var n=f&&f.name?f.name:"meTile";h.pub(n.split(" ")[0]+"FlyoutVisible");s.trackEvent({type:"mouseenter"},r,"",n)},250);i.attr("data-truncated")!=="true"&&i.find("> section ul > li").length&&(l(" > section p",i,null).setup(),i.attr("data-truncated","true"));ot=n;bi(r,ut);t=ut.offset();e=ut.outerWidth();et={x1:u.ltr?t.left:window.innerWidth-t.left-e,y1:t.top,x2:u.ltr?t.left+e:window.innerWidth-t.left,y2:t.top+ut.outerHeight()}}}function d(){if(ut){var t=p.eq(ot),n=t.data(),i=n&&n.name?n.name:"meTile";ut.removeClass(tt);t.removeClass(tt);ut=ot=et=!1;wt&&(clearTimeout(wt),wt=!1);h.pub(i.split(" ")[0]+"FlyoutClosed")}}function ki(){var n;return n=k.offset(),n.right=n.left+k.outerWidth(),n.bottom=n.top+t.outerHeight(),n}function cr(){var n,i,t,r;(i=rt.attr("class").split(" "),i.length)&&((t=i[0],n=b(si),yr(n,t))||(r=n?n+"#"+t:t,w(si,r,nr,w.topDomain,"/")))}function gt(){if(!g){di();return}var n=ki();(g.left!=n.left||g.top!=n.top||g.right!=n.right||g.bottom!=n.bottom)&&di(n)}function di(n){d();ht=k.outerWidth();g=n?n:ki();lr()}function lr(){ct=[];for(var t=0,i=p.length,n=0;n<i;n++)ct.push(t+=p[n].offsetWidth);hi=ct[n-1]+g.left}function ar(){it=!1;t.addClass(bt)}function vr(){var t=n(this);t.data({name:i.text(this)})}function yr(n,t){for(var u=!1,r=n.split("#"),i=0;i<r.length;i++)if(r[i]===t){u=!0;break}return u}function pr(){return rt===undefined&&(rt=p.filter(gi)),rt.length}function oi(n){return n.pointerType&&n.pointerType!=="mouse"&&n.pointerType!==4}var ni,ft,yt,k,p,st,g,pt,ht,wt,rt,nt,tt="hover",bt="noflyoutdelay",si="mestripefre",ti="keydown",gi="[data-firstrun]:first",nr=180,ct=[],hi,ut=!1,ot=!1,et=!1,kt=!1,it=!1,lt=!1,ci="blur MSOrientationChange orientationchange",ii=/(iPad|iPhone|iPod|Android)/g.test(navigator.userAgent),at=navigator.pointerEnabled||navigator.msPointerEnabled?"pointermove MSPointerMove":"mousemove",vt="touchstart MSPointerDown pointerdown",li="touchend MSPointerUp pointerup";return{setup:function(){tr()},update:function(){p=k.find("> ul > li");st=t.find(".meflyouts .meflyout");dt();gt()},teardown:function(){h.unsub(c.sizeChangeEventName,gt);ni.off(at,wi);k.off("scroll",dt).off("scrollStop",pi);t.off(at+" "+vt,fi);p.children("a").off(li).off("mouseup").off("click");yt.off(ci,d).off(ti,vi);ft.off("click",ri)}}}return t(k)});define("outlookLogout",["jquery","jqBehavior","track"],function(n,t,i){function r(n){var t=n.data("outlook-url");n.click(function(){return window.open(t),i.trackEvent({type:"click",target:this}),!1})}return t(r)});define("keypressCapture",["jquery","jqBehavior","mediator","perfMarker","window","document"],function(n,t,i,r,u,f){function s(t,u){function a(){h=!0}function v(){h||n(this).focus()}function c(t){t.charCode>32&&t.charCode<=126&&n(t.target).is(l)&&s.focus()}var s=n(u.focusSelector),l=":not(input,textarea,select,{selector})".replace("{selector}",u.focusSelector),h=!1,f;o.one("focusin mousedown touchstart",a);s.one("keypress",v);return f={setup:function(){t.on("keypress",c);e||(e=!0,r("TimeToFirstSearchInteractive",!0))},teardown:function(){t.off("keypress",c)}},i.sub("feedback.open",f.teardown),i.sub("feedback.close",f.setup),f}var o=n(f),e;return t(s,{focusSelector:""})});define("userInitiatedRefresh",["jquery","jqBehavior","window","headData","setCookie","getCookie","evaluate","navigation","mediator","viewport","track","viewAware","perfMarker","document","location"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function g(t,a){function rt(){b||(g=n(".todaymodule li a:visible, .todaystripe li a:visible"),nt=n(".picks li a:visible"),b=!0)}function st(){var r=f(w),i,t;r&&(i=r.split(","),t=0,i&&i.length&&(rt(),g.each(function(r,u){var e,f,o;if(t>a.maxFreshDisplay)return!1;e=tt(u);f=n(u);e&&n.inArray(e,i)<0&&(o=f.parent(),o.hasClass("smalla")||o.parent().parent().hasClass("halfpane")?(f.find(".title").first().prepend(p),t++):(f.find(".caption").first().prepend(p),t++))}),nt.each(function(r,u){if(t>a.maxFreshDisplay)return!1;var f=tt(u);f&&n.inArray(f,i)<0&&(n("span",u).first().prepend(p),t++)})))}function ut(){if(!k){rt();var n=g.add(nt).map(function(){return tt(this)}).get().join(",");u(w,n,null,null,"/",null);k=!0}}function tt(t){var r=n(t).attr("href"),i;return r&&(i=r.split("/").slice(-1)[0].split("-").slice(-1)[0],/^[a-zA-Z0-9]{6,8}$/g.test(i))?i:null}function ft(){clearTimeout(it);it=i.setTimeout(ht,a.frequencyMinutes)}function ht(){var u=n("html").attr("lang").toLowerCase()||"en-us",r=l.currentView(),t=2;r&l.views.SIZE4COLUMN?t=4:r&l.views.SIZE3COLUMN&&(t=3);ut();n.get("/"+u+d+t,function(n){if(n)try{var t=e(n);if(t.fresh&&Number(t.fresh)>a.minFreshCount){i.setTimeout(et,a.bannerDelayMinutes*6e4);return}t.error||ft()}catch(r){}})}function et(){var t=n("#refreshbar").addClass("active").css("display",""),r;ut();r=t&&t[0].children&&t[0].children[0]?t[0].children[0]:null;c.trackEvent({type:"click_nonnav",target:r},null,i.location.href,"refresh banner load");t.click(function(t){t.target.nodeName==="DIV"&&n.inArray(t.target.classList,"close")==-1&&(c.trackEvent({type:"click",target:this},null,i.location.href),i.location=i.location.href)});ot(t,"4.3rem",750,!1);v.title+=" - (New items)";t.find(".close").click(function(){c.trackEvent({type:"click_nonnav",target:this});ot(t,t.height(),400,!0);t.removeClass("active").css("display","none");t.off()})}function ot(t,r,u,f){var o=f?"-=":"+=",e=t.offset().top-n(i).scrollTop();e&&t.animate({top:"-="+e},u);n(".head").toggleClass("uipractive");n("body").children().not("#eyeDiv").not("#conditionalbanner").animate({top:o+r},u,function(){s.pub(h.sizeChangeEventName)})}var g=[],nt=[],it;return r&&r.clientSettings&&r.clientSettings.uiprsettings&&(a.isEnabled=r.clientSettings.uipr,a.frequencyMinutes=r.clientSettings.uiprsettings.frequency_minutes,a.bannerDelayMinutes=r.clientSettings.uiprsettings.banner_delay_minutes,a.maxFreshDisplay=Number(r.clientSettings.uiprsettings.max_fresh_display),a.minFreshCount=Number(r.clientSettings.uiprsettings.min_fresh_count)),{setup:function(){var t,i;a.isEnabled&&(t=o.getParamsFromUrl(y.href.toLowerCase()),t&&(t.shownew&&st(),t.showrefreshbanner&&et()),i=n.isNumeric(a.frequencyMinutes)?a.frequencyMinutes:17,a.frequencyMinutes=i*6e4,ft())}}}var w="lastseenheadlines",p="<span class='fresh'>NEW<\/span> ",d="/homepage/api/pageupdates?visibleColumns=",b=!1,k=!1;return t(g,{isEnabled:!1,frequencyMinutes:12,bannerDelayMinutes:5})});define("skypeUserFirstRunExperience",["jquery","track","imgSrc","window","c.dom"],function(n,t,i,r){function c(){if(u.length){e=n("body,.stripeouter.mestripeouter");h=n("#skypefrecontinue");o="keydown";s="skypefreoverlay";a();u.click(f);n(r).on(o,l);e.addClass(s);h.focus()}}function f(i){i.stopPropagation();i.preventDefault();n(r).off(o,l);u.off("click",f);e.removeClass(s);t.trackEvent({type:"click_nonnav",target:this},null,"skypefredialog");u.remove()}function l(n){f(n)}function a(){n("#skypefredialog img").each(function(){i.go(this)})}var u=n("#skypefredialog,#skypefrecontinue,#skypefreclose"),e,h,o,s;return c(),{init:c,trackAndDismiss:f}});define("pageBindings.pc",["binding","perfMarker","headData","c.dom"],function(n,t,i){n("keypressCapture","body").all({focusSelector:"#q"});document.getElementById("q").focus();t("TimeToFirstSearchInteractive",!0);var r="body>.head";return require(["jquery"],function(n){n(window).scroll(function(){var t=n(window).scrollTop();t>0?n(r).addClass("scrolled"):n(r).removeClass("scrolled")})}),function(t){i&&i.clientSettings&&i.clientSettings.static_page||(n("meStripe",".mestripeouter",t).all(),n("outlookLogout","#outlooklogout",t).all(),require(["c.deferred"],function(){n("userInitiatedRefresh","#main",t).all()}))}});define("makeHomepageDialog",["jquery","jqBehavior","document","track","imgSrc"],function(n,t,i,r,u){function f(t){function it(){if(s&&s!="false"){var n="<iframe id='installerIFrame' width='0' height='0' style='display:none'><\/iframe>";e.append(n);y.click(g)}(c.length||f.length)&&(p.add(w).click(a),c.click(h),f.click(h))}function h(i){i.preventDefault();rt();b.on(k,d);return t.css("visibility","hidden").show(),e.css({top:"50%",marginTop:e.height()/-2}),t.css("visibility","visible"),e.focus(),n("#installerIFrame").attr(l,s),r.trackEvent({type:nt},this),!1}function a(){b.off(k,d);t.hide();v.hide();f.hide();n("#installerIFrame").attr(l,"")}function d(n){n.preventDefault();n.keyCode==27&&a()}function g(t){t.preventDefault();n("#installerIFrame").attr(l,s)}function rt(){n(".makehomepagesteps img").each(function(){u.go(this)})}function ut(){p.add(w).off(o,a);c.off(o,h);f.off(o,h);y.off(o,g)}var v=n(".todaynavigation .makehomepage"),c=v.find("a"),f=n("#makehomepage"),y=n(".refresh + a"),e=n("#makehomepagedialog"),p=t.find(".closebutton"),w=n("#makehomepageback"),b=n(i.body),o="click",nt="click_nonnav",k="keydown",tt="data-installer",l="src",s=t.attr(tt);return{setup:it,teardown:ut}}return t(f)});require(["binding","c.dom"],function(n){n("makeHomepageDialog","#makehomepagecontainer").all()});define("appPromoFooter",["jquery","setCookie","track","c.dom"],function(n,t,i){return function(){function f(){i.trackEvent({type:"click_nonnav"},this);r.remove();t("pf-"+u,e(),365,!1,"/")}function e(){var n=new Date;return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}var r=n("#promoappfooter"),u;r.length&&(u=r.attr("data-vkey"),r.find(".closebutton,.msnpromo li a,.appexploretext").click(f))}});require(["appPromoFooter"],function(n){n()});g_ashsC=g_ashsC||{};g_hsSetup=function(){};define("autoSuggestSnR",["jquery","jqBehavior","pageInstance","trackInfo","mediator","getCookie","setCookie","format","track","navigation","location"],function(n,t,i,r,u,f,e,o,s,h,c){function p(t,o){function tt(){var n=new RegExp("\\b"+g+"=0\\b","i");return f(d).match(n)}function it(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script"),u,n,f;e.appendChild(t);u=i.getActivityId()||r.sitePage.requestId;n=l&&l[a];n=n||n==""?"&setflight="+l[a]:"";f=o.delayBind<2?"&onload=1":"";t.src=o.resources.js+u+f+n}function rt(){var n=tt();return b(window[c])?(window[c].enable(!n),et(),1):t[0]&&h[0]&&!n?(o.delayBind==2&&(p=1),it(),1):0}function ut(){return v(f("_SS"),5)||e("_SS","SID=00",365,o.cookieDomain,"/"),1}function k(t,i){t==0?i():t==1?n(document).ready(i):t==2&&ft(i)}function ft(n){var t=".asue";h.bind("click"+t,function(){n()&&h.unbind(t)}).bind("keyup"+t,function(i){i.which!=27&&i.which!=9&&n()&&h.unbind(t)})}function et(){var t,r,i,u;w||(t=v(y.cn,1)?y.cn.split("+"):null,t&&v(t[0],1)&&(r=f(t[0]),v(r,4)&&(i=r.match(/SID=[\d(A-Z(a-z)]+/),i&&v(i[0],5)&&(w=i[0].substr(4)))));b(window[c])&&(u="sid",n.isFunction(window[c][u])&&window[c][u](w),p&&(p=0,document.activeElement==h[0]&&h.click()))}function ot(){s.trackEvent({type:"submit",target:t[0]})}var d="SRCHHPGUSR",g="AS",c="sa_inst",y=o.sharedCk,p=0,w,h=n("#"+o.inputId,t),nt;u.sub("autosuggestPreventSubmit",function(){nt=!1});var v=function(n,t){return typeof n=="string"&&(!t||n.length>=t)},b=function(n){return typeof n!="undefined"};k(o.delayBind,rt);k(y.delay,function(){return ut()});t.on("ASSugClicked",ot)}var y={resources:{js:"http://www.bing.com/as/init?cc=US&pt=IcePrime_HomePage&refig="},formId:"srchfrm",inputId:"q",market:"en-us",featureType:1,cookieExpiry:365,cookieDomain:"msn.com",delayBind:2,sharedCk:{delay:1,ru:"http://"+c.host+"/sck.aspx&form=MSN005",pu:"http://www.bing.com/sck",cn:"_SS",domain:"msn.com"}},v=t(p,y),l,a;return v.resize=function(n){window.sa_inst&&window.sa_inst.autosuggest.setQuery(n.val())},l=h.getParamsFromUrl(c.href),a="fdhead",v});require(["binding","c.deferred"],function(n){n("autoSuggestSnR","#srchfrm").all()});define("autosuggestDestinationUrl",["jquery","format","c.deferred"],function(n,t){var i={weather:"/{7}/we-latlon-{0},{1}?c={2}&st={3}&cn={4}&iso={5}&type={6}&id={8}",geolocation:"?lat={0}&long={1}&cty={2}&subdiv={3}&cntreg={4}&cc={5}&type={6}&id={8}",weathercity:"/{2},{3},{4}/we-city-{0},{1}?q={7}&form={9}&iso={5}",weatherski:"/{2},{3},{4}/we-ski-{8}-{0},{1}?q={7}&form={9}&iso={5}"},u=function(n,u){var o=u&&u.urltype?u.urltype.toLowerCase():"geolocation",s=i[o]?i[o]:i.geolocation,e=f;o=="weather"&&(s=n.type==2?i.weatherski:i.weathercity,e=r);var c=u.formcode&&u.formcode.length?u.formcode.toUpperCase():"",h="",l=n.state&&n.name!=n.state?n.name+"-"+n.state:n.name;return s&&n.name&&n.lat&&n.lon&&(h=t(s,n.lat,n.lon,e(n.name),e(n.state),e(n.countryRegion),e(n.isoCode),n.type,r(l).toLowerCase().replace(/\&/g,""),n.id!=null?e(n.id):"",c)),h},f=function(n){return n?encodeURIComponent(n.replace(/\./g,"").replace(/\//g,"")):""},r=function(n){return n?encodeURIComponent(n.replace(/\./g,"").replace(/\//g,"").replace(/\&/g,"").replace(/\s+/g,"-")):""};return u});define("queryAutosuggest",["jquery","window","mediator","c.deferred"],function(n,t,i){var e={host:"//www.bing.com/geo/AutoSuggest/v1",appid:"C98EA5B0842DBB9405BBF071E1DA76512D21FE36",mr:5},r=null,o=function(t,u){var f=n.extend({},e,u),o;(r&&r.readystate!=4&&r.abort(),t&&f.appid&&f.host&&f.mr)&&(o={appid:f.appid,mr:f.mr,cb:"populateAutosuggestResponse",q:t},f.lat&&f.lon&&(o.ul="{0},{1},100".format(f.lat,f.lon)),r=n.ajax({url:f.host,cache:"true",async:"false",type:"GET",data:o,dataType:"jsonp",jsonpCallback:"populateAutosuggestResponse",timeout:1e4}).fail(function(n,t,r){t!="parsererror"&&t!="abort"&&i.pub("locSrchError",r)}))},u=function(n,t){var i=t?t:2;return n&&(n=parseFloat(n).toFixed(i)),n||""},f=function(n,t){var i,r,f,e;if(t.type!=1){if(i="ID_"+t.id,n[i])return!1;n[i]=t}return(r=[t.name,t.state,t.countryRegion].join(),n[r])?!1:(n[r]=t,f=[u(t.lat),u(t.lon)].join(),n[f])?!1:(n[f]=t,e=[t.name,u(t.lat,1),u(t.lon,1)].join(),n[e])?!1:(n[e]=t,!0)};return t.populateAutosuggestResponse=t.populateAutosuggestResponse||function(n){var h=[],c={},o,t,r,e,s,u;if(n&&n["@graph"]&&(o=n["@graph"],t={},o&&o.length>0))for(s=0;s<o.length;s++)if(u=o[s],u)switch(u["b:stype"]){case"Island":case"PopulatedPlace":case"Postcode1":t={};r=u["s:address"]||{};t.name=r["s:addressLocality"]||r["s:name"]||"";t.state=r["s:addressRegion"]||"";t.countryRegion=r["s:addressCountry"]||"";t.isoCode=r["b:countryIso"]||"";e=u["s:geo"]||{};t.lat=e["s:latitude"]||"";t.lon=e["s:longitude"]||"";t.id=null;t.type=1;f(c,t)&&h.push(t);break;case"SkiArea":t={};r=u["s:address"]||{};t.name=r["s:name"]||"";t.state=r["s:addressLocality"]||"";t.countryRegion=r["s:addressCountry"]||"";t.isoCode=r["b:countryIso"]||"";e=u["s:geo"]||{};t.lat=e["s:latitude"]||"";t.lon=e["s:longitude"]||"";t.id=u["b:entityKey"]||null;t.type=2;f(c,t)&&h.push(t)}i.pub("locSrchUpdate",{result:h,mode:"as",status:"success"})},o});define("weaLocationAutosuggest",["jquery","jqBehavior","queryAutosuggest","autosuggestDestinationUrl","mediator","keyCode","format","navigation","window","track","c.deferred"],function(n,t,i,r,u,f,e,o,s,h){function l(t,l){function ot(n){n.data("init")||(tt=n,n.data("init",!0),v=n.closest("form"),v.append(a))}function lt(n){switch(n.keyCode){case f.Arrow.Down:case f.Arrow.Up:break;default:st.call(this,n)}}function at(t){var i,r,u;switch(t.keyCode){case f.Arrow.Down:t.preventDefault();b&&(d?(i=n("li.selected",a).removeClass("selected"),r=i.next(),r[0]?r.addClass("selected"):n("li",a).first().addClass("selected")):ut());break;case f.Arrow.Up:t.preventDefault();b&&(d?(i=n("li.selected",a).removeClass("selected"),u=i.prev(),u[0]?u.addClass("selected"):n("li",a).last().addClass("selected")):ut());break;case f.Space:case f.Enter:ht(t,n(this));break;case f.Esc:d&&(t.preventDefault(),g())}}function vt(){var t=n(this);it=!0;b>0&&(t.select(),ut());u.sub("locSrchUpdate",ct);u.sub("locSrchError",nt)}function yt(){it=!1;d&&g();u.unsub("locSrchUpdate",ct);u.unsub("locSrchError",nt)}function st(){var r,t;rt||(r=n(this),ot(r),t=n.trim(r.val()),t?t!=w&&(w=t,i(t,y)):k());rt=!1}function pt(){n(this).val("");k()}function ht(t,i){var b=n(".selected",a),e,r,l,d,p,tt,it,c;b.length?(e=b.text(),w=e,r=y.baseurl+b.data("link"),l=y.method&&y.method.length?y.method.toLowerCase():"get",l=="custom"?(rt=!0,i.val(e),w=null,k(),u.pub("myLocationSelected",{name:e,url:r,source:"as",event:t})):l=="refresh"&&y.selector?(d=o.getParamsFromUrl(location.href),p=o.getParamsFromUrl(r),p=n.extend(!0,{},d,p),rt=!0,i.val(e),w=null,k(),require(["refreshModules"],function(n){var t=n(y.selector,p);t.done(function(){u.pub("myLocationSelected",{name:e,url:r,source:"as"})})})):l=="ajax"&&y.selector?(v.hide(),tt=o.getParamsFromUrl(r+"&pfr=1"),r=r.split("?")[0],et({url:r,data:tt,method:"get",contentType:"application/json",refreshElement:y.refreshElement}).done(function(t){if(w=null,k(),t.status=="fail")nt();else{i.val(e);var r=n(y.selector);r.length&&t.length&&r.replaceWith(t)}}).fail(function(){w=null;k();nt()})):(i.val(e),location.href=r),t.preventDefault(),g()):t.keyCode!=f.Space&&(w=i.val(),it="",v.length&&(c=v[0].action,c&&(it=c&&c.indexOf("://")>=0?c:s.location.host+c)),h.trackEvent({type:"click",target:v},"","","srchbtn"),t.stopPropagation(),t.preventDefault(),v.submit(),g())}function k(){a.empty();n(".nolocerr,.errmsg",v).hide();b=0}function wt(n){b&&it||n?ut():g()}function g(){a&&(a.hide(),n("li.selected",a).removeClass("selected"),d=!1)}function ut(){a&&(a.show(),d=!0)}function bt(t,i){return n("<li>").text(t).data("link",i).on("mousedown click",function(t){var i=n(this),r;i.hasClass("selected")||(r=v.find(p),n("li.selected",a).removeClass("selected"),i.addClass("selected"),h.trackEvent({type:"click",target:v},"","","autosuggest"),ht(t,r))})}function kt(t,i){var u,f;if(t&&(u=n(t),u.length))return f=n("<ul id='locList'><\/ul>"),a.append(f),b=u.length,u.each(function(n){if(u[n].name){var t=u[n].name,i=u[n].state&&t!=u[n].state?", "+u[n].state:"",e=u[n].countryRegion&&u[n].state!=u[n].countryRegion?", "+u[n].countryRegion:"";f.append(bt(t+i+e,r(u[n],y)))}}),!0;if(i!="as")n(".nolocerr",v).each(function(){var t=n(this);t.text(e(t.data("message"),w)).show()});else if(ft)return n("<div/>").text(ft).appendTo(a),!1;return b=0,!0}function ct(n){if(it){k();var t=!0;n.status=="success"?t=kt(n.result,n.mode):nt();wt(!t)}}function nt(){tt.trigger("clear");v.show();n(".errmsg",v).show()}var p="input[name=q]",tt=n(p,t),ft=tt.data("seemoretext"),y=n.extend({},c,l,tt.data("auto-suggest-settings")),w,a=n("<div class='locResult' />"),v,b,d,it,rt=!1,et=n.ajax;return require(["ajaxWithAnimation"],function(n){et=n}),{setup:function(){t.on("keydown.autosuggest",p,at).on("keyup.autosuggest",p,lt).on("change.autosuggest",p,st).on("focus.autosuggest",p,vt).on("blur.autosuggest",p,yt).on("clear.autosuggest",p,pt);ot(n(p,t))},teardown:function(){t.off(".autosuggest",p);a&&a.empty()}}}var c={mode:"AS",method:"get",baseurl:"/en-us/weather/today",refreshElement:"#placesmodule",formcode:""};return t(l,c)});define("searchLocation",["jquery","jqBehavior","mediator"],function(n,t,i){function r(t){function r(i,r){var e=i.data("url"),f;r&&r.coords&&(e+="?lat="+r.coords.latitude+"&long="+r.coords.longitude);f=n("input[name=q]",t);f.val("");f.focus();u(e);f.focus()}function u(t){n.ajax({method:"get",url:t,contentType:"application/json"}).done(function(n){i.pub("locSrchUpdate",n)}).fail(function(n,t,r){i.pub("locSrchError",r)})}t.on("click","div.weaaddlocation .gps",function(t){var i=n(this);navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){r(i,n)},function(){r(i)}):r(n(this));t.stopPropagation();t.preventDefault()});t.on("submit","div.weaaddlocation form",function(i){var r=n("input[name=q]",t),f=r.val(),e;r.focus();f&&f.length&&(e=n(this).data("action")+"?q="+encodeURIComponent(f),u(e));r.focus();i.stopPropagation();i.preventDefault()})}return t(r)});define("detectGpsLocation",["jquery","jqBehavior","format","c.deferred"],function(n,t,i){var r=function(t,r){function f(f){f&&f.coords&&f.coords.latitude&&f.coords.longitude?location.href=i("{0}?lat={1}&long={2}",n(r.selector,t).data("url"),f.coords.latitude,f.coords.longitude):u()}function u(){location.href=n(r.selector,t).attr("href")}t.delegate(r.selector,"click",function(n){navigator.geolocation&&(n.preventDefault(),navigator.geolocation.getCurrentPosition(f,u))})};return t(r,{selector:".buttons .gps"})});define("todayWeatherEditPopup",["jquery","jqBehavior","navigation","mediator","refreshModules","binding","document","window"],function(n,t,i,r,u,f,e,o){function k(t){t&&t.keyCode==27&&n(e).trigger("closepopup")}function tt(t,i){v();i(t);g||require(["todaydropdown_moved"],function(){n(h+" input[name=q]").focus()});n(e).on("keydown",k)}function it(t,i){i(t);n(e).off("keydown",k);nt()}function rt(t,i){function o(){t.on(s+".editselection",e,function(i){i.preventDefault();var o=n(this),r=n(h),f=n(u+" .weapopup",t);!r.length&&f.length?(f.detach(),f.appendTo(n("body")),define("todaydropdown_moved",1),r=n(h),r.data("editselector",e),r.data("loc",n(u+" a",t).data("loc"))):(f.length&&f.remove(),r.data("editselector",e),r.data("loc",n(u+" a",t).data("loc")),v());c();t.off(s+".editselection",e);setTimeout(function(){o.trigger("click")},10)})}function c(){var t=n(".weapopup");t&&t.length&&(t[0].behaviorConstructors=null);f("flyout",h).all({outsideEvent:"mousedown touchstart closepopup",triggerEvent:s,eventOrigin:e,toggleTargets:{".weaddn":"show"},openFlyoutDelegate:tt,closeFlyoutDelegate:it})}if(i.weaTodayWeatherSelector){var u=i.weaTodayWeatherSelector,e=u+" .edithome";a.length&&(a+=",");a+=u;require(["c.pdp"],function(){o()});require(["c.sso"],function(){o()});o();r.sub("myLocationChanged",o)}}var s="click",h="body > .weapopup ",g=/(iPad|iPhone|iPod|Android)/g.test(o.navigator.userAgent),y=".wpopctn .donebutton",p=h+".setdegree",a="",c,l,w=function(){var t=n(y);t&&t.removeClass("disabled").removeAttr("disabled")},nt=function(){var t=n(y);t&&t.addClass("disabled").attr("disabled","disabled")},b,v,d;return r.sub("myLocationSelected",w),n(e).delegate(p+" button",s,function(t){t.preventDefault();var i=n(h),r=n("button[name=weaDegreeType]",i);r.removeClass("selected");n(this).addClass("selected");c=n(this).attr("value");w()}),n(e).delegate(p,"submit",function(n){n.preventDefault()}),n(e).delegate(".weather.noclick .stripenav li:first-child a",s,function(n){n.preventDefault();n.stopPropagation()}),n(e).delegate(".weather .noclick .col li:first-child a",s,function(n){n.preventDefault();n.stopPropagation()}),b=function(n){n&&n.event&&n.event.stopPropagation();l=n},v=function(){var t=n(h),i=n(t.data("editselector")),r,u;c=l=null;r=n("input[name=q]",t);r.attr("placeholder",i.data("home")).trigger("clear");u=n("button[name=weaDegreeType]",t);u.removeClass("selected");n("button[value='"+i.data("degreetype")+"']",t).addClass("selected")},n(e).delegate(y,s,function(){d()}),r.sub("myLocationSelected",b),n(e).delegate(".wpopbg, .wpopctn .close",s,function(t){v();n(e).trigger("closepopup");t.preventDefault()}),d=function(){var t,f;n(".weaddn").removeClass("show");(l||c)&&(t=l?l.url+"&sethome=true":n(h).data("loc"),c&&(t+="&weadegreetype="+c),f=t.indexOf("?")!=-1?i.getParamsFromUrl(t):i.getParams(t),u(a,f).done(function(){r.pub("myLocationChanged")}))},t(rt)});require(["jquery","binding","c.dom"],function(n,t){require(["todaydropdown_moved"],function(){t("weaLocationAutosuggest","body>.weapopup").all();t("searchLocation","body>.weapopup").all();t("detectGpsLocation","body>.weapopup .buttons").all()});t("todayWeatherEditPopup","#main").all({weaTodayWeatherSelector:".weatodaytile"})});define("financeHomepageAutoSuggest",["jquery","jqBehavior","keyCode","homepageFinanceIndices","track"],function(n,t,i,r,u){function f(t,f){function st(){var t=n(".selected",e)[0]||n("li",e)[0];t&&p(t)}function ht(t){var i=n("input[type='search']",t.target);i.val()!=null&&i.val().trim().length==0&&t.preventDefault()}function ct(r){var u,f,o;switch(r.keyCode){case i.Arrow.Down:s&&(c?(u=n("li.selected",e).removeClass("selected"),f=u.next(),f[0]?f.addClass("selected"):n("li",e).first().addClass("selected")):(k(),l()));break;case i.Arrow.Up:s&&(c?(u=n("li.selected",e).removeClass("selected"),o=u.prev(),o[0]?o.addClass("selected"):n("li",e).last().addClass("selected")):(k(),l()));break;case i.Enter:p();break;case i.Esc:c&&(r.preventDefault(),a());l();t.blur()}}function lt(){d=!0;y();s>0&&(t.select(),k(),l())}function at(){d=!1;c&&(n(".selected",e).length>0?p():a());l()}function y(){var i=n.trim(t.val());i?i!=rt&&(rt=i,dt(i)):(pt(),wt(),a(),ot(),et(),s=0)}function p(i,r){nt[v]!=undefined&&function(){var o=i;nt[v].done(function(){var s=o||n(".selected",e)[0]||n("li",e)[0],i,h;if(s)if(f.isCallBackProvided)i={},i.instrumentSymbol=n(s).find("a")[0].getAttribute("instrumentSymbol"),i.instrumentType=n(s).find("a")[0].getAttribute("instrumentSymbolType"),i.instrumentTicker=n(s).find("a")[0].getAttribute("instrumentTicker"),i.instrumentFullname=n(s).find("a")[0].getAttribute("instrumentFullname"),i.instrumentMarket=n(s).find("a")[0].getAttribute("instrumentMarket"),i.KeyUsed=r,f.callback(i);else return h=n(s).find("a")[0].href,u.trackEvent({type:"submit",target:t},null,h),window.location.href=h,!1;return a(),!1})}()}function vt(t){var i=t||n(".selected",o)[0];return n(i).href==undefined?!1:(window.location.href=n(i).href,!1)}function dt(t){var e=f.count?f.count:6,i=+new Date,u;v=i;pt();u=n.ajax({url:f.endpoint,dataType:"jsonp",cache:!0,data:{q:t,locale:r.market.replace("-",":"),count:e},jsonpCallback:"cb"+it++});u.fail(function(){i==v&&a()}).done(function(n){n&&i==v&&(wt(),n=n.data,gt(n,t),s=n.length,ti())});nt[i]=u}function gt(i,u){for(var a,l,h=n("<ul><\/ul>"),c=0;c<i.length;c++){var f=i[c],s={label:f.OS001+"."+f.OS01W+"."+f.OS010+"."+f.AC040,displaySymbol:f.OS001,companyName:ni(f,r.market),symbolType:f.OS010,exchangeName:f.AC040,value:f.OS001},o=n("<a><\/a>");o.attr("href",si(f));o.attr("instrumentSymbol",bt(f));o.attr("instrumentTicker",s.displaySymbol);o.attr("instrumentFullname",s.companyName);o.attr("instrumentMarket",f.RT0EC);a=w(f.OS010);o.attr("instrumentSymbolType",a);o.html('<span class="fi-as-sym">'+yt(s.displaySymbol,u)+'<\/span><span class="fi-as-cn">'+yt(s.companyName,u)+'<\/span><span class="fi-as-en">'+s.exchangeName+"<\/span>");l=n("<li><\/li>");l.append(o);h.append(l)}h.width(t.width);e.append(h)}function ni(n,t){var r=n.OS01W,i=n.OS01V,e=t?t.split("-")[0]:null,u,f;return i&&(i=i.toLowerCase(),e!=="en"&&(i===t||i===e)&&(u=n.OS0LN,f=n.RT0SN,r=u?u:f?f:r)),r}function yt(n,t){var i=t.toLowerCase(),r=t.toUpperCase();return t=n.indexOf(i)>=0?i:r,n.replace(t,"<b>"+t+"<\/b>")}function pt(){b&&b.val()&&b.val("")}function wt(){e||ii();e.empty();s=0}function ti(){s?d?(k(),l()):p():(a(),ot(),et())}function a(){e&&(e.hide(),e.addClass("hideautosuggest"),c=!1)}function k(){e&&(e.show(),e.removeClass("hideautosuggest"),c=!0)}function ii(){e=n('<div class="'+ut+'">').on("mousedown",function(t){var i,r;t.preventDefault();i=n(t.target).closest("li");i[0]?(i.hasClass("selected")||(n(".selected",e).removeClass("selected"),i.addClass("selected")),p()):(r=n(t.target).closest("a"),vt(r))});t.before(e)}function ri(t){return n.inArray(t,["ST"])!=-1}function ui(t){return n.inArray(t,["FE","CE"])!=-1}function fi(t){return n.inArray(t,["FO","FC"])!=-1}function tt(t){return n.inArray(t,["XI"])!=-1}function ei(t){return n.inArray(t,["CUR"])!=-1}function oi(t){return n.inArray(t,["COM"])!=-1}function si(n){var i=bt(n),u=w(n.OS010),t=null;return u==="Stock"&&(t=r.stockdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+r.FORMCode),u==="Index"&&(t=r.indexdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+r.FORMCode),u==="Etf"&&(t=r.etfdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+r.FORMCode),u==="Fund"&&(t=r.funddetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+r.FORMCode),u==="Currency"&&(t=r.currencyConverterUrl+"/fi-"+i+"?symbol="+n.OS001+"&form="+r.FORMCode),u==="Commodity"&&(t=r.commoditydetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+r.FORMCode),t}function w(n){var t="";return n&&(t=fi(n)?"Fund":ri(n)?"Stock":ui(n)?"Etf":tt(n)?"Index":ei(n)?"Currency":oi(n)?"Commodity":""),t}function bt(n){var t={},o,s,f;if(n){var i=n.OS010,r=n.OS001,h=n.LS01Z,e=n.RT00E,u="";if(w(i)=="Commodity")return t=n.RT00E+"."+n.RT00T+"."+n.RT00S,kt(t);if(w(i)=="Currency")return n.OS001.substring(0,3)+"-"+n.OS001.substring(3,6)+"-1.0000";if(w(i)=="Fund")return n.SecId;tt(i)?(o="10",u=o):(s="1",u=n.RT00T||s);f=n.RT00S?n.RT00S:r?r:"";tt(i)?t=hi({E1:e,Sym:f,St:u,E2:e,Eqsm:r}):(t=e+"."+u+"."+f+"."+h,r!==f&&(t+="."+r))}return kt(t)}function kt(n){return n==null||typeof n!="string"?"":(n=n.replace(/\//g,"|SLA|"),n=n.replace(/</g,"|LETHA|"),n=n.replace(/>/g,"|GRETHA|"),n=n.replace(/\*/g,"|ASTER|"),n=n.replace(/%/g,"|PERCENT|"),n=n.replace(/:/g,"|SEPA|"),n=n.replace(/&/g,"|AMP|"),n=n.replace("/\\/g","|BKSLA|"),encodeURIComponent(n))}function hi(n){var t="";return n&&(t=n.Eqsm&&n.Sym&&n.Sym!==n.Eqsm?n.E1+"."+n.St+"."+n.Sym+"."+n.E2+"."+n.Eqsm:n.E1+"."+n.St+"."+n.Sym),t}function h(n,t){if(t){var i=n&&n.indexOf("?")!==-1,r=i?"&":"?";n+=r+t}return n}var v,it,rt,e,s,c,d,b,ut,o;f.autoSuggestSettings&&(f=f.autoSuggestSettings);it=1;ut=f.cssclass||"autosuggest";f.endpoint=f.endpoint||"//finance.services.appex.bing.com/Market.svc/MTAutocomplete";var g=f.recentQuotesRequired||!1,ft=!1,nt=[];n(function(){t.data("holder",t.attr("placeholder"));var n;t.focusin(function(){t.attr("placeholder","");n&&n.length?t.val(n):t.val("")});t.focusout(function(){n=t.val();t.attr("placeholder",t.data("holder"))})});o=n('<div class="recent-quotes autosuggest"><\/div>').on("mousedown",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var i=n(t.target).closest("a");vt(i)});t.before(o);var l=g===!0?function(){o&&(o.hide(),o.addClass("hideautosuggest"),ft=!1)}:function(){},et=g===!0?function(){o&&(o.show(),o.removeClass("hideautosuggest"),ft=!0)}:function(){},ot=g==!0?function(){var i=r.recentquotesurl,t=f.showPopularSearchWhenNoRecentQuotes?h(i,"showpopularsearch=true"):i;t=f.flightStocksInNews?h(t,"flightstocksinnews=true"):t;t=f.backfillRecentQuotesWithPopularSearch?h(t,"backfillwithpopularsearch=true"):t;t=h(t,"showtrendingstocks=true");t=h(t,"form=RecentQuoteFormCode");t=h(t,"recentquoteformcode="+r.RecentQuotesFormCode);t=h(t,"popularsearchesformcode="+r.PopularSearchesFormCode);n.ajax(t).done(function(n){o.empty();o.html(n)}).fail(function(){})}:function(){};if(f.endpoint)return f.codefield&&(b=n("#"+f.codefield)),{setup:function(){t.on("keydown",ct).on("keyup",y).on("change",y).on("focus",lt).on("blur",at);t.siblings("span").on("click",st);t.closest("form").on("submit",ht)},teardown:function(){t.off("keydown",ct).off("keyup",y).off("change",y).off("focus",lt).off("blur",at);t.closest("form").off("submit",ht);t.siblings("button").off("click",st);e&&(e.remove(),e=null)}}}return t(f)});define("keyCode",function(){return{Back:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Break:19,CapsLock:20,Esc:27,Space:32,Page:{Up:33,Down:34},End:35,Home:36,Arrow:{Left:37,Up:38,Right:39,Down:40},Print:44,Insert:45,Delete:46,Colon2:59,Equals2:61,Equals3:107,Minus2:109,Period:190,Windows:{Left:91,Right:92,Opera:219},Menu:93,NumPad:{0:96,1:97,2:98,3:99,4:100,5:101,6:102,7:103,8:104,9:105,Multiply:106,Plus:107,Minus:109,Dot:110,Divide:111},Function:{1:112,2:113,3:114,4:115,5:116,6:117,7:118,8:119,9:120,10:121,11:122,12:123},Lock:{Caps:20,Num:144,Scroll:145},Colon:186,Equals:187,Comma:188,Minus:189,Slash:{Forward:191,Back:220},Tilde:192,Bracket:{Open:219,Close:221},Quote:222}});require(["binding","c.deferred"],function(n){n("financeHomepageAutoSuggest","#finance-autosuggest").all({recentQuotesRequired:!0,showPopularSearchWhenNoRecentQuotes:!0,flightStocksInNews:!0,backfillRecentQuotesWithPopularSearch:!1})});define("populateModelDropdown",["jquery","jqBehavior","track"],function(n,t,i){function r(t,r){function o(n,t,i){if(n)for(var r=0;r<t[0].options.length;r++)if(t[0].options[r].value.toLowerCase()===n.toLowerCase()){t[0].selectedIndex=r;typeof i=="function"&&i(t,t[0].options[r].value);break}}var s="/"+n("html")[0].lang.toLowerCase()+"/autos",h=s+r.modelLookupEndpoint,f=n(t),e=n(r.modelDropDown),l=n(r.hiddenDealerMake),u=e.is("select")?e:e.find("select"),c=r.hasOwnProperty("AllModelOption")?r.AllModelOption:!1;f.on("change",function(t,e){var l=f.val().replace("sponsored-",""),a=u.val(),v=u[0].selectedIndex,s=r.modelLookupArgs;r.isCheckNewUsed&&(s.newOnly=f.data("target")==="new");s[r.makeParamKey]=l;e||i.trackEvent({type:"click_nonnav",target:this.options[this.selectedIndex]});n.get(h,s,function(t){u.empty();c&&u.append('<option value="all-models">All Models<\/option>');for(var i in t)t.hasOwnProperty(i)&&u.append("<option value='"+t[i]+"'>"+i+"<\/option>");r.currentModel?o(r.currentModel,u):v!==0&&o(a,u);n(r.hiddenDealerMake).val(l).change()}).fail(function(){})});u.on("change",function(){i.trackEvent({type:"click_nonnav",target:this.options[this.selectedIndex]})})}return t(r)});define("findACar",["jquery","jqBehavior","track","location"],function(n,t,i,r){function u(t){function h(n){var i=f.val(),r=u.val(),o=u[0].selectedIndex,e=i!=="new",t;u.empty();u.append(p);u.data("target",i);for(t in s)(e||s[t][y])&&u.append('<option value="'+t+'">'+s[t][v]+"<\/option>");u.val(r).val()||(u[0].selectedIndex=0);n&&u.trigger("change",[!0])}function b(t){var s,o,y;t.preventDefault();var p=f.val(),h=u.val().replace("sponsored-",""),v=e.val();if(!h){s=n("#findacar a").attr("href");i.trackEvent({type:"submit",target:this},null,r.protocol+"//"+r.hostname+s,{make:null,model:null},"research-car-module");r.href=s;return}o=p==="new"?c:l;o=o==="years"?"years":"latest/overview";y=[h,v,o];v==="all-models"&&(o="overview",y=[h,o]);var w=r.href.split("/"),b=w.pop(),k=b===null?w.pop().split("#"):b.split("#"),d={age:p,make:h,model:v,pageName:k[0]},s=a+y.join("/");i.trackEvent({type:"submit",target:this},null,r.protocol+"//"+r.hostname+s,JSON.stringify(d),"research-car-module");r.href=s}function k(){u[0].selectedIndex=0;f[0].selectedIndex=0;h(!1);e.empty();e.append(w);e[0].selectedIndex=0}var f=n("#findacar-age"),u=n("#findacar-makes"),e=n("#findacar-models"),o=t.find("input"),c=o.data("newdestination"),l=o.data("useddestination"),a="/"+n("html")[0].lang.toLowerCase()+"/autos/",s=t.data("makes"),v="a",y="b",p=u[0].options[0],w=e[0].options[0];f.on("change.newused",function(){i.trackEvent({type:"click_nonnav",target:this},null,null,f.val());h(!0)});o.on("click",b);k()}return t(u)});require(["binding","c.deferred"],function(n){n("populateModelDropdown","#findacar-makes").all({modelDropDown:"#findacar-models",isCheckNewUsed:!0,modelLookupEndpoint:"/CarLookupModelListPartial",makeParamKey:"dealerMake",modelLookupArgs:{},AllModelOption:!0});n("findACar","#findacar").all()});define("slideShowNavigation.tokens",{arrowLeftText:"Previous Slide",arrowRightText:"Next Slide",arrowRightNextGalleryText:"Next Gallery",playPauseText:"Pause/Rotate"});define("galleryUtilsCore",function(){function n(n,t){var i="";return n!=null&&(t!=null&&(i+=t+"|"),i+=n+1),i&&(i="#image="+i),i}function i(){var n=t.exec(location.hash)||[],r=n[2],i=n[3],u=i?i-1:!1;return{galleryId:r,imageIndex:u}}function r(t,i){var r=n(t,i),u=!!history.replaceState;u?history.replaceState(null,"Gallery",r):location.hash=r.replace("#","")}var t=/\bimage=(([a-z0-9]+)\|)?(\d+)/i;return{getImageInfoFromHash:i,getHashFromImageInfo:n,setHashFromImageInfo:r}});define("slideShowNavigation",["jquery","jqBehavior","mediator","slideShowNavUtils","safeCss","track","tabKeyPressed","pageTime","window","slideShowNavigation.tokens","requestAnimationFrame","dir.tokens","scaledView","galleryUtilsCore","visibility","elementTrackingDecorator","perfMarker"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function et(t,o){function bi(n,t){n&&f.trackEvent({type:"click",target:n},"","",t);var i=s.location.href.toLowerCase().indexOf("fullscreen=true");document.location=i>=0?di(ht):ht}function fr(){var t;return ht&&(t=n(tt).click(ki)),t}function ki(n){var t=this,i,r;n&&(t=n.target);f.trackEvent({type:"click",target:t},"","","rightarrow-recircle");i=s.location.href.toLowerCase();r=i.indexOf("fullscreen=true");r>=0&&(ht=di(ht));document.location=ht}function di(n){var i="?",t;return typeof n!="string"?n:(t=n.toLowerCase().indexOf("fullscreen=true"),t>=0)?n:(t=n.indexOf(i),t>=0&&(i="&"),n+i+"fullscreen=true")}function gi(i){var r=t.parents(".gallery-container:first"),h,c;r=r.length>0?r:n("body");var f=parseInt(r.find(".show .count").html()),l=isNaN(f)?1:f,u=s.location.href,e=u.toLowerCase().indexOf("#");return e>=0&&(u=s.location.href.substring(0,e)),h=l+i,c=v.getHashFromImageInfo(h-1,o.inlineGalleryId),u+c}function wt(n){(o.autoRotate=!!n)?vt=setTimeout(ui,ri()):kt()}function bt(){at&&(ei(t).css({padding:""}),h.resize(),ir())}function ri(){return o.autoRotateWait}function ui(){if(o.autoRotate){var n=h.current();(n>=li-1||er(n+1))&&(oi=!0,i.pubChannel(w.animate,y,1));vt=setTimeout(ui,ri())}}function er(n){var t=!0,i=dt.eq(n);return i.hasClass("hasimage")&&(t=!i.find("img[data-src]").is(".loading")),t}function nr(){o.autoRotate&&e()&&kt()}function kt(){o.autoRotate=!1;clearTimeout(vt)}function tr(n){n?clearTimeout(vt):o.autoRotate&&(vt=setTimeout(ui,ri()))}function ir(){var n=(d.height()-et.height())/2;ct.css("top",n+"px");et.css("top",n+"px");st&&st.css("top",n+"px")}function fi(){var n=h.hasNext(),t=h.hasPrevious();if(!o.carousel&&!o.isThumbnail){or(n,t);return}ii&&t?ni||(ct.removeClass(b),ni=!0):ni&&(ct.addClass(b),ni=!1);ii&&n?ti||(et.removeClass(b),ti=!0):ti&&(et.addClass(b),ti=!1);si&&clearTimeout(si)}function or(n,t){n?(et.removeClass(b),st&&!st.hasClass(b)&&st.addClass(b)):(et.addClass(b),st&&st.removeClass(b));t?ct.removeClass(b):ct.addClass(b)}function rr(n){pt(-1,n)}function ur(n){pt(1,n)}function pt(n,t){var u,r,e;n===1&&h.hasNext()||n===-1&&h.hasPrevious()?(u=location.href,o.isThumbnail||(r=this,t&&(t.preventDefault(),t.stopImmediatePropagation(),r=t.target),e=o.carousel?"":gi(n),f.trackEvent({type:vi,target:r},null,e),o.carousel?(f.sendPageViewCandidate(),f.sendSinglePageViewBeacon("scorecard")):(f.trackEvent({type:"unload",noSpin:1},s),i.pubChannel(w.afterUpdate,y,n))),h.animate(n),lt.trackNewImpression(u)):n===1&&!h.hasNext()&&ht&&ki(t)}var ei=u.createGroup(),dt=t.children(),ci=n("a",dt),d=t.parent(),li=dt.length,ai,gt=!o.autoRotate,wi,ni,ti,ii,si,yt,hi,lt,h;setTimeout(function(){gt=!o.autoRotate},0);var vi=o.carousel?"click_nonnav":"click",yi=!o.carousel&&!o.isThumbnail,ht,pi=ot(o.wrapAround,o.carousel,!1),at=li>1;if(at){var y=it++,oi,vt,ct=n(rt).click(function(n){pt(-1,n)}).on(k,function(){e()&&lt.showArrows()}).on(nt,function(){e()&&lt.hideArrows()}),et=n(ut).click(function(n){pt(1,n)}).on(k,function(){e()&&lt.showArrows()}).on(nt,function(){e()&&lt.hideArrows()}),st;o.isThumbnail||o.carousel||(wi=t.find("li.relatedgallery"),ht=wi.find("ul").first().attr("data-url"),ht?st=n(tt).click(function(){bi(this,"rightarrow-recircle")}):(ht=d.find("ul").first().attr("data-next-url"),st=fr(ht)));o.isThumbnail?d&&(yt=d.parent(),yt&&yt.length&&(yt.append(ct).append(et),p.setTrackingForSingleElement(ct,yt,{defaults:{n:"previousSlideArrow"}}),p.setTrackingForSingleElement(et,yt,{defaults:{n:"nextSlideArrow"}}))):(d.append(ct).append(et),p.setTrackingForSingleElement(ct,d,{defaults:{n:"previousSlideArrow"}}),p.setTrackingForSingleElement(et,d,{defaults:{n:"nextSlideArrow"}}),st&&(d.append(st),p.setTrackingForSingleElement(st,d,{defaults:{n:"nextGalleryArrow"}})));o.autoRotate&&(hi=n(ft),hi.click(function(){wt(!o.autoRotate)}).appendTo(d),p.setTrackingForSingleElement(hi,d,{defaults:{n:"playPauseToggle"}}));t.data(g,y);ai=!0}else t.removeClass("loading");return lt={slides:function(n,t){var h=location.href,r,u,e;t&&(r=t.touch_gesture,t.touch_gesture="swipe",u=o.carousel||o.isThumbnail?"":gi(n),e=o.isThumbnail?"click_nonnav":vi,f.trackEvent({type:e,target:t,noSpin:1},null,u),t.touch_gesture=r,yi&&(f.trackEvent({type:"unload",noSpin:1},s),i.pubChannel(w.afterUpdate,y,n)),o.carousel&&(f.sendPageViewCandidate(),f.sendSinglePageViewBeacon("scorecard")));i.pubChannel(w.update,y,n);o.carousel||pi||fi();t&&lt.trackNewImpression(h);oi||kt();oi=!1;gt=!1},hideArrows:function(){gt||o.alwaysShowArrows||(ii=!1,c(fi))},showArrows:function(){ii=!0;c(fi)},trackNewImpression:function(n){yi&&(document.referrerOverride=n,f.trackPage(),i.pubChannel(w.thirdParty,y))},nextSlideShow:bi},h=r(at,o.carousel,o.isThumbnail,pi,o.swipeToNextGallery,t,dt,d,ei,lt),h.addHoverElements&&o.addHoverSelector&&h.addHoverElements(n(o.addHoverSelector)),at&&fi(),{setup:function(){if(!ai)return!1;if(at){if(t.addClass("loaded"),ct.show(),et.show(),o.isThumbnail||ir(),lt.showArrows(),gt||(si=setTimeout(lt.hideArrows,o.showArrowTime)),i.subChannel(w.realign,y,bt),i.subChannel(w.animate,y,h.animate),i.subChannel(w.change,y,h.change),i.subChannel("autoRotate",y,wt),i.subChannel(w.next,y,ur),i.subChannel(w.previous,y,rr),a.addListener(bt),o.autoRotate){vt=setTimeout(ui,ri());d.one("mousedown",kt);ci.one(k,nr)}if(i.sub("fullscreen",tr),i.sub("allAutoRotate",wt),o.carousel)d.on("keydown",function(n){return n.which==37?(h.animate(l.ltr?-1:1),!1):n.which==39?(h.animate(l.ltr?1:-1),!1):void 0});else d.on("keydown",function(n){return n.which==37?(pt(l.ltr?-1:1,n),!1):n.which==39?(pt(l.ltr?1:-1,n),!1):void 0})}return h.setup(),!0},teardown:function(){t.removeClass("loaded");ei.reset();at&&(d.off("keydown"),lt.hideArrows(),ct.hide(),et.hide(),i.unsubChannel(w.realign,y,bt),i.unsubChannel(w.animate,y,h.animate),i.unsubChannel(w.change,y,h.change),i.unsubChannel(w.next,y,ur),i.unsubChannel(w.previous,y,rr),i.unsubChannel("autoRotate",y,wt),a.removeListener(bt),d.off("mousedown",kt),ci.off(k,nr),i.unsub("fullscreen",tr),i.unsub("allAutoRotate",wt));h.teardown()},update:bt}}function ot(){for(var t=arguments.length,n=0;n<t;n++)if(typeof arguments[n]!="undefined")return arguments[n];return null}var w={animate:"slideShowNavAnimate",change:"slideShowNavChange",update:"slideShowNavUpdate",next:"slideShowNavNext",previous:"slideShowNavPrevious",afterUpdate:"slideShowNavAfterUpdate",thirdParty:"slideShowNavThirdParty",realign:"slideShowNavRealign",exitFullScreen:"exitFullScreen"},g="slideShowNavId",it=1,k="focus",nt="blur",rt='<button class="leftarrow fade" title="'+h.arrowLeftText+'">'+h.arrowLeftText+"<\/button>",ut='<button class="rightarrow fade" title="'+h.arrowRightText+'">'+h.arrowRightText+"<\/button>",tt='<button class="rightarrow fade" title="'+h.arrowRightNextGalleryText+'">'+h.arrowRightNextGalleryText+"<\/button>",ft='<button class="playpause hide" title="'+h.playPauseText+'">'+h.playPauseText+"<\/button>",b="fade",d=t(et,{carousel:!0,autoRotate:!1,autoRotateWait:5e3,alwaysShowArrows:!1,showArrowTime:3500,isThumbnail:!1,swipeToNextGallery:!1});return d.event=w,d.id=g,d});define("infopaneNavVNext",["jquery","jqBehavior","slideShowNavigation","mediator","format","tabKeyPressed","document"],function(n,t,i,r,u,f,e){function l(t,l){function tt(n){var t=(a+n)%k;t<0&&(t+=k);v.eq(a).removeClass(l.selectedClass);b.eq(a).removeClass(l.selectedClass);v.eq(t).addClass(l.selectedClass);b.eq(t).addClass(l.selectedClass);a=t}function it(i){p=0;i.keyCode==s&&(d=n(i.target).closest(t).length,p+=o);i.shiftKey&&(p+=c)}function rt(){f()&&(w?w=!1:d?p==o&&ut()?r.pubChannel(i.event.change,l.slideShowNavigationId,1):p==h&&ut()&&r.pubChannel(i.event.change,l.slideShowNavigationId,-1):(w=!0,v.eq(a).find("a").first().focus()))}function ut(){return!v.eq(a).find(e.activeElement).length}function ft(){var i,r;for(y=n(u('<div class="slidecount {0}"/>',l.accentColor)),i=0;i<v.length;i++)r=i?"":' class="'+l.selectedClass+'"',y.append(u("<span{0}/>",r));b=y.children();t.after(y)}var a=0,v=t.children(),k=v.length,y,w=!1,d=!1,b,p=0,g=n(e),nt=t.find("a");return{setup:function(){r.subChannel(i.event.update,l.slideShowNavigationId,tt);y||ft();g.on("keydown",it);nt.on("focusin",rt)},teardown:function(){r.unsubChannel(i.event.update,l.slideShowNavigationId,tt);g.off("keydown",it);nt.off("focusin",rt)}}}var s=9,h=3,c=2,o=1;return t(l,{selectedClass:"selected",accentColor:"pink"})});define("infopaneVNext",["jquery","jqBehavior","safeCss","slideShowNavigation","infopaneNavVNext","mediator","imgSrc"],function(n,t,i,r,u,f,e){function o(t,o){function it(){var t=l.children(),i=new Array(t.length);return t.each(function(t){i[t]=n("img",this)}),i}function b(n){var t=(c+n)%w;return t<0&&(t+=w),t}function k(n){var i,t;for(c=b(n),i=n<0?-1:1,t=0;t<=2;++t)p[b(t*i)].each(function(){e.go(this)})}function d(){a.each(function(t,i){n(i).toggleClass("selected",t===c)});g()}function g(){var n=y.eq(c).find("a").removeAttr("tabindex").end();y.not(n).find("a").attr("tabindex",-1)}function nt(t){var u=n(t.target).data("tab-id"),i=u-c;i!=0&&f.pubChannel(r.event.animate,h,i)}if(o.tabbedInfopane){var a=t.find(".ip-tab-title"),y=t.find(".pane");n.extend(o,{alwaysShowArrows:!1,autoRotate:!1,showArrows:!1,showDotPaginition:!1})}var tt=i.createGroup(),l=n("ul.swipenav",t),v=r(l,null,o),h=l.data(r.id),p=it(),w=p.length,c=0,s=!1;return!o.tabbedInfopane&&o.showDotPaginition&&(s=u(l,0,n.extend({slideShowNavigationId:h},o))),{setup:function(){if(!v.setup())return t.addClass("invalid"),!1;if(f.subChannel(r.event.update,h,k),s&&s.setup(),o.tabbedInfopane){g();f.subChannel(r.event.update,h,d);a.on("click",nt)}return!0},teardown:function(){tt.reset();v.teardown();s&&s.teardown();f.unsubChannel(r.event.update,h,k);o.tabbedInfopane&&(f.unsubChannel(r.event.update,h,d),a.off("click",nt))},update:function(){v.update();s&&s.update()}}}return t(o,{autoRotate:!0,showDotPaginition:!0,tabbedInfopane:!1})});canary="c.deferred";require(["binding","infopaneVNext",canary],function(n){n("infopaneVNext",".ip").all();n("infopaneVNext",".sip").all({alwaysShowArrows:!0})});define("slideShowNavUtils",["jqueryPlus","touchDataManager","carouselManager","mediator","modernizr","touchGestures","dir.tokens","requestAnimationFrame"],function(n,t,i,r,u,f,e,o){var s=u.translateXCss,h=e.ltr?1:-1,c=e.ltr?1:-1;return function(u,l,a,v,y,p,w,b,k,d){function bt(n){(yt=n)?(k(w).css("left",""),ii()):a||(k(w).css({top:"",width:""}),k(p).css("width",""))}function ii(){a||(k(p).css("width",100*w.length+"%"),k(w).css("width",100/w.length+"%"))}function ri(n){if(u)n.on("gesture",{direction:"horizontal"},ui)}function ui(n){if(st&&n.direction)switch(n.current.touchType){case f.types.move:ht?ut.input(n.current.coord.x):(ut.reset(n.current.coord.x),kt(),ti=ct(),ht=!0);rt(p,ti+ut.getDelta()|0);break;case f.types.swipeUp:case f.types.swipeDown:case f.types.throwUp:case f.types.throwDown:case f.types.cancel:case f.types.stop:ht=!1;ci(n.target);break;case f.types.swipeRight:case f.types.swipeLeft:case f.types.throwRight:case f.types.throwLeft:ht=!1;var t=n.current.touchType==f.types.swipeRight||n.current.touchType==f.types.throwRight,i=n.current.touchType==f.types.throwLeft||n.current.touchType==f.types.throwRight,r=i?fi():0;gt(r+(t?-h:h),n.target)}}function kt(){ot&&(p.stop(),ot=!1)}function si(n){et||o(function(){et();et=null});et=n}function dt(n){return lt(n)+c*(b.width()-n.width())/2}function hi(n){if(n||!a){var i,t=g.getItem(0);i=a?lt(t):dt(t);typeof n!="undefined"?si(function(){ut.ensureJQueryEase();ot=!0;var n={};n[s]=i;p.stop().animate(n,{duration:ut.getDuration(),easing:"cubicBezierQuint",step:function(n){var i=dt(t),r=ct();return(i|0)!=(n.endValue|0)&&(n.startValue=r-t.width(),n.endValue=i),n},complete:function(){ot=!1;(ct()|0)!=(dt(t)|0)&&ft()}})}):p.css(s)!==i&&rt(p,i)}}function ci(n){gt(fi(),n)}function fi(){for(var u,t,i=0,r=Infinity,f=ct(),n=-wt;n<=ni;n++)u=lt(g.getItem(n)),t=Math.abs(u-f),t<r&&(r=t,i=n);return i}function ct(){return rt(p)}function rt(n,t){return isNaN(n.leftRelSlider)&&(n.leftRelSlider=0),t==undefined?t=parseFloat(n.css(s)):k(n).css(s,t-n.leftRelSlider),t+n.leftRelSlider}function gt(n,t){var i,r,u;if(l||v)nt=(nt+n+it)%it;else{if(i=nt+n,i<0)i=0;else if(i>=it){if(y){t&&(t.touch_gesture="swipe");d.nextSlideShow(t,"swipe-recircle");return}i=it-1}i!=nt+n&&(n=i-nt);nt=i}(g.changeIndex(n),r=lt(g.getItem(0)),u=rt(p),r!=u)&&(ft(n),d.slides(n,t))}function lt(n){return l?(b.width()-n.outerWidth(!0))/2-rt(n)-.5|0:-n.leftRelSlider}function ei(){ft()}function ft(n){var u,r,f,t,i;if(st){for(u=n&&rt(g.getItem(-n)),kt(),r=g.getItem(-wt).outerWidth(!0)/2,f=at(w.eq(0)),t=-wt;t<=ni;t++)i=g.getItem(t),i.leftRelSlider=at(i)-f,r+=i.outerWidth(!0);yt||a||k(p).css("width",r);hi(n,l&&n&&rt(g.getItem(-n))-u)}}function at(n){return n.offset().left+(e.ltr?0:n.outerWidth(!0))}var tt=b,it=w.length,g=new i,nt=0,vt=n("body"),yt=(vt.hasClass("gfp")||vt.hasClass("afp"))&&vt.hasClass("fullscreen"),pt=f.settings.touchSupported,et,wt=Math.floor((it-1)/2),ni=Math.floor(it/2),oi,ot,st,ut=new t,ht,ti;return y=y&&!l&&!a&&!v,pt&&ri(tt),setTimeout(function(){yt&&ii();r.sub("fullscreen",bt)},100),{setup:function(){for(var i,f=[],e=at(w.eq(0)),t=0;t<it;++t)i=w.eq(t),i.leftRelSlider=at(i)-e,f[t]=i;g.load(f);tt.on("mouseover",d.showArrows);tt.on("mouseout",d.hideArrows);if(!l)n("img",b).on("load",ei);r.sub("fullscreen",bt);u&&(st=!0,oi=0,ft())},teardown:function(){st=!1;pt&&(kt(),rt(p,0));tt.off("mouseover",d.showArrows);tt.off("mouseout",d.hideArrows);tt.off("gesture",{direction:"horizontal"},ui);l||n("img",b).off("load",ei);r.unsub("fullscreen",bt)},animate:gt,change:function(n){g.changeIndex(n);nt+=n;d.slides(n)},resize:ft,current:function(){return nt},hasNext:function(){return l||v||nt<it-1},hasPrevious:function(){return l||v||nt>0},addHoverElements:function(n){pt&&ri(n);tt=tt.add(n)}}}})
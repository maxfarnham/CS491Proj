YUI.add("z-event-handle-manager",function(c){var a="EventHandleManager";function b(){this._managedHandleGroups={};
}b.UNGROUPED="ungrouped";b.prototype={addHandle:function(e,d){d=d||c.Z.EventHandleManager.UNGROUPED;this._managedHandleGroups[d]=this._managedHandleGroups[d]||[];
this._managedHandleGroups[d].push(e);},removeHandles:function(d){c.log("Detaching "+this.handleCount()+" event handles for "+this.name,"info",a);
var e;if(typeof d!=="undefined"){e=this._managedHandleGroups[d];if(e){this._removeHandleGroup(e);this._managedHandleGroups[d]=[];
}}else{c.Object.each(this._managedHandleGroups,this._removeHandleGroup,this);this._managedHandleGroups={};
}},removeHandleGroup:function(d){this.removeHandles(d);},_removeHandleGroup:function(d){(new c.EventHandle(d)).detach();
},handleCount:function(d){var f,e=0;if(typeof d==="undefined"){c.Object.each(this._managedHandleGroups,function(g){e+=g.length;
});}else{f=this._managedHandleGroups[d];e=f?f.length:0;}return e;}};c.namespace("Z").EventHandleManager=b;
},"3.6.0",{requires:["base-base"]});
YUI.add("z-managed-base",function(e){var c={},a="ManagedBase",b="info";function f(h,g,i){e.Array.each(h,function(j){if(j[g]&&e.Lang.isFunction(j[g])){j[g].call(j);
j._frozen=i;}});}e.publish("managed:teardown",{emitFacade:true,broadcast:1,defaultFn:function(h){e.log("managed:teardown "+h.requestId,b,a);
var g=c[h.requestId];f(g,"destroy");delete c[h.requestId];}});e.publish("managed:freeze",{emitFacade:true,broadcast:1,defaultFn:function(h){e.log("managed:freeze "+h.requestId,b,a);
var g=c[h.requestId];f(g,"freeze",true);}});e.publish("managed:thaw",{emitFacade:true,broadcast:1,defaultFn:function(h){e.log("managed:thaw "+h.requestId,b,a);
var g=c[h.requestId];f(g,"thaw",false);}});var d=function(g){var h=e.config.requestId;if(h){this._frozen=false;
this._register(h);}};d.prototype={_register:function(g){var h=this._getRegisteredComponents(g);h.push(this);
},_getRegisteredComponents:function(g){if(!c[g]){c[g]=[];}return c[g];}};e.namespace("Z").ManagedBase=d;
},"3.6.0",{requires:["base-build"]});
YUI.add("zsg-responsive-subnav",function(a){a.namespace("ZSG").ResponsiveSubnav=a.Base.create("responsiveSubnav",a.Base,[a.Z.ManagedBase,a.Z.EventHandleManager],{_subnavWrapper:null,_secondaryNav:null,_tertiaryNav:null,_secondaryNavWrapper:null,_tertiaryNavWrapper:null,_secondaryNavHeight:"0px",_tertiaryNavHeight:"0px",_hellipNode:'<span class="zsg-nav-sub-hellip">&hellip;</span>',_expandoNode:'<a class="zsg-nav-sub-expando"><span class="zsg-icon-expando-up"></span><span class="zsg-icon-expando-down"></span></a>',initializer:function(){this._subnavWrapper=a.one(".zsg-nav-sub-wrapper");
if(this._subnavWrapper&&!this._subnavWrapper.getAttribute("data-disable-responsive")){this._subnavWrapper.addClass("zsg-nav-sub_responsive");
this.renderUI();}else{this.destroy();}a.log("initializer","info",this.constructor.NAME);},destructor:function(){a.log("destructor","info",this.constructor.NAME);
this.freeze();},renderUI:function(){this._secondaryNav=this._subnavWrapper.one(".zsg-nav-secondary");
this._tertiaryNav=this._subnavWrapper.one(".zsg-nav-tertiary");if(this._secondaryNav){this._renderSubnavUI(this._secondaryNav,"_secondaryNavWrapper","zsg-nav-secondary-wrapper","_secondaryNavHeight");
}if(this._tertiaryNav){this._renderSubnavUI(this._tertiaryNav,"_tertiaryNavWrapper","zsg-nav-tertiary-wrapper","_tertiaryNavHeight");
}if(this._secondaryNav||this._tertiaryNav){this._subnavWrapper.one(".zsg-nav-sub").append(this._expandoNode);
this.bindUI();}else{this.destroy();}},bindUI:function(){this.thaw();this.syncUI();},syncUI:function(){var c=this._secondaryNav?this._secondaryOverflowHeight():false,b=this._tertiaryNav?this._tertiaryOverflowHeight():false;
this.set("responsiveActive",c||b);},thaw:function(){if(!this._subnavWrapper){this.initializer();return;
}this.addHandle(a.on("windowresize",this.syncUI,null,this));this.addHandle(this.on("navOpenChange",this._onNavOpenChange,this));
this.addHandle(this.on("responsiveActiveChange",this._onResponsiveActiveChange,this));this.addHandle(this._subnavWrapper.delegate("click",this._onExpandoClick,".zsg-nav-sub-expando, .zsg-nav-sub-hellip",this));
},freeze:function(){this.removeHandles();if(this._subnavWrapper){this._subnavWrapper.removeClass("zsg-nav-sub_responsive");
this._subnavWrapper.all(".zsg-nav-sub-hellip").remove();this._subnavWrapper.all(".zsg-nav-sub-expando").remove();
this._subnavWrapper.all(".zsg-nav-sub_responsive-active").removeClass("zsg-nav-sub_responsive-active");
this._subnavWrapper.all(".zsg-nav-sub_responsive-opened").removeClass("zsg-nav-sub_responsive-opened");
this._subnavWrapper.all(".zsg-nav-sub_responsive-closed").removeClass("zsg-nav-sub_responsive-closed");
}if(this._secondaryNavWrapper){this._secondaryNavWrapper.remove();}if(this._tertiaryNavWrapper){this._tertiaryNavWrapper.remove();
}this._subnavWrapper=null;this._secondaryNav=null;this._secondaryNavWrapper=null;this._tertiaryNav=null;
this._tertiaryNavWrapper=null;},_renderSubnavUI:function(c,e,d,b){this[b]=c.getStyle("height");c.wrap('<div class="'+d+'" />');
this[e]=c.ancestor("."+d);this._setHeight(this[e],this[b]).append(this._hellipNode);},_secondaryOverflowHeight:function(){if(this._overflowHeight(this._secondaryNav.getStyle("height"),this._secondaryNavHeight)){this._secondaryNavWrapper.addClass("zsg-nav-sub_responsive-active");
return true;}else{this._secondaryNavWrapper.removeClass("zsg-nav-sub_responsive-active").removeClass("zsg-nav-sub_responsive-closed").removeClass("zsg-nav-sub_responsive-opened");
return false;}},_tertiaryOverflowHeight:function(){if(this._overflowHeight(this._tertiaryNav.getStyle("height"),this._tertiaryNavHeight)){this._tertiaryNavWrapper.addClass("zsg-nav-sub_responsive-active");
return true;}else{this._tertiaryNavWrapper.removeClass("zsg-nav-sub_responsive-active").removeClass("zsg-nav-sub_responsive-closed").removeClass("zsg-nav-sub_responsive-opened");
return false;}},_overflowHeight:function(c,b){if(parseInt(c,10)>parseInt(b,10)){return true;}else{return false;
}},_onResponsiveActiveChange:function(){if(this.get("navOpen")){this._openNav();}else{this.set("navOpen",false);
}},_onNavOpenChange:function(b){if(b.newVal){this._openNav();}else{this._closeNav();}},_onExpandoClick:function(b){b.preventDefault();
this.set("navOpen",!this.get("navOpen"));},_openNav:function(){this._subnavWrapper.all(".zsg-nav-sub_responsive-active").removeClass("zsg-nav-sub_responsive-closed").addClass("zsg-nav-sub_responsive-opened");
if(this._secondaryNavWrapper){this._setHeight(this._secondaryNavWrapper,this._secondaryNav.getStyle("height"));
}if(this._tertiaryNavWrapper){this._setHeight(this._tertiaryNavWrapper,this._tertiaryNav.getStyle("height"));
}},_closeNav:function(){this._subnavWrapper.all(".zsg-nav-sub_responsive-active").removeClass("zsg-nav-sub_responsive-opened").addClass("zsg-nav-sub_responsive-closed");
if(this._secondaryNavWrapper){this._setHeight(this._secondaryNavWrapper,this._secondaryNavHeight);}if(this._tertiaryNavWrapper){this._setHeight(this._tertiaryNavWrapper,this._tertiaryNavHeight);
}},_setHeight:function(c,b){return c.setStyle("height",b);}},{NAME:"zsgResponsiveSubnav",ATTRS:{navOpen:{value:false},responsiveActive:{value:null}}});
});